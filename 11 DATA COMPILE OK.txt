
#include <Wire.h>
#include <RTClib.h>
#include <IRremote.h>
#include <OneWire.h>
#include <DallasTemperature.h>
#include <MD_Parola.h>
#include <MD_MAX72xx.h>
#include <SPI.h>
// ==========================================

// ✅ Comment this line for GENERAL mode

//#define USE_FIROJ_DISPLAY //COMENT FOR JENERAL MODE   
// ==========================================

// XOR encoding (binary file à¦ original values hide à¦¹à¦¬à§‡)
#define XOR_KEY_1 0x74EBD8AB  // DAMMY CODE Chip ID à¦à¦° à¦œà¦¨à§à¦¯
#define XOR_KEY_2 0x9A2F51  // DAMMY CODE Device ID à¦à¦° à¦œà¦¨à§à¦¯

// PLACE HERE FOUND ORIGINAL CODE 

#define AUTHORIZED_CHIP_ID    (11390260^ XOR_KEY_1)// ORIGINAL CODE PLACE HERE
#define AUTHORIZED_DEVICE_ID_ENCODED  (0xADCD34^ XOR_KEY_2)//ORIGINAL CODE PLACE HERE

bool systemAuthorized = false;

//*********************************************************************

// 24C512 EEPROM I2C address (typically 0x50)
#define EEPROM_I2C_ADDRESS 0x57  //FOR DS32 MODULE EEOROM ADDRESS

RTC_DS3231 rtc;


// =====================================================================
// à¦¹à¦¿à¦œà¦°à¦¿ à¦¡à§‡à¦Ÿ à¦•à¦¨à¦­à¦¾à¦°à§à¦¶à¦¨ à¦®à¦¡à¦¿à¦‰à¦² - à§¨à§¦à§¨à§« à¦¸à¦¾à¦²
// =====================================================================

// à¦¹à¦¿à¦œà¦°à¦¿ à¦®à¦¾à¦¸ à¦¨à¦¾à¦®à§à¦¬à¦¾à¦°
#define HIJRI_MUHARRAM    1
#define HIJRI_SAFAR       2
#define HIJRI_RABIULAWAL  3
#define HIJRI_RABIULAKHIR 4
#define HIJRI_JAMADILAWAL 5
#define HIJRI_JAMADILAKHIR 6
#define HIJRI_REJAB       7
#define HIJRI_SYAABAN     8
#define HIJRI_RAMADAN     9
#define HIJRI_SYAWAL      10
#define HIJRI_ZULKAEDAH   11
#define HIJRI_ZULHIJJAH   12

// à¦¹à¦¿à¦œà¦°à¦¿ à¦¬à¦›à¦°
#define HIJRI_YEAR_1445   1445
#define HIJRI_YEAR_1446   1446
#define HIJRI_YEAR_1447   1447
#define HIJRI_YEAR_1448   1448

// à¦¹à¦¿à¦œà¦°à¦¿ à¦¡à§‡à¦Ÿ à¦¸à§à¦Ÿà§à¦°à¦¾à¦•à¦šà¦¾à¦°
struct HijriDate2025 {
  int day;
  int month;
  int year;
};
// === TIME STRUCTURE FOR 366-DAY FLASH DATA ===
struct TimeData {
  uint8_t hour;
  uint8_t minute;
};


// *** CHANGE TO EXTERNAL 24C512 EEPROM ***
// Using FREE SPACE (1-7, 23-30) to avoid conflicts with existing alarms (8-22)
#define EXTERNAL_JUMMA_START_HOUR 1       // jummaStartHour
#define EXTERNAL_JUMMA_START_MINUTE 2     // jummaStartMinute  
#define EXTERNAL_JUMMA_END_HOUR 3         // jummaEndHour
#define EXTERNAL_JUMMA_END_MINUTE 4       // jummaEndMinute

#define EXTERNAL_JAWAL_HOUR 31             // jawalHour
#define EXTERNAL_JAWAL_MINUTE 32          // jawalMinute
#define EXTERNAL_SEHARI_HOUR 24           // sehariHour
#define EXTERNAL_SEHARI_MINUTE 25         // sehariMinute
#define EXTERNAL_IFTAR_HOUR 26            // iftarHour
#define EXTERNAL_IFTAR_MINUTE 27          // iftarMinute
#define EXTERNAL_IDD_HOUR 28              // iddHour
#define EXTERNAL_IDD_MINUTE 29            // iddMinute
#define EXTERNAL_ROJA_COUNTER 30          // rojaCounter

//***************change external end*****************************

#define LAST_EDIT_FIELD_ADDR 0   // Store last edit field position
// FIXED ADDRESSES (1 day only) for OTHER ALARMS
#define ALARM1_START_ADDR 8      // FAJAR START (2 bytes)
#define ALARM1_END_ADDR 10       // FAJAR END (2 bytes)
#define ALARM3_START_ADDR 12     // JOHOR START (2 bytes)
#define ALARM3_END_ADDR 14       // JOHOR END (2 bytes)
#define ALARM5_START_ADDR 16     // ASAR START (2 bytes)
#define ALARM5_END_ADDR 18       // ASAR END (2 bytes)
#define ALARM9_START_ADDR 20     // ESHA START (2 bytes)
#define ALARM9_END_ADDR 22       // ESHA END (2 bytes)
// ADDRESS 23 RESERVE FOR ESHA END MINUTE


#define EXTERNAL_TAHAJUD_HOUR 32           // tahajudHour
#define EXTERNAL_TAHAJUD_MINUTE 33         // tahajudMinute
#define EXTERNAL_ISHRAK_HOUR 34            // ishrakHour
#define EXTERNAL_ISHRAK_MINUTE 35          // ishrakMinute
#define EXTERNAL_TINBAZ_TEN 36            // tinbazTen (0-99)
#define EXTERNAL_TINBAZ_UNIT_HIGH 37      // tinbazUnit high byte
#define EXTERNAL_TINBAZ_UNIT_LOW 38       // tinbazUnit low byte

// âœ… HIJRI EDITABLE - EEPROM ADDRESS
#define EXTERNAL_HIJRI_DAY 60             // hijriEditDay (1-30)
#define EXTERNAL_HIJRI_MONTH 61           // hijriEditMonth (1-12)
#define EXTERNAL_HIJRI_YEAR_HIGH 62       // hijriEditYear high byte
#define EXTERNAL_HIJRI_YEAR_LOW 63        // hijriEditYear low byte
// âœ… HIJRI REFERENCE DATE - EEPROM ADDRESS
#define EXTERNAL_HIJRI_REF_DAY 64         // Reference English Day (1-31)
#define EXTERNAL_HIJRI_REF_MONTH 65       // Reference English Month (1-12)
#define EXTERNAL_HIJRI_REF_YEAR 66        // Reference English Year (0-99, represents 2000-2099)
// Hijri Month Days EEPROM Addresses (12 months: 29 or 30 days)
#define EXTERNAL_HIJRI_M1_DAYS 67   // Muharram
#define EXTERNAL_HIJRI_M2_DAYS 68   // Safar
#define EXTERNAL_HIJRI_M3_DAYS 69   // Rabi-ul-Awal
#define EXTERNAL_HIJRI_M4_DAYS 70   // Rabi-us-Sani
#define EXTERNAL_HIJRI_M5_DAYS 71   // Jamadi-ul-Awal
#define EXTERNAL_HIJRI_M6_DAYS 72   // Jamadi-us-Sani
#define EXTERNAL_HIJRI_M7_DAYS 73   // Rajab
#define EXTERNAL_HIJRI_M8_DAYS 74   // Shaban
#define EXTERNAL_HIJRI_M9_DAYS 75   // Ramadan
#define EXTERNAL_HIJRI_M10_DAYS 76  // Shawwal
#define EXTERNAL_HIJRI_M11_DAYS 77  // Zul-Qadah
#define EXTERNAL_HIJRI_M12_DAYS 78  // Zul-Hijjah

// DATE-WISE ADDRESSES (366 days) for MAGRIB ONLY
#define MAGRIB_START_ADDR 100    // MAGRIB START (366 * 2 = 732 bytes)
#define MAGRIB_END_ADDR 830      // MAGRIB END (366 * 2 = 732 bytes)
#define TULU_START_ADDR 1660     // TULU à¦¶à§à¦°à§
#define TULU_END_ADDR 2389       // TULU à¦¶à§‡à¦· (1660 + 732 - 1)
//**************************************************************************
const int dataPin = 5;
const int clockPin = 18;
const int strobePin = 19;

//****************************************************
const int menuPin = 14;
const int incPin = 15;
const int decPin = 14;
const int leftPin = 15;
//const int leftPin = 2;extra
//const int leftPin = 34;extra
//const int leftPin = 35;extra
//**************************************************
const int alarmLEDPin = 12;
const int pmLEDPin = 13;
const int alarmLED2Pin = 23;  // à¦¨à¦¤à§à¦¨ LED2 pin 23
const int alarmLED3Pin = 33;  // à¦¨à¦¤à§à¦¨ LED3 pin 33
//SDA 21,//SCL22
#define IR_RECEIVE_PIN 4 // IR receiver pin
//const int TEM P_SENSOR_PIN = 32;/36
// MAX7219 DOT MATRIX pins

//"OneWire" temperature sensor************************************

 //do not iuse pin (34)or 35 pin //32,33,25,26 may use
// pin 34 input sensor or sw input no digital out put

#define ONE_WIRE_BUS 32  // DS18B20 data pin
#define TEMPERATURE_PRECISION 12  // â† ADD this line
OneWire oneWire(ONE_WIRE_BUS);
DallasTemperature sensors(&oneWire);
//***************************************************
//****************************************************
// ==========================================
// DOT MATRIX SCROLLING VARIABLES start
// ==========================================
// DOT MATRIX SCROLLING VARIABLES
static unsigned long lastScrollUpdate = 0;
static unsigned long lastCycleChange = 0;
static int scrollPixelPosition = 0;
static int displayCycle = 0;
static char textBuffer[60] = "";
static int textLength = 0;
static byte scrollBuffer[8][64];  // 8 rows Ã— 64 columns buffer

#define SCROLL_SPEED 350           // Very smooth (50ms per pixel)
#define CYCLE_DURATION 10000
#define CHAR_WIDTH 6
// DOT MATRIX SCROLLING VARIABLES end 
// DOT MATRIX Configuration - MD_Parola
#define HARDWARE_TYPE MD_MAX72XX::FC16_HW
#define MAX_DEVICES 4
const int DIN_PIN = 25;    // DATA pin
const int CS_PIN = 27;     // Chip Select pin  
const int CLK_PIN = 26;    // Clock pin
#define DISPLAY_BRIGHTNESS 8    // Range: 0-15

MD_Parola matrix = MD_Parola(HARDWARE_TYPE, DIN_PIN, CLK_PIN, CS_PIN, MAX_DEVICES);
// MAX7219 Register addresses
#define REG_NOOP        0x00
#define REG_DIGIT0      0x01
#define REG_DIGIT1      0x02
#define REG_DIGIT2      0x03
#define REG_DIGIT3      0x04
#define REG_DIGIT4      0x05
#define REG_DIGIT5      0x06
#define REG_DIGIT6      0x07
#define REG_DECODEMODE  0x09
#define REG_INTENSITY   0x0A
#define REG_SCANLIMIT   0x0B
#define REG_SHUTDOWN    0x0C
#define REG_DISPLAYTEST 0x0F

// ==========================================
// 5x7 Letter Patterns - ALL 7 ROWS USED
// ==========================================
byte letterA[7] = { 0x0E, 0x11, 0x11, 0x1F, 0x11, 0x11, 0x11 };  // A (7 rows ON)
byte letterB[7] = { 0x1E, 0x11, 0x11, 0x1E, 0x11, 0x11, 0x1E };  // B (Fixed)
byte letterC[7] = { 0x0E, 0x11, 0x10, 0x10, 0x10, 0x11, 0x0E };  // C
byte letterD[7] = { 0x1E, 0x11, 0x11, 0x11, 0x11, 0x11, 0x1E };  // D
byte letterE[7] = { 0x1F, 0x10, 0x10, 0x1E, 0x10, 0x10, 0x1F };  // E
byte letterF[7] = { 0x1F, 0x10, 0x10, 0x1E, 0x10, 0x10, 0x10 };  // F (7 rows ON)
byte letterG[7] = { 0x0E, 0x11, 0x10, 0x17, 0x11, 0x11, 0x0E };  // G
byte letterH[7] = { 0x11, 0x11, 0x11, 0x1F, 0x11, 0x11, 0x11 };  // H
byte letterI[7] = { 0x0E, 0x04, 0x04, 0x04, 0x04, 0x04, 0x0E };  // I
byte letterJ[7] = { 0x0F, 0x02, 0x02, 0x02, 0x02, 0x12, 0x0C };  // J
byte letterK[7] = { 0x11, 0x12, 0x14, 0x18, 0x14, 0x12, 0x11 };  // K
byte letterL[7] = { 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x1F };  // L
byte letterM[7] = { 0x11, 0x1B, 0x15, 0x15, 0x11, 0x11, 0x11 };  // M
byte letterN[7] = { 0x11, 0x19, 0x15, 0x15, 0x13, 0x11, 0x11 };  // N
byte letterO[7] = { 0x0E, 0x11, 0x11, 0x11, 0x11, 0x11, 0x0E };  // O
byte letterP[7] = { 0x1E, 0x11, 0x11, 0x1E, 0x10, 0x10, 0x10 };  // P
byte letterQ[7] = { 0x0E, 0x11, 0x11, 0x11, 0x15, 0x12, 0x0D };  // Q
byte letterR[7] = { 0x1E, 0x11, 0x11, 0x1E, 0x14, 0x12, 0x11 };  // R
byte letterS[7] = { 0x0E, 0x11, 0x10, 0x0E, 0x01, 0x11, 0x0E };  // S
byte letterT[7] = { 0x1F, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04 };  // T
byte letterU[7] = { 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x0E };  // U
byte letterV[7] = { 0x11, 0x11, 0x11, 0x11, 0x11, 0x0A, 0x04 };  // V
byte letterW[7] = { 0x11, 0x11, 0x11, 0x15, 0x15, 0x1B, 0x11 };  // W
byte letterX[7] = { 0x11, 0x11, 0x0A, 0x04, 0x0A, 0x11, 0x11 };  // X
byte letterY[7] = { 0x11, 0x11, 0x0A, 0x04, 0x04, 0x04, 0x04 };  // Y
byte letterZ[7] = { 0x1F, 0x01, 0x02, 0x04, 0x08, 0x10, 0x1F };  // Z

byte letterSPACE[7] = { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 };  // SPACE
// â† Letter Patterns à¦¶à§‡à¦·
// ==========================================
// SCROLLING TEXT DATA - Prayer Names
// ==========================================
const char* prayerNames[] = {
  "FAJAR",      // 0
  "JOHOR",      // 1
  "ASOR",       // 2
  "MAGRIB",     // 3
  "ESHA",       // 4
  "JUMMA"       // 5
};
//*****************************************

// ==========================================
// SCROLLING TEXT DATA - English Months
// ==========================================
const char* englishMonths[] = {
  "JANUARY",     // 0
  "FEBRUARY",    // 1
  "MARCH",       // 2
  "APRIL",       // 3
  "MAY",         // 4
  "JUNE",        // 5
  "JULY",        // 6
  "AUGUST",      // 7
  "SEPTEMBER",   // 8
  "OCTOBER",     // 9
  "NOVEMBER",    // 10
  "DECEMBER"     // 11
};
//*****************************************
// ==========================================
// SCROLLING TEXT DATA - Hijri Months
// ==========================================
const char* hijriMonths[] = {
  "MUHARRAM",       // 1
  "SAFAR",          // 2
  "RABIULAWAL",     // 3
  "RABIULAKHIR",    // 4
  "JAMADILAWAL",    // 5
  "JAMADILAKHIR",   // 6
  "REJAB",          // 7
  "SYAABAN",        // 8
  "RAMADAN",        // 9
  "SYAWAL",         // 10
  "ZULKAEDAH",      // 11
  "ZULHIJJAH"       // 12
};
// // SCROLLING TEXT DATA - Prayer Names,MONTH ENGLISH AND HIJRI à¦¶à§‡à¦·

// ==========================================
// ==========================================
// 7-SEGMENT DIGIT PATTERNS (0-9)
// ==========================================
#ifdef USE_FIROJ_DISPLAY
  // ✅ FIROJ Display Mode
  const byte segmentFont[10] = {
    0b11100111, 0b10000100, 0b11010011, 0b11010110, 0b10110100,  //0 to 4
    0b01110110, 0b01110111, 0b11000100, 0b11110111, 0b11110110   //5 to 9
  };
#else
  // ✅ GENERAL Display Mode
  const byte segmentFont[10] = {
    0b00111111, 0b00000110, 0b01011011, 0b01001111, 0b01100110,  //0 to 4
    0b01101101, 0b01111101, 0b00000111, 0b01111111, 0b01101111   //5 to 9
  };
#endif

// ==========================================
// DAY OF WEEK PATTERNS (Sunday to Saturday)
// ==========================================
#ifdef USE_FIROJ_DISPLAY
  // ✅ FIROJ Display Mode (Inverted)
  const byte dayOfWeekFont[7] = {
    0xFE, 0xFD, 0xFB, 0xF7, 0xEF, 0xDF, 0xBF  // Inverted (Sunday to Saturday)
  };
#else
  // ✅ GENERAL Display Mode (Normal)
  const byte dayOfWeekFont[7] = {
    0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40  // Normal (Sunday to Saturday)
  };
#endif

// *** END CUSTOM ARRAY ***






//*******************************************************************************************
byte displayBuffer[101];
int editField = -1;
int lastSavedEditField = -1;  // Track last edit field before blinking ended
unsigned long lastBlink = 0;
bool blinkState = true;
int blinkCount = 0;
bool wasBlinking = false;
bool editModeJustStarted = false;  // Flag to track if edit mode just started

// Display refresh timing variables
unsigned long lastDisplayUpdate = 0;
unsigned long lastSecond = 0;
bool displayNeedsUpdate = true;

int hour, minute, second, day, month, year, dayOfWeek;
int alarm1Hour = 5, alarm1Minute = 0;   // FAJAR START
int alarm2Hour = 6, alarm2Minute = 30;  // FAJAR END
int jummaStartHour = 12, jummaStartMinute = 30; // JUMMA START - Arduino Internal EEPROM
int jummaEndHour = 14, jummaEndMinute = 0;      // JUMMA END - Arduino Internal EEPROM
int alarm3Hour = 12, alarm3Minute = 0;  // JOHOR START
int alarm4Hour = 13, alarm4Minute = 30; // JOHOR END
int alarm5Hour = 15, alarm5Minute = 30; // ASAR START
int alarm6Hour = 17, alarm6Minute = 0;  // ASAR END
int alarm7Hour = 18, alarm7Minute = 10;  // MAGRIB START//6:10
int alarm8Hour = 19, alarm8Minute = 30;  // MAGRIB END //7:30
int alarm9Hour = 20, alarm9Minute = 0;  // ESHA START
int alarm10Hour = 22, alarm10Minute = 0; // ESHA END


// *** NEW VARIABLES - ADD HERE ***
int tuluHour = 6, tuluMinute = 31;      // TULU TIME
int jawalHour = 3, jawalMinute = 30;     // JAWAL TIME (NOW MANUAL EDITABLE)
int sehariHour = 3, sehariMinute = 45;   // SEHARI TIME  
int iftarHour = 6, iftarMinute = 30;     // IFTAR TIME
int iddHour = 8, iddMinute = 0;          // IDD TIME
int rojaCounter = 0;                     // ROJA COUNTER (0-99)
int tahajudHour = 10, tahajudMinute = 30;  // TAHAJUT TIME
int ishrakHour = 4, ishrakMinute = 15;     // ISHRAK TIME  
int chasatHour = 6, chasatMinute = 45;     // CHASAT TIME (NEW)
int tinbazTen = 12, tinbazUnit = 345;    // TINBAZ (99:999)
// âœ… HIJRI EDITABLE VARIABLES (à¦¨à¦¤à§à¦¨)
int hijriEditDay = 1, hijriEditMonth = 1, hijriEditYear = 1447;



int hijriDaysEditField = 0;  // ✅ ADD THIS: 0=Month, 1=Days

// âœ… HIJRI REFERENCE DATE VARIABLES
int hijriRefDay = 1, hijriRefMonth = 1, hijriRefYear = 25;  // Default: 1 Jan 2025
bool hijriAutoMode = true;  // true = auto calculate, false = use saved manual value
int hijriMonthDaysTemp = 30;  // Temporary variable for editing month days (29/30)
bool hijriDaysEditMode = false;  // Flag: true when editing month days


// === GLOBAL OFFSET VARIABLES ===
int tuluOffset = 0;           // Track TULU offset (+/-)
int magribStartOffset = 0;    // Track MAGRIB START offset (+/-)
int magribEndOffset = 0;      // Track MAGRIB END offset (+/-)
bool applyingOffset = false;  // Flag for EEPROM write in progress

// === FORWARD DECLARATION OF 366-DAY FLASH ARRAYS ===
// Arrays are defined at the end of file

extern const TimeData SEHARI_FLASH_DATA[366] PROGMEM; //1 SEHARI  OR FOJOR
extern const TimeData TULU_FLASH_DATA[366] PROGMEM; //2 TULU
extern const TimeData ISHRAK_FLASH_DATA[366] PROGMEM; //3
extern const TimeData CHASAT_FLASH_DATA[366] PROGMEM; //4 
extern const TimeData JAWAL_FLASH_DATA[366] PROGMEM;  //5
extern const TimeData JOHOR_FLASH_DATA[366] PROGMEM;//6  
extern const TimeData ASOR_START_FLASH_DATA[366] PROGMEM;  //7 ASOR_START
extern const TimeData ASOR_END_FLASH_DATA[366] PROGMEM; //8 ASOR_END
extern const TimeData IFTAR_FLASH_DATA[366] PROGMEM;  //9 IFTAR OR MAGRIB
extern const TimeData ESHA_FLASH_DATA[366] PROGMEM;  //10
extern const TimeData TAHAJUD_FLASH_DATA[366] PROGMEM;  //11




bool alarmTriggered = false;
int activeAlarm = 0;
unsigned long alarmDisplayStart = 0;
bool alarmTimeDisplayActive = false;
int triggerDay = 0; // Store the day when alarm was triggered
int currentNamazRange = 0; // Track which namaz range is active

// *** ADD NEW VARIABLES FOR 10-SECOND ALARM ***
bool alarmActive = false;
unsigned long alarmStartTime = 0;

// *** ADD NEW VARIABLES FOR 30-SECOND WARNING LED ***
// === Variables for LED2 (START times) ===
static bool led2Active = false;
static bool led2Done = false;
static int led2DoneHour = -1;
static int led2DoneMinute = -1;

// === Variables for LED3 (END times) ===
static bool led3Active = false;
static bool led3Done = false;
static int led3DoneHour = -1;
static int led3DoneMinute = -1;
// === Variables for Buzzer (5 sec before LED ends) ===
static bool buzzerActive = false;
static unsigned long buzzerStartTime = 0;
// *** END NEW VARIABLES ***// *** Buffer Blinking Variables ***
unsigned long lastBufferBlink = 0;
bool bufferBlinkState = true;
byte savedBuffer6to9[4] = {0, 0, 0, 0};
byte savedBuffer10to13[4] = {0, 0, 0, 0};



// *** TEMPERATURE SENSOR VARIABLES - ADD HERE ***
//LM35
// one wire temperature sensor*****************************
// *** DS18B20 Temperature Variables ***
float temperature = 0.0;
unsigned long lastTempRead = 0;


// ============================================================
// IR remote progressive speed control variables - ADD THESE
// ============================================================
static unsigned long lastIrMenuTime = 0;
static unsigned long lastIrIncTime = 0;
static unsigned long lastIrDecTime = 0;
static unsigned long lastIrLeftTime = 0;
// à¦¯à§‹à¦— à¦•à¦°à§à¦¨ à¦à¦‡ 3 à¦²à¦¾à¦‡à¦¨:
static unsigned long lastIr12Time = 0;
static unsigned long lastIr91Time = 0;
static unsigned long lastIr76Time = 0;

#define IR_INITIAL_DELAY 200    // : slow speed (500ms)

// *** END TEMPERATURE VARIABLES ***

// Function to save last edit field position to EEPROM
void saveLastEditField(int field) {
  writeEEPROM(EEPROM_I2C_ADDRESS, LAST_EDIT_FIELD_ADDR, (byte)field);
}

// Function to read last edit field position from EEPROM
int readLastEditField() {
  byte field = readEEPROM(EEPROM_I2C_ADDRESS, LAST_EDIT_FIELD_ADDR);

  if (field == 0xFF || field > 56) return 0; // Changed from 0 to 56
    return (int)field;
}
// 57 fields total (0-56): 
// 0-6: Time/Date (7)
// 7-30: Alarms (24) 
// 31-32: TULU (2)
// 39-40: IDD (2)
// 50-52: HIJRI (3)
// 53-56: TINBAZ (4)
// =============XOR FUNCTION CHECK START=============================
// ðŸ”’ DUAL XOR HARDWARE VERIFICATION FUNCTION
// ==========================================
bool verifyHardware() {
  Serial.println("\n--- Mosque System Protection Check ---");
  
  // 1. Check Chip ID (XOR-1 protected)
  uint32_t currentChipId = 0;
  for(int i=0; i<17; i=i+8) {
    currentChipId |= ((ESP.getEfuseMac() >> (40 - i)) & 0xff) << i;
  }
  
  Serial.println("Current Chip ID: " + String(currentChipId));
  Serial.println("Expected Chip ID: " + String(AUTHORIZED_CHIP_ID ^ XOR_KEY_1));
  
  if (currentChipId != (AUTHORIZED_CHIP_ID ^ XOR_KEY_1)) {
    Serial.println("âœ— UNAUTHORIZED CHIP DETECTED!");
    Serial.println("âœ— XOR-1 verification failed!");
    return false;
  }
  Serial.println("âœ“ XOR-1 Chip ID verified");
  
  // 2. Check Device ID (XOR-2 protected)
  String currentDeviceId = String(currentChipId, HEX);
  currentDeviceId.toUpperCase();
  uint32_t currentDeviceIdNum = strtoul(currentDeviceId.c_str(), NULL, 16);
  
  // XOR-2 decode à¦•à¦°à§‡ check à¦•à¦°à§à¦¨
  uint32_t authorizedDeviceId = AUTHORIZED_DEVICE_ID_ENCODED ^ XOR_KEY_2;
  
  Serial.println("Current Device ID: " + currentDeviceId);
  Serial.println("Expected Device ID: " + String(authorizedDeviceId, HEX));
  
  if (currentDeviceIdNum != authorizedDeviceId) {
    Serial.println("âœ— UNAUTHORIZED DEVICE DETECTED!");
    Serial.println("âœ— XOR-2 verification failed!");
    return false;
  }
  Serial.println("âœ“ XOR-2 Device ID verified");
  
  // Success - Both XOR protections passed
  Serial.println("Free Heap: " + String(ESP.getFreeHeap()) + " bytes");
  Serial.println("âœ“ DUAL XOR MOSQUE SYSTEM AUTHORIZED!");
  Serial.println("âœ“ MOSQUE SYSTEM HARDWARE AUTHORIZED!");
  
  return true;
}
//******************XOR FUNCTION CHECK END ****************************************
//***************change to external start 1 ************************
void saveJummaToInternalEEPROM() {
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_JUMMA_START_HOUR, jummaStartHour);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_JUMMA_START_MINUTE, jummaStartMinute);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_JUMMA_END_HOUR, jummaEndHour);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_JUMMA_END_MINUTE, jummaEndMinute);

  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_JAWAL_HOUR, jawalHour);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_JAWAL_MINUTE, jawalMinute);
  //**************************************************************************
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_IDD_HOUR, iddHour);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_IDD_MINUTE, iddMinute);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_ROJA_COUNTER, rojaCounter);
 
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_TINBAZ_TEN, tinbazTen);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_TINBAZ_UNIT_HIGH, tinbazUnit / 256);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_TINBAZ_UNIT_LOW, tinbazUnit % 256);

  // âœ… HIJRI EDITABLE - SAVE
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_DAY, hijriEditDay);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_MONTH, hijriEditMonth);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_YEAR_HIGH, hijriEditYear / 256);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_YEAR_LOW, hijriEditYear % 256);
  // âœ… HIJRI REFERENCE DATE - SAVE (current English date as reference)
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_REF_DAY, day);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_REF_MONTH, month);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_REF_YEAR, year);

  // TULU DATE-WISE SAVE à¦¯à§‹à¦— à¦•à¦°à§à¦¨ à¦à¦–à¦¾à¦¨à§‡:
  int dayOfYear = getDayOfYear(day, month, 2000 + year);
  if (dayOfYear >= 1 && dayOfYear <= 366) {
    int tuluAddr = TULU_START_ADDR + (dayOfYear - 1) * 2;
    writeEEPROM(EEPROM_I2C_ADDRESS, tuluAddr, tuluHour);
    writeEEPROM(EEPROM_I2C_ADDRESS, tuluAddr + 1, tuluMinute);
  }
// Hijri Month Days Save (only when in days edit mode)
  if (hijriDaysEditMode && hijriEditMonth >= 1 && hijriEditMonth <= 12) {
    int addr = EXTERNAL_HIJRI_M1_DAYS + (hijriEditMonth - 1);
    writeEEPROM(EEPROM_I2C_ADDRESS, addr, hijriMonthDaysTemp);
  }


}
//***************change to external end 1************************


//***************change to external start 2 ************************
void loadJummaFromInternalEEPROM() {
  byte startH = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_JUMMA_START_HOUR);
  byte startM = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_JUMMA_START_MINUTE);
  byte endH = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_JUMMA_END_HOUR);
  byte endM = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_JUMMA_END_MINUTE);

  byte jawalH = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_JAWAL_HOUR);
  byte jawalM = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_JAWAL_MINUTE);
  
  byte iddH = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_IDD_HOUR);
  byte iddM = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_IDD_MINUTE);
  byte roja = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_ROJA_COUNTER);
 
  byte tinbazT = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_TINBAZ_TEN);
  byte tinbazUH = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_TINBAZ_UNIT_HIGH);
  byte tinbazUL = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_TINBAZ_UNIT_LOW);

  // âœ… HIJRI EDITABLE - READ
  byte hijriD = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_DAY);
  byte hijriM = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_MONTH);
  byte hijriYH = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_YEAR_HIGH);
  byte hijriYL = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_YEAR_LOW);
  // âœ… HIJRI REFERENCE DATE - READ
  byte hijriRefD = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_REF_DAY);
  byte hijriRefM = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_REF_MONTH);
  byte hijriRefY = readEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_REF_YEAR);

  //***************change to external end 2************************
  // Validate and set defaults if invalid


  if (startH == 0xFF || startH < 1 || startH > 12) jummaStartHour = 12; else jummaStartHour = startH;
  if (startM == 0xFF || startM > 59) jummaStartMinute = 30; else jummaStartMinute = startM;
  if (endH == 0xFF || endH < 1 || endH > 12) jummaEndHour = 2; else jummaEndHour = endH;
  if (endM == 0xFF || endM > 59) jummaEndMinute = 0; else jummaEndMinute = endM;

// Validate and set defaults for new values
  //if (tuluH == 0xFF || tuluH < 1 || tuluH > 12) tuluHour = 6; else tuluHour = tuluH;
  //if (tuluM == 0xFF || tuluM > 59) tuluMinute = 31; else tuluMinute = tuluM;
  
  if (jawalH == 0xFF || jawalH < 1 || jawalH > 12) jawalHour = 3; else jawalHour = jawalH;
  if (jawalM == 0xFF || jawalM > 59) jawalMinute = 30; else jawalMinute = jawalM;
  
  if (iddH == 0xFF || iddH < 1 || iddH > 9) iddHour = 8; else iddHour = iddH;
  if (iddM == 0xFF || iddM > 59) iddMinute = 0; else iddMinute = iddM;
  if (roja == 0xFF || roja > 99) rojaCounter = 0; else rojaCounter = roja;
  
  
  // TINBAZ Validation
  int tinbazUnitTemp = (tinbazUH * 256) + tinbazUL;
  if (tinbazT == 0xFF || tinbazT > 99) tinbazTen = 12; else tinbazTen = tinbazT;
  if (tinbazUnitTemp == 0xFFFF || tinbazUnitTemp > 999) tinbazUnit = 345; else tinbazUnit = tinbazUnitTemp;

// âœ… HIJRI Validation
  int hijriYearTemp = (hijriYH * 256) + hijriYL;
  if (hijriD == 0xFF || hijriD < 1 || hijriD > 30) hijriEditDay = 1; else hijriEditDay = hijriD;
  if (hijriM == 0xFF || hijriM < 1 || hijriM > 12) hijriEditMonth = 1; else hijriEditMonth = hijriM;
  if (hijriYearTemp == 0xFFFF || hijriYearTemp < 1400 || hijriYearTemp > 1500) hijriEditYear = 1447; else hijriEditYear = hijriYearTemp;
// âœ… HIJRI REFERENCE DATE Validation
  if (hijriRefD == 0xFF || hijriRefD < 1 || hijriRefD > 31) hijriRefDay = 1; else hijriRefDay = hijriRefD;
  if (hijriRefM == 0xFF || hijriRefM < 1 || hijriRefM > 12) hijriRefMonth = 1; else hijriRefMonth = hijriRefM;
  if (hijriRefY == 0xFF || hijriRefY > 99) hijriRefYear = 25; else hijriRefYear = hijriRefY;
  
  //**********************************************

  // Initialize Hijri Month Days in EEPROM if not set
  for (int m = 1; m <= 12; m++) {
    int addr = EXTERNAL_HIJRI_M1_DAYS + (m - 1);
    byte days = readEEPROM(EEPROM_I2C_ADDRESS, addr);
    if (days != 29 && days != 30) {
      // Set default: Odd months = 30, Even months = 29
      if (m % 2 == 1) {
        writeEEPROM(EEPROM_I2C_ADDRESS, addr, 30);
      } else {
        writeEEPROM(EEPROM_I2C_ADDRESS, addr, 29);
      }
    }
  }

// STEP 3: Power-On Check - Calculate difference and increment Hijri
  int daysDiff = calculateDaysDifference(hijriRefDay, hijriRefMonth, hijriRefYear, day, month, year);
  
  if (daysDiff > 0) {
    // Add difference days to Hijri
    addDaysToHijri(daysDiff);
    
    // Save all dates (English Backup + Hijri)
    saveDateBackup();
  }

}


//*************FLASH DATA START ****************************
// === LOAD 366-DAY DATA FROM FLASH MEMORY ===
void loadFlashDataForDay(int dayOfYear) {
  // Validate day range (1-366)
  if (dayOfYear < 1 || dayOfYear > 366) {
    dayOfYear = 1;
  }
  
  // === SMART INDEX MAPPING (Leap + Non-Leap Year) ===
  int flashIndex;
  
  if (isLeapYear(2000 + year)) {
    // Leap Year: Direct mapping (1-366)
    flashIndex = dayOfYear - 1;
  } else {
    // Non-Leap Year: Adjust for missing Feb 29
    if (dayOfYear <= 59) {
      // Jan 1 - Feb 28: Direct mapping
      flashIndex = dayOfYear - 1;
    } else {
      // Mar 1 - Dec 31: Skip Feb 29 slot
      flashIndex = dayOfYear;
    }
    
    // Safety check
    if (flashIndex > 366) {
      flashIndex = 366;
    }
  }
  
  // === READ FROM FLASH ===
  // JAWAL
  TimeData jawalData;
  memcpy_P(&jawalData, &JAWAL_FLASH_DATA[flashIndex], sizeof(TimeData));
  jawalHour = jawalData.hour;
  jawalMinute = jawalData.minute;
  
  // SEHARI
  TimeData sehariData;
  memcpy_P(&sehariData, &SEHARI_FLASH_DATA[flashIndex], sizeof(TimeData));
  sehariHour = sehariData.hour;
  sehariMinute = sehariData.minute;
  
  // IFTAR
  TimeData iftarData;
  memcpy_P(&iftarData, &IFTAR_FLASH_DATA[flashIndex], sizeof(TimeData));
  iftarHour = iftarData.hour;
  iftarMinute = iftarData.minute;
  
  // TAHAJUD
  TimeData tahajudData;
  memcpy_P(&tahajudData, &TAHAJUD_FLASH_DATA[flashIndex], sizeof(TimeData));
  tahajudHour = tahajudData.hour;
  tahajudMinute = tahajudData.minute;
  
  // ISHRAK
  TimeData ishrakData;
 memcpy_P(&ishrakData, &ISHRAK_FLASH_DATA[flashIndex], sizeof(TimeData));
 ishrakHour = ishrakData.hour;
  ishrakMinute = ishrakData.minute;

  // CHASAT (NEW) 
TimeData chasatData;
memcpy_P(&chasatData, &CHASAT_FLASH_DATA[flashIndex], sizeof(TimeData));
chasatHour = chasatData.hour;
chasatMinute = chasatData.minute;
}
//***************************************


//**************FLASH DATA END******************************
// EEPROM Functions for 24C512 (Enhanced)
void writeEEPROM(int deviceaddress, unsigned int eeaddress, byte data) {
  Wire.beginTransmission(deviceaddress);
  Wire.write((int)(eeaddress >> 8)); // MSB
  Wire.write((int)(eeaddress & 0xFF)); // LSB
  Wire.write(data);
  Wire.endTransmission();
  delay(10); // 24C512 needs longer delay
}

byte readEEPROM(int deviceaddress, unsigned int eeaddress) {
  byte rdata = 0xFF;
  Wire.beginTransmission(deviceaddress);
  Wire.write((int)(eeaddress >> 8)); // MSB
  Wire.write((int)(eeaddress & 0xFF)); // LSB
  Wire.endTransmission();
  Wire.requestFrom(deviceaddress, 1);
  if (Wire.available()) rdata = Wire.read();
  return rdata;
}
//*****************modify1**start ******************************
// Function to read alarm data - FIXED alarms + DATE-WISE magrib only
void readDayAlarmFromEEPROM(int dayOfYear, int &alarm1H, int &alarm1M, int &alarm2H, int &alarm2M, 
                           int &alarm3H, int &alarm3M, int &alarm4H, int &alarm4M,
                           int &alarm5H, int &alarm5M, int &alarm6H, int &alarm6M,
                           int &alarm7H, int &alarm7M, int &alarm8H, int &alarm8M,
                           int &alarm9H, int &alarm9M, int &alarm10H, int &alarm10M) {
  
  // Read FIXED alarms (1 day only) - same value every day
  alarm1H = readEEPROM(EEPROM_I2C_ADDRESS, ALARM1_START_ADDR);
  alarm1M = readEEPROM(EEPROM_I2C_ADDRESS, ALARM1_START_ADDR + 1);
  alarm2H = readEEPROM(EEPROM_I2C_ADDRESS, ALARM1_END_ADDR);
  alarm2M = readEEPROM(EEPROM_I2C_ADDRESS, ALARM1_END_ADDR + 1);
  
  alarm3H = readEEPROM(EEPROM_I2C_ADDRESS, ALARM3_START_ADDR);
  alarm3M = readEEPROM(EEPROM_I2C_ADDRESS, ALARM3_START_ADDR + 1);
  alarm4H = readEEPROM(EEPROM_I2C_ADDRESS, ALARM3_END_ADDR);
  alarm4M = readEEPROM(EEPROM_I2C_ADDRESS, ALARM3_END_ADDR + 1);
  
  alarm5H = readEEPROM(EEPROM_I2C_ADDRESS, ALARM5_START_ADDR);
  alarm5M = readEEPROM(EEPROM_I2C_ADDRESS, ALARM5_START_ADDR + 1);
  alarm6H = readEEPROM(EEPROM_I2C_ADDRESS, ALARM5_END_ADDR);
  alarm6M = readEEPROM(EEPROM_I2C_ADDRESS, ALARM5_END_ADDR + 1);
  
  alarm9H = readEEPROM(EEPROM_I2C_ADDRESS, ALARM9_START_ADDR);
  alarm9M = readEEPROM(EEPROM_I2C_ADDRESS, ALARM9_START_ADDR + 1);
  alarm10H = readEEPROM(EEPROM_I2C_ADDRESS, ALARM9_END_ADDR);
  alarm10M = readEEPROM(EEPROM_I2C_ADDRESS, ALARM9_END_ADDR + 1);

  // Read MAGRIB alarms (date-wise) - different value each day
  if (dayOfYear < 1 || dayOfYear > 366) {
    alarm7H = 6; alarm7M = 0;    // Default MAGRIB START
    alarm8H = 7; alarm8M = 0;    // Default MAGRIB END
  } else {
    int magribStartAddr = MAGRIB_START_ADDR + (dayOfYear - 1) * 2;
    int magribEndAddr = MAGRIB_END_ADDR + (dayOfYear - 1) * 2;
    
    alarm7H = readEEPROM(EEPROM_I2C_ADDRESS, magribStartAddr);
    alarm7M = readEEPROM(EEPROM_I2C_ADDRESS, magribStartAddr + 1);
    alarm8H = readEEPROM(EEPROM_I2C_ADDRESS, magribEndAddr);
    alarm8M = readEEPROM(EEPROM_I2C_ADDRESS, magribEndAddr + 1);
  }// â˜…â˜…â˜… à¦à¦–à¦¾à¦¨à§‡ TULU READ à¦¯à§‹à¦— à¦•à¦°à§à¦¨ â˜…â˜…â˜…
// Read TULU (date-wise) - different value each day
if (dayOfYear >= 1 && dayOfYear <= 366) {
  int tuluAddr = TULU_START_ADDR + (dayOfYear - 1) * 2;
  tuluHour = readEEPROM(EEPROM_I2C_ADDRESS, tuluAddr);
  tuluMinute = readEEPROM(EEPROM_I2C_ADDRESS, tuluAddr + 1);
  
  // Validate TULU and set defaults if invalid
  if (tuluHour == 0xFF || tuluHour < 1 || tuluHour > 12) tuluHour = 6;
  if (tuluMinute == 0xFF || tuluMinute > 59) tuluMinute = 31;
}

  // Validate all alarms and set defaults if invalid
  if (alarm1H == 0xFF || alarm1H < 1 || alarm1H > 12) alarm1H = 5;
  if (alarm1M == 0xFF || alarm1M > 59) alarm1M = 0;
  if (alarm2H == 0xFF || alarm2H < 1 || alarm2H > 12) alarm2H = 6;
  if (alarm2M == 0xFF || alarm2M > 59) alarm2M = 30;
  if (alarm3H == 0xFF || alarm3H < 1 || alarm3H > 12) alarm3H = 12;
  if (alarm3M == 0xFF || alarm3M > 59) alarm3M = 0;
  if (alarm4H == 0xFF || alarm4H < 1 || alarm4H > 12) alarm4H = 1;
  if (alarm4M == 0xFF || alarm4M > 59) alarm4M = 30;
  if (alarm5H == 0xFF || alarm5H < 1 || alarm5H > 12) alarm5H = 3;
  if (alarm5M == 0xFF || alarm5M > 59) alarm5M = 30;
  if (alarm6H == 0xFF || alarm6H < 1 || alarm6H > 12) alarm6H = 5;
  if (alarm6M == 0xFF || alarm6M > 59) alarm6M = 0;
  if (alarm7H == 0xFF || alarm7H < 1 || alarm7H > 12) alarm7H = 6;// MAGRIB START6:10
  if (alarm7M == 0xFF || alarm7M > 59) alarm7M = 10;
  if (alarm8H == 0xFF || alarm8H < 1 || alarm8H > 12) alarm8H = 7;//MAGRIB END 7:30
  if (alarm8M == 0xFF || alarm8M > 59) alarm8M = 30;
  if (alarm9H == 0xFF || alarm9H < 1 || alarm9H > 12) alarm9H = 8;
  if (alarm9M == 0xFF || alarm9M > 59) alarm9M = 0;
  if (alarm10H == 0xFF || alarm10H < 1 || alarm10H > 12) alarm10H = 10;
  if (alarm10M == 0xFF || alarm10M > 59) alarm10M = 0;
}


//*******************modify1**end ******************************

//*******************modify2  start **********************************

// Function to write alarm data - FIXED alarms + DATE-WISE magrib only
void writeDayAlarmToEEPROM(int dayOfYear, int alarm1H, int alarm1M, int alarm2H, int alarm2M,
                          int alarm3H, int alarm3M, int alarm4H, int alarm4M,
                          int alarm5H, int alarm5M, int alarm6H, int alarm6M,
                          int alarm7H, int alarm7M, int alarm8H, int alarm8M,
                          int alarm9H, int alarm9M, int alarm10H, int alarm10M) {
  
  // Write FIXED alarms (1 day only) - same for all days
  writeEEPROM(EEPROM_I2C_ADDRESS, ALARM1_START_ADDR, alarm1H);
  writeEEPROM(EEPROM_I2C_ADDRESS, ALARM1_START_ADDR + 1, alarm1M);
  writeEEPROM(EEPROM_I2C_ADDRESS, ALARM1_END_ADDR, alarm2H);
  writeEEPROM(EEPROM_I2C_ADDRESS, ALARM1_END_ADDR + 1, alarm2M);
  
  writeEEPROM(EEPROM_I2C_ADDRESS, ALARM3_START_ADDR, alarm3H);
  writeEEPROM(EEPROM_I2C_ADDRESS, ALARM3_START_ADDR + 1, alarm3M);
  writeEEPROM(EEPROM_I2C_ADDRESS, ALARM3_END_ADDR, alarm4H);
  writeEEPROM(EEPROM_I2C_ADDRESS, ALARM3_END_ADDR + 1, alarm4M);
  
  writeEEPROM(EEPROM_I2C_ADDRESS, ALARM5_START_ADDR, alarm5H);
  writeEEPROM(EEPROM_I2C_ADDRESS, ALARM5_START_ADDR + 1, alarm5M);
  writeEEPROM(EEPROM_I2C_ADDRESS, ALARM5_END_ADDR, alarm6H);
  writeEEPROM(EEPROM_I2C_ADDRESS, ALARM5_END_ADDR + 1, alarm6M);
  
  writeEEPROM(EEPROM_I2C_ADDRESS, ALARM9_START_ADDR, alarm9H);
  writeEEPROM(EEPROM_I2C_ADDRESS, ALARM9_START_ADDR + 1, alarm9M);
  writeEEPROM(EEPROM_I2C_ADDRESS, ALARM9_END_ADDR, alarm10H);
  writeEEPROM(EEPROM_I2C_ADDRESS, ALARM9_END_ADDR + 1, alarm10M);

  // Write MAGRIB alarms (date-wise) - different for each day
  if (dayOfYear >= 1 && dayOfYear <= 366) {
    int magribStartAddr = MAGRIB_START_ADDR + (dayOfYear - 1) * 2;
    int magribEndAddr = MAGRIB_END_ADDR + (dayOfYear - 1) * 2;
    
    writeEEPROM(EEPROM_I2C_ADDRESS, magribStartAddr, alarm7H);
    writeEEPROM(EEPROM_I2C_ADDRESS, magribStartAddr + 1, alarm7M);
    writeEEPROM(EEPROM_I2C_ADDRESS, magribEndAddr, alarm8H);
    writeEEPROM(EEPROM_I2C_ADDRESS, magribEndAddr + 1, alarm8M);
  }

  // â˜…â˜…â˜… à¦à¦–à¦¾à¦¨à§‡ TULU WRITE à¦¯à§‹à¦— à¦•à¦°à§à¦¨ â˜…â˜…â˜…  
// Write TULU (date-wise) - different for each day
if (dayOfYear >= 1 && dayOfYear <= 366) {
  int tuluAddr = TULU_START_ADDR + (dayOfYear - 1) * 2;
  writeEEPROM(EEPROM_I2C_ADDRESS, tuluAddr, tuluHour);
  writeEEPROM(EEPROM_I2C_ADDRESS, tuluAddr + 1, tuluMinute);
}
}

 
//*******************modify2end **********************************
//*********modify3 start ********************
void initializeEEPROMAlarms() {
  Serial.println("Initializing 24C512 EEPROM...");
  
  // Initialize FIXED alarms (1 day only)
  writeDayAlarmToEEPROM(1, 5, 0, 6, 30, 12, 0, 1, 30, 3, 30, 5, 0, 6, 10, 7, 30, 8, 0, 10, 0);
  
  // Initialize MAGRIB and TULU for all 366 days
  for (int day = 1; day <= 366; day++) {
    int magribStartAddr = MAGRIB_START_ADDR + (day - 1) * 2;
    int magribEndAddr = MAGRIB_END_ADDR + (day - 1) * 2;
    
    writeEEPROM(EEPROM_I2C_ADDRESS, magribStartAddr, 6);  // MAGRIB START 6:00
    writeEEPROM(EEPROM_I2C_ADDRESS, magribStartAddr + 1, 0);
    writeEEPROM(EEPROM_I2C_ADDRESS, magribEndAddr, 7);    // MAGRIB END 7:00
    writeEEPROM(EEPROM_I2C_ADDRESS, magribEndAddr + 1, 0);
    
    // â˜…â˜…â˜… TULU INITIALIZE - à¦à¦–à¦¾à¦¨à§‡ à¦¯à§‹à¦— à¦•à¦°à§à¦¨ â˜…â˜…â˜…
    int tuluAddr = TULU_START_ADDR + (day - 1) * 2;
    writeEEPROM(EEPROM_I2C_ADDRESS, tuluAddr, 6);  // TULU DEFAULT 6:31
    writeEEPROM(EEPROM_I2C_ADDRESS, tuluAddr + 1, 31);
    
    if (day % 50 == 0) {
      Serial.print("Initialized day ");
      Serial.println(day);
    }
  }
  Serial.println("24C512 EEPROM initialization complete!");
}

//*********modify3 end **********************************


// DOT MATRIX Function Declarations - à¦à¦‡ section à¦Ÿà¦¾ à¦¯à§‹à¦— à¦•à¦°à§à¦¨
void shiftOutData(byte data);
void writeRegister(int device, byte reg, byte data);
void displayLetter(int segment, byte letter[]);
void clearAllSegments();
void displayFAJR();
void displayJOHR();
void displayASOR();
void displayESHA();
void displayMAGR();
void displayJUMA();
void initDotMatrix();
char getCurrentPrayer();
void updateDotMatrix();

//**********************************************************
// ðŸ‘† à¦†à¦ªà¦¨à¦¾à¦° EXISTING SETUP CODE START
//*******************************************************
void setup() {
  Serial.begin(115200);
  Wire.begin();
  rtc.begin();
  sensors.begin();           // â† ADD THIS LINE
  sensors.setResolution(12); // â† ADD THIS LINE

  // Initialize IR receiver
  IrReceiver.begin(IR_RECEIVE_PIN, ENABLE_LED_FEEDBACK);

  pinMode(dataPin, OUTPUT);
  pinMode(clockPin, OUTPUT);
  pinMode(strobePin, OUTPUT);
  pinMode(menuPin, INPUT_PULLUP);
  pinMode(incPin, INPUT_PULLUP);
  pinMode(decPin, INPUT_PULLUP);
  pinMode(leftPin, INPUT_PULLUP);
  pinMode(alarmLEDPin, OUTPUT);
  pinMode(pmLEDPin, OUTPUT);
  pinMode(alarmLED2Pin, OUTPUT);
  pinMode(alarmLED3Pin, OUTPUT);  // â† à¦à¦‡ à¦¨à¦¤à§à¦¨ à¦²à¦¾à¦‡à¦¨ ADD à¦•à¦°à§à¦¨


// Initialize MD_Parola Dot Matrix (NEW CODE)
  matrix.begin();
  matrix.setIntensity(8);        // Brightness (0-15), 8 = medium
  matrix.setSpeed(80);           // Scroll speed (50 = smooth, lower = faster)
   matrix.setPause(1000);        // Pause at end (1 second)
  matrix.setCharSpacing(1);      // Character spacing
  matrix.displayClear();
 //**************************************************************
  loadJummaFromInternalEEPROM();
 
  if (rtc.lostPower()) {
    Serial.println("RTC lost power - setting time from compile time");
    rtc.adjust(DateTime(F(__DATE__), F(__TIME__)));
  }

  loadTime();
  loadCurrentDayAlarm();

// Initialize DOT MATRIX pins
  pinMode(DIN_PIN, OUTPUT);
  pinMode(CS_PIN, OUTPUT);
  pinMode(CLK_PIN, OUTPUT);
  
  //initDotMatrix();

  lastSavedEditField = -1;  // Always start from position 0 after reset
 
  displayNeedsUpdate = true;


 // ==========================================
    // ðŸ‘† à¦†à¦ªà¦¨à¦¾à¦° EXISTING SETUP CODE à¦¶à§‡à¦·
    // ==========================================
  // ðŸ”’ PROTECTION CHECK (à¦¸à¦¬à¦¾à¦° à¦¶à§‡à¦·à§‡)
  // ==========================================
  Serial.println("=== Hardware Protection Check ===");
  if (verifyHardware()) {
    systemAuthorized = true;
    Serial.println("âœ“ MOSQUE SYSTEM READY!");
    
  } else {
    systemAuthorized = false;
    Serial.println("âœ— UNAUTHORIZED HARDWARE!");
    Serial.println("âœ— SYSTEM LOCKED!");
    // Infinite loop - system will not work
    while(1) {
      // Error indication
      digitalWrite(2, HIGH);  // Built-in LED on
      delay(200);
      digitalWrite(2, LOW);   // Built-in LED off
      delay(200);
      Serial.println("ðŸš« ACCESS DENIED - UNAUTHORIZED HARDWARE");
      delay(2000);
    }
  }
}


//************************************************************
//*******************void loop() start from here***************
void loop() {

  // ðŸ”’ AUTHORIZATION CHECK (à¦à¦•à¦¦à¦® à¦ªà§à¦°à¦¥à¦®à§‡)
  // ==========================================
  if (!systemAuthorized) {
    delay(1000);
    return; // Exit loop if not authorized
  }
 
  // ðŸ‘‡ à¦†à¦ªà¦¨à¦¾à¦° EXISTING LOOP CODE à¦à¦–à¦¾à¦¨à§‡

  handleSwitches();

  readDS18B20Temperature();  

  updateDotMatrix();  

  // ==========================================
  // âœ… RTC TIME READ - à¦à¦•à¦¬à¦¾à¦° à¦®à¦¾à¦¤à§à¦° à¦ªà¦¡à¦¼à¦¾ à¦¹à¦¬à§‡
  // ==========================================
  DateTime now = rtc.now();
  int currentSecond = now.second();
  int rtcHour = now.hour();
  int rtcMinute = now.minute();
  int rtcDay = now.day();
  int rtcMonth = now.month();
  int rtcYear = now.year() % 100;
  int rtcDayOfWeek = now.dayOfTheWeek();

  // Check if second has changed
  if (currentSecond != lastSecond) {
    lastSecond = currentSecond;
    displayNeedsUpdate = true;
  }

 // ==========================================
  // âœ… RTC TIME - à¦¸à¦¬ à¦¸à¦®à¦¯à¦¼ à¦šà¦²à¦¬à§‡, à¦•à¦–à¦¨à§‹ à¦¥à¦¾à¦®à¦¬à§‡ à¦¨à¦¾
  // ==========================================
  hour = rtcHour;
  minute = rtcMinute;
  second = currentSecond;
  
  if (editField == -1) {
    // ==========================================
    // NOT IN EDIT MODE - Update date from RTC
    // ==========================================
    day = rtcDay;
    month = rtcMonth;
    year = rtcYear;
    dayOfWeek = rtcDayOfWeek;
    
    // Load alarms for current date
    loadCurrentDayAlarm();
    } else {
    // IN EDIT MODE - à¦¸à¦¬ RTC à¦¥à§‡à¦•à§‡ à¦šà¦²à¦¬à§‡, freeze à¦¨à§‡à¦‡
    
    // à¦¶à§à¦§à§ Date edit à¦•à¦°à¦²à§‡ Date freeze (à¦•à¦¾à¦°à¦£ Date manually change à¦•à¦°à¦¾ à¦¦à¦°à¦•à¦¾à¦°)
    if (editField < 3 || editField > 6) {
      day = rtcDay;
      month = rtcMonth;
      year = rtcYear;
      dayOfWeek = rtcDayOfWeek;
    }
  }

  // ==========================================
  // HIJRI AUTO-INCREMENT AT MIDNIGHT
  // ==========================================
// ==========================================
  // ✅ HIJRI AUTO-INCREMENT AT MIDNIGHT
  // ==========================================
  static int lastProcessedDay = -1;  // Track last processed day
  
  // Check if midnight crossed (00:00:00) and day changed
  if (hour == 0 && minute == 0 && second == 0 && day != lastProcessedDay) {
    lastProcessedDay = day;  // Mark this day as processed
    
    // STEP 4: Add 1 day to Hijri (handles month/year overflow + ROJA reset)
    addDaysToHijri(1);
    
    // Save all dates (English Backup + Hijri)
    saveDateBackup();
    
    Serial.println("*** HIJRI AUTO-INCREMENT: " + String(hijriEditDay) + "/" + String(hijriEditMonth) + "/" + String(hijriEditYear) + " ***");
    Serial.println("*** REFERENCE UPDATED: " + String(day) + "/" + String(month) + "/" + String(year) + " ***");
  }

  //**************MIDNIGHT HIZRI UPDATE END********************************************
  // à¦à¦°à¦ªà¦° à¦¬à¦¾à¦•à¦¿ à¦†à¦ªà¦¨à¦¾à¦° loop code (display update à¦‡à¦¤à§à¦¯à¦¾à¦¦à¦¿)
  //**********************************************************
  
  int displayHour = hour % 12;
  if (displayHour == 0) displayHour = 12;

  digitalWrite(pmLEDPin, (hour >= 12) ? HIGH : LOW);

  // Friday Logic: Use JUMMA instead of JOHOR
  bool isFriday = (dayOfWeek == 5);

   
   //++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//-------------------------------------------


// *** NEW 10-SECOND ALARM SYSTEM - FAJAR AM, OTHERS PM ***

// FAJAR (AM time)
bool alarm1Start = (hour == alarm1Hour) && (minute == alarm1Minute)&& (second == 0);
bool alarm1End = (hour == alarm2Hour) && (minute == alarm2Minute)&& (second == 0);

// JUMMA (PM time) 
int jummaStartHour24 = (jummaStartHour == 12) ? 12 : jummaStartHour + 12;
int jummaEndHour24 = (jummaEndHour == 12) ? 12 : jummaEndHour + 12;
bool jummaStart = isFriday && (hour == jummaStartHour24) && (minute == jummaStartMinute)&& (second == 0);
bool jummaEnd = isFriday && (hour == jummaEndHour24) && (minute == jummaEndMinute)&& (second == 0);
// JOHOR (PM time)
int alarm3Hour24 = (alarm3Hour == 12) ? 12 : alarm3Hour + 12;
int alarm4Hour24 = (alarm4Hour == 12) ? 12 : alarm4Hour + 12;

// à¦¶à§à¦§à§à¦®à¦¾à¦¤à§à¦° Friday à¦¹à¦²à§‡ Johor alarm disable
bool alarm3Start = !isFriday && (hour == alarm3Hour24) && (minute == alarm3Minute) && (second == 0);
bool alarm3End   = !isFriday && (hour == alarm4Hour24) && (minute == alarm4Minute) && (second == 0);

// ASAR (PM time)
int alarm5Hour24 = (alarm5Hour == 12) ? 12 : alarm5Hour + 12;
int alarm6Hour24 = (alarm6Hour == 12) ? 12 : alarm6Hour + 12;
bool alarm5Start = (hour == alarm5Hour24) && (minute == alarm5Minute)&& (second == 0);
bool alarm5End = (hour == alarm6Hour24) && (minute == alarm6Minute)&& (second == 0);

// MAGRIB (PM time)
int alarm7Hour24 = (alarm7Hour == 12) ? 12 : alarm7Hour + 12;
int alarm8Hour24 = (alarm8Hour == 12) ? 12 : alarm8Hour + 12;
bool alarm7Start = (hour == alarm7Hour24) && (minute == alarm7Minute)&& (second == 0);
bool alarm7End = (hour == alarm8Hour24) && (minute == alarm8Minute)&& (second == 0);

// ESHA (PM time)
int alarm9Hour24 = (alarm9Hour == 12) ? 12 : alarm9Hour + 12;
int alarm10Hour24 = (alarm10Hour == 12) ? 12 : alarm10Hour + 12;
bool alarm9Start = (hour == alarm9Hour24) && (minute == alarm9Minute)&& (second == 0);
bool alarm9End = (hour == alarm10Hour24) && (minute == alarm10Minute)&& (second == 0);



//***************main display blink logic start *********************
//***************main display blink logic start *********************
// === 30 SECONDS BEFORE ALARM - ADD 30 TO CURRENT TIME ===

int checkSecond = second + 30;
int checkMinute = minute;
int checkHour = hour;

// Handle rollovers
if (checkSecond >= 60) {
  checkSecond -= 60;
  checkMinute++;
  if (checkMinute >= 60) {
    checkMinute -= 60;
    checkHour++;
    if (checkHour >= 24) {
      checkHour -= 24;
    }
  }
}



// === 30 SECONDS BEFORE START TIME CHECK (LED2) ===
if (!led2Done && !led2Active) {
  bool beforeAnyStart = 
      (checkHour == alarm1Hour   && checkMinute == alarm1Minute) ||
      (!isFriday && checkHour == alarm3Hour24 && checkMinute == alarm3Minute) ||
      (isFriday && checkHour == jummaStartHour24 && checkMinute == jummaStartMinute) ||
      (checkHour == alarm5Hour24 && checkMinute == alarm5Minute) ||
      (checkHour == alarm7Hour24 && checkMinute == alarm7Minute) ||
      (checkHour == alarm9Hour24 && checkMinute == alarm9Minute);

  if (beforeAnyStart) {
    led2Active = true;
    led2Done = true;
    led2DoneHour = checkHour;
    led2DoneMinute = checkMinute;
    digitalWrite(alarmLED2Pin, HIGH);
    Serial.println("*** LED2 ON (30s before START) ***");
  }
}

// === 30 SECONDS BEFORE END TIME CHECK (LED3) ===
if (!led3Done && !led3Active) {
  bool beforeAnyEnd =
      (checkHour == alarm2Hour   && checkMinute == alarm2Minute) ||
      (!isFriday && checkHour == alarm4Hour24 && checkMinute == alarm4Minute) ||
      (isFriday && checkHour == jummaEndHour24 && checkMinute == jummaEndMinute) ||
      (checkHour == alarm6Hour24 && checkMinute == alarm6Minute) ||
      (checkHour == alarm8Hour24 && checkMinute == alarm8Minute) ||
      (checkHour == alarm10Hour24&& checkMinute == alarm10Minute);

  if (beforeAnyEnd) {
    led3Active = true;
    led3Done = true;
    led3DoneHour = checkHour;
    led3DoneMinute = checkMinute;
    digitalWrite(alarmLED3Pin, HIGH);
    Serial.println("*** LED3 ON (30s before END) ***");
  }
}

// === TURN OFF LED2 WHEN ACTUAL START ALARM TRIGGERS ===
if (led2Active &&
   (alarm1Start || alarm3Start || 
    (isFriday && jummaStart) || alarm5Start || 
    alarm7Start || alarm9Start)) {
  led2Active = false;
  digitalWrite(alarmLED2Pin, LOW);
  Serial.println("*** LED2 OFF - START Alarm Matched ***");
}

// === TURN OFF LED3 WHEN ACTUAL END ALARM TRIGGERS ===
if (led3Active &&
   (alarm1End || alarm3End || 
    (isFriday && jummaEnd) || alarm5End || 
    alarm7End || alarm9End)) {
  led3Active = false;
  digitalWrite(alarmLED3Pin, LOW);
  Serial.println("*** LED3 OFF - END Alarm Matched ***");
}
//**************************************************************
// âœ… NEW CODE à¦¶à§à¦°à§ - à¦à¦–à¦¾à¦¨à§‡ à¦¥à§‡à¦•à§‡ à¦¯à§‹à¦— à¦•à¦°à§à¦¨
// ==========================================
// âœ… BUZZER (Pin 12) ON - Last 5 seconds of blinking
// ==========================================
if (led2Active || led3Active) {
  // Check: Are we 5 seconds before alarm? (last 5 sec of 30 sec blink)
  int checkSecond5 = second + 5;
  int checkMinute5 = minute;
  int checkHour5 = hour;
  
  if (checkSecond5 >= 60) {
    checkSecond5 -= 60;
    checkMinute5++;
    if (checkMinute5 >= 60) {
      checkMinute5 -= 60;
      checkHour5++;
      if (checkHour5 >= 24) checkHour5 -= 24;
    }
  }
  
  // Check if we match any alarm time (5 sec before)
  bool lastFiveSeconds = 
      (checkHour5 == alarm1Hour   && checkMinute5 == alarm1Minute) ||
      (!isFriday && checkHour5 == alarm3Hour24 && checkMinute5 == alarm3Minute) ||
      (isFriday && checkHour5 == jummaStartHour24 && checkMinute5 == jummaStartMinute) ||
      (checkHour5 == alarm5Hour24 && checkMinute5 == alarm5Minute) ||
      (checkHour5 == alarm7Hour24 && checkMinute5 == alarm7Minute) ||
      (checkHour5 == alarm9Hour24 && checkMinute5 == alarm9Minute) ||
      (checkHour5 == alarm2Hour   && checkMinute5 == alarm2Minute) ||
      (!isFriday && checkHour5 == alarm4Hour24 && checkMinute5 == alarm4Minute) ||
      (isFriday && checkHour5 == jummaEndHour24 && checkMinute5 == jummaEndMinute) ||
      (checkHour5 == alarm6Hour24 && checkMinute5 == alarm6Minute) ||
      (checkHour5 == alarm8Hour24 && checkMinute5 == alarm8Minute) ||
      (checkHour5 == alarm10Hour24 && checkMinute5 == alarm10Minute);
  
  // Turn ON buzzer in last 5 seconds
  if (lastFiveSeconds) {
    digitalWrite(alarmLEDPin, HIGH);  // Pin 12 ON
  } else {
    digitalWrite(alarmLEDPin, LOW);   // Pin 12 OFF
  }
} else {
  // No blinking active, buzzer OFF
  digitalWrite(alarmLEDPin, LOW);
}
// âœ… NEW CODE à¦¶à§‡à¦·
// ==========================================
//*************************************************************
// === RESET FLAGS WHEN MINUTE CHANGES ===
if (led2Done && (hour != led2DoneHour || minute != led2DoneMinute)) {
  led2Done = false;
}

if (led3Done && (hour != led3DoneHour || minute != led3DoneMinute)) {
  led3Done = false;
}


//****************************************************************
//***************main display blink logic end *********************

//************30 SECONDS  ALARM - end TIME ******************************
//***************main display blink logic end *********************



    //++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    //************* Handle blinking completion 10 times***********************************************

  // Handle blinking completion and return to RTC time
  if (editField != -1 && wasBlinking && !blinkState) {
    wasBlinking = false;
    blinkCount++;
     // DEBUG: এই লাইনটি যোগ করুন
    Serial.println("Blink count: " + String(blinkCount) + ", editField: " + String(editField));
    if (blinkCount >= 10) {
      // Save appropriate data based on edit field
      if (editField >= 7 && editField <= 55) {  // âœ… 49 à¦¥à§‡à¦•à§‡ 55 à¦•à¦°à§à¦¨ (HIJRI include)
      if ((editField >= 27 && editField <= 30) || (editField >= 39 && editField <= 41) || (editField >= 46 && editField <= 55)) {
          // JUMMA (27-30), IDD (39-40), ROJA (41), TINBAZ (46-49), HIJRI (50-55) - External EEPROM
         
          // STEP 1: Manual Hijri Edit - Save Backup (No Calculation)
          if (editField >= 50 && editField <= 52) {
            saveDateBackup();
          }
          
          saveJummaToInternalEEPROM();
        } else {
          // Other alarm fields - save to 24C512 EEPROM
          int dayOfYear = getDayOfYear(day, month, 2000 + year);
          writeDayAlarmToEEPROM(dayOfYear, alarm1Hour, alarm1Minute, alarm2Hour, alarm2Minute,
                               alarm3Hour, alarm3Minute, alarm4Hour, alarm4Minute,
                               alarm5Hour, alarm5Minute, alarm6Hour, alarm6Minute,
                               alarm7Hour, alarm7Minute, alarm8Hour, alarm8Minute,
                               alarm9Hour, alarm9Minute, alarm10Hour, alarm10Minute);
        }
      }
      else if (editField >= 0 && editField <= 6) {
        saveTime();
      }

      // Save current edit field position to EEPROM before exiting edit mode
      lastSavedEditField = editField;
      saveLastEditField(lastSavedEditField);
      
      // Reset edit field and immediately update time from RTC
      editField = -1;
      editModeJustStarted = false;
       // ✅ Reset Days Edit Mode
      hijriDaysEditMode = false;
      hijriDaysEditField = 0;  // ✅ ADD THIS
      // Force immediate update from RTC
      DateTime currentTime = rtc.now();
      hour = currentTime.hour();
      minute = currentTime.minute();
      second = currentTime.second();
      day = currentTime.day();
      month = currentTime.month();
      year = currentTime.year() % 100;
      dayOfWeek = currentTime.dayOfTheWeek();

      // Load alarms for current date
      loadCurrentDayAlarm();
      displayNeedsUpdate = true;
    }
  }

  // Handle blinking for edit mode
  if (editField != -1 && millis() - lastBlink > 500) {
    blinkState = !blinkState;
    lastBlink = millis();
    displayNeedsUpdate = true; // Update display when blinking changes
    if (blinkState) wasBlinking = true;
  }
//*******************************************

checkAndTurnOffLEDsInEditMode();

// âž¡ï¸ à¦à¦‡ à¦²à¦¾à¦‡à¦¨ à¦à¦–à¦¾à¦¨à§‡:
if (led2Active || led3Active) {
  displayNeedsUpdate = true;
}

  // Update display only once per second or when needed
  if (displayNeedsUpdate && (editField != -1 || millis() - lastDisplayUpdate >= 1000)) {
    
    updateDisplay(displayHour);
    lastDisplayUpdate = millis();
    displayNeedsUpdate = false;
  }

  // Reduced delay for better button responsiveness
  delay(5);
}
//**************************************************************

//**************LOOP FUNCTION END ****************************************************

// *** DS18B20 Temperature Function ***
void readDS18B20Temperature() {
  if (millis() - lastTempRead >= 2000) {  // Every 2 seconds
    
    sensors.requestTemperatures();
    float newTemp = sensors.getTempCByIndex(0);
    
    if (newTemp != DEVICE_DISCONNECTED_C && newTemp > -50 && newTemp < 125) {
      temperature = newTemp;  // Valid reading
    } else {
      sensors.begin();        // Reinitialize sensor
      sensors.setResolution(12);
      temperature = -999;     // Show "EE"
    }
    
    lastTempRead = millis();
  }
}


//***********// *** DS18B20 Temperature Function *******************************************

//******************************************************************************
void handleBufferBlinking() {
  // Check if 500ms has passed
  if (millis() - lastBufferBlink >= 500) {
    bufferBlinkState = !bufferBlinkState;
    lastBufferBlink = millis();
    
    // Handle START time blinking (LED2 ON = Buffer 6-9) - NEW POSITIONS
    if (led2Active) {
      if (bufferBlinkState) {
        // Show saved values
        displayBuffer[6] = savedBuffer6to9[0];
        displayBuffer[7] = savedBuffer6to9[1];
        displayBuffer[8] = savedBuffer6to9[2];
        displayBuffer[9] = savedBuffer6to9[3];
      } else {
        // Clear buffer (blank)
        displayBuffer[6] = 0;
        displayBuffer[7] = 0;
        displayBuffer[8] = 0;
        displayBuffer[9] = 0;
      }
    }
    
    // Handle END time blinking (LED3 ON = Buffer 10-13) - NEW POSITIONS
    if (led3Active) {
      if (bufferBlinkState) {
        // Show saved values
        displayBuffer[10] = savedBuffer10to13[0];
        displayBuffer[11] = savedBuffer10to13[1];
        displayBuffer[12] = savedBuffer10to13[2];
        displayBuffer[13] = savedBuffer10to13[3];
      } else {
        // Clear buffer (blank)
        displayBuffer[10] = 0;
        displayBuffer[11] = 0;
        displayBuffer[12] = 0;
        displayBuffer[13] = 0;
      }
    }
  }
}


//********************************************************************
void saveBufferValues() {
  // Save buffer 6-9 values when LED2 becomes active - NEW POSITIONS
  if (led2Active) {
    savedBuffer6to9[0] = displayBuffer[6];
    savedBuffer6to9[1] = displayBuffer[7];
    savedBuffer6to9[2] = displayBuffer[8];
    savedBuffer6to9[3] = displayBuffer[9];
  }
  
  // Save buffer 10-13 values when LED3 becomes active - NEW POSITIONS
  if (led3Active) {
    savedBuffer10to13[0] = displayBuffer[10];
    savedBuffer10to13[1] = displayBuffer[11];
    savedBuffer10to13[2] = displayBuffer[12];
    savedBuffer10to13[3] = displayBuffer[13];
  }
}




//2ND FUNCTION END 


// âž¡ï¸ à¦à¦–à¦¾à¦¨à§‡ add à¦•à¦°à§à¦¨ checkAndTurnOffLEDsInEditMode() function
// === FIXED VERSION - Add this function after loop() ===
void checkAndTurnOffLEDsInEditMode() {
  if (editField != -1) {  // Only check when in edit mode
    
    // Calculate current check time (30 seconds ahead)
    int checkSecond = second + 30;
    int checkMinute = minute;
    int checkHour = hour;
    
    // Handle rollovers
    if (checkSecond >= 60) {
      checkSecond -= 60;
      checkMinute++;
      if (checkMinute >= 60) {
        checkMinute -= 60;
        checkHour++;
        if (checkHour >= 24) {
          checkHour -= 24;
        }
      }
    }
    
    // *** RECALCULATE 24-HOUR FORMAT VARIABLES INSIDE THIS FUNCTION ***
    bool isFriday = (dayOfWeek == 5);
    
    // JUMMA (PM time) 
    int jummaStartHour24 = (jummaStartHour == 12) ? 12 : jummaStartHour + 12;
    int jummaEndHour24 = (jummaEndHour == 12) ? 12 : jummaEndHour + 12;
    
    // JOHOR (PM time)
    int alarm3Hour24 = (alarm3Hour == 12) ? 12 : alarm3Hour + 12;
    int alarm4Hour24 = (alarm4Hour == 12) ? 12 : alarm4Hour + 12;
    
    // ASAR (PM time)
    int alarm5Hour24 = (alarm5Hour == 12) ? 12 : alarm5Hour + 12;
    int alarm6Hour24 = (alarm6Hour == 12) ? 12 : alarm6Hour + 12;
    
    // MAGRIB (PM time)
    int alarm7Hour24 = (alarm7Hour == 12) ? 12 : alarm7Hour + 12;
    int alarm8Hour24 = (alarm8Hour == 12) ? 12 : alarm8Hour + 12;
    
    // ESHA (PM time)
    int alarm9Hour24 = (alarm9Hour == 12) ? 12 : alarm9Hour + 12;
    int alarm10Hour24 = (alarm10Hour == 12) ? 12 : alarm10Hour + 12;
    
    // Check if LED2 should be turned off
    if (led2Active) {
      bool stillBeforeStart = 
          (checkHour == alarm1Hour   && checkMinute == alarm1Minute) ||
          (!isFriday && checkHour == alarm3Hour24 && checkMinute == alarm3Minute) ||
          (isFriday && checkHour == jummaStartHour24 && checkMinute == jummaStartMinute) ||
          (checkHour == alarm5Hour24 && checkMinute == alarm5Minute) ||
          (checkHour == alarm7Hour24 && checkMinute == alarm7Minute) ||
          (checkHour == alarm9Hour24 && checkMinute == alarm9Minute);
      
      if (!stillBeforeStart) {
        led2Active = false;
        led2Done = false;
        digitalWrite(alarmLED2Pin, LOW);
        Serial.println("*** LED2 OFF - Time edited out of range ***");
      }
    }
    
    // Check if LED3 should be turned off
    if (led3Active) {
      bool stillBeforeEnd =
          (checkHour == alarm2Hour   && checkMinute == alarm2Minute) ||
          (!isFriday && checkHour == alarm4Hour24 && checkMinute == alarm4Minute) ||
          (isFriday && checkHour == jummaEndHour24 && checkMinute == jummaEndMinute) ||
          (checkHour == alarm6Hour24 && checkMinute == alarm6Minute) ||
          (checkHour == alarm8Hour24 && checkMinute == alarm8Minute) ||
          (checkHour == alarm10Hour24&& checkMinute == alarm10Minute);
      
      if (!stillBeforeEnd) {
        led3Active = false;
        led3Done = false;
        digitalWrite(alarmLED3Pin, LOW);
        Serial.println("*** LED3 OFF - Time edited out of range ***");
      }
    }
  }
}

// â† à¦à¦° à¦ªà¦°à§‡ à¦¬à¦¾à¦•à¦¿ functions (getDayOfYear, isLeapYear etc.)


//***********************************************************************


int getDayOfYear(int day, int month, int year) {
  int daysInMonth[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
  
  // Check for leap year
  if (isLeapYear(year)) {
    daysInMonth[2] = 29;
  }

  int dayOfYear = 0;  
  for (int i = 1; i < month; i++) {
    dayOfYear += daysInMonth[i];
  }
  dayOfYear += day;
  return dayOfYear;
}

bool isLeapYear(int year) {
  return (year % 4 == 0 && year % 100 != 0) || (year % 400 == 0);
}

// *** ADD THIS NEW FUNCTION HERE ***
int getMaxDaysInMonth(int month, int year) {
  int daysInMonth[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
  
  // Check for leap year (February has 29 days)
  if (month == 2 && isLeapYear(2000 + year)) {
    return 29;
  }
  
  return daysInMonth[month];
}
// *** END NEW FUNCTION ***
// Function to check if current time is between two alarms
bool isTimeBetweenAlarms(int currentHour, int currentMinute, int startH, int startM, int endH, int endM) {
  // Convert times to minutes for easier comparison
  int currentTotalMinutes = (currentHour % 12) * 60 + currentMinute;
  int startTotalMinutes = (startH % 12) * 60 + startM;
  int endTotalMinutes = (endH % 12) * 60 + endM;
  
  // Handle case where end time is earlier than start time (crosses midnight)
  if (endTotalMinutes < startTotalMinutes) {
    // Range crosses midnight
    return (currentTotalMinutes >= startTotalMinutes || currentTotalMinutes <= endTotalMinutes);
  } else {
    // Normal range within same day
    return (currentTotalMinutes >= startTotalMinutes && currentTotalMinutes <= endTotalMinutes);
  }
}

// Function to get next namaz range when no current namaz is active - UPDATED FOR FRIDAY
int getNextNamazRange(int currentHour, int currentMinute, bool isFriday) {
  int currentTotalMinutes = currentHour * 60 + currentMinute;
  
  // Convert all namaz times to total minutes
  int fajarStart = convertTo24HourMinutes(alarm1Hour, alarm1Minute, true); // AM
  int johorStart = convertTo24HourMinutes(alarm3Hour, alarm3Minute, false); // PM
  int jummaStart = convertTo24HourMinutes(jummaStartHour, jummaStartMinute, false); // PM
  int asarStart = convertTo24HourMinutes(alarm5Hour, alarm5Minute, false); // PM
  int magribStart = convertTo24HourMinutes(alarm7Hour, alarm7Minute, false); // PM
  int eshaStart = convertTo24HourMinutes(alarm9Hour, alarm9Minute, false); // PM
  
  // Find next namaz based on day
  if (currentTotalMinutes < fajarStart) return 6; // Next is FAJAR
  else if (isFriday && currentTotalMinutes < jummaStart) return 6; // Next is JUMMA
  else if (!isFriday && currentTotalMinutes < johorStart) return 6; // Next is JOHOR
  else if (currentTotalMinutes < asarStart) return 6; // Next is ASAR
  else if (currentTotalMinutes < magribStart) return 6; // Next is MAGRIB
  else if (currentTotalMinutes < eshaStart) return 6; // Next is ESHA
  else return 6; // Next day FAJAR
}

int convertTo24HourMinutes(int hour, int minute, bool isAM) {
  int hour24 = hour;
  if (!isAM && hour != 12) hour24 += 12;
  if (isAM && hour == 12) hour24 = 0;
  return hour24 * 60 + minute;
}
//*****************Function to read temperature from LM35*******************************


    
//******************************************************
void loadCurrentDayAlarm() {
  int dayOfYear = getDayOfYear(day, month, 2000 + year);
  
  // Read alarm data directly from EEPROM for current day - 10 ALARMS ONLY
  readDayAlarmFromEEPROM(dayOfYear, alarm1Hour, alarm1Minute, alarm2Hour, alarm2Minute,
                        alarm3Hour, alarm3Minute, alarm4Hour, alarm4Minute,
                        alarm5Hour, alarm5Minute, alarm6Hour, alarm6Minute,
                        alarm7Hour, alarm7Minute, alarm8Hour, alarm8Minute,
                        alarm9Hour, alarm9Minute, alarm10Hour, alarm10Minute);
  
  // â˜…â˜…â˜… TULU DATE-WISE LOAD - à¦à¦–à¦¾à¦¨à§‡ à¦¯à§‹à¦— à¦•à¦°à§à¦¨ â˜…â˜…â˜…
  // Load TULU for current date
  if (dayOfYear >= 1 && dayOfYear <= 366) {
    int tuluAddr = TULU_START_ADDR + (dayOfYear - 1) * 2;
    tuluHour = readEEPROM(EEPROM_I2C_ADDRESS, tuluAddr);
    tuluMinute = readEEPROM(EEPROM_I2C_ADDRESS, tuluAddr + 1);
    
    // Validate TULU
    if (tuluHour == 0xFF || tuluHour < 1 || tuluHour > 12) tuluHour = 6;
    if (tuluMinute == 0xFF || tuluMinute > 59) tuluMinute = 31;
  }

  // === LOAD JAWAL, SEHARI, IFTAR, TAHAJUD, ISHRAK FROM FLASH (366 days) ===
  loadFlashDataForDay(dayOfYear);

}


//**************************************************************************
// DISPLAY FUNCTION - à¦¸à¦¿à¦®à§à¦ªà¦¿à¦² à¦²à¦œà¦¿à¦•: à¦«à¦œà¦°â†’à¦œà§à¦®à§à¦®à¦¾/à¦¯à§‹à¦¹à¦°â†’à¦†à¦¸à¦°â†’à¦®à¦¾à¦—à¦°à¦¿à¦¬â†’à¦à¦¶à¦¾

void updateDisplay(int dispHour) {
  // Clear all buffer first
  for (int i = 0; i < 87; i++) {
    displayBuffer[i] = 0;
  }

  // Time display (positions 0-5) - NO CHANGE
  displayBuffer[0] = segmentFont[dispHour / 10];
  displayBuffer[1] = segmentFont[dispHour % 10];
  displayBuffer[2] = segmentFont[minute / 10];
  displayBuffer[3] = segmentFont[minute % 10];
  displayBuffer[4] = segmentFont[second / 10];
  displayBuffer[5] = segmentFont[second % 10];

  // *** NEW SEQUENCE: CURRENT PRAYER DISPLAY (positions 6-13) ***
  bool isFriday = (dayOfWeek == 5);
  int currentHour24 = hour;
  int currentMinute24 = minute;
  int currentTotalMinutes = currentHour24 * 60 + currentMinute24;
  
  // Convert all namaz END times to 24-hour format
  int fajarEndMinutes = convertTo24HourMinutes(alarm2Hour, alarm2Minute, true);
  int jummaEndMinutes = convertTo24HourMinutes(jummaEndHour, jummaEndMinute, false);
  int johorEndMinutes = convertTo24HourMinutes(alarm4Hour, alarm4Minute, false);
  int asarEndMinutes = convertTo24HourMinutes(alarm6Hour, alarm6Minute, false);
  int magribEndMinutes = convertTo24HourMinutes(alarm8Hour, alarm8Minute, false);
  int eshaEndMinutes = convertTo24HourMinutes(alarm10Hour, alarm10Minute, false);

  // Clear positions 6-13 first
  for (int i = 6; i <= 13; i++) displayBuffer[i] = 0;

  // CURRENT PRAYER DISPLAY LOGIC (NEW POSITIONS 6-13)
  if (currentTotalMinutes <= fajarEndMinutes) {
    // Show FAJAR time
    displayBuffer[6] = 0;
    displayBuffer[7] = segmentFont[alarm1Hour % 10]| 0x08;
    displayBuffer[8] = segmentFont[alarm1Minute / 10];
    displayBuffer[9] = segmentFont[alarm1Minute % 10];
    displayBuffer[10] = 0;
    displayBuffer[11] = segmentFont[alarm2Hour % 10]| 0x08;
    displayBuffer[12] = segmentFont[alarm2Minute / 10];
    displayBuffer[13] = segmentFont[alarm2Minute % 10];
  }
  else if (isFriday && currentTotalMinutes <= jummaEndMinutes) {
    // Show JUMMA time on Friday
    displayBuffer[6] = segmentFont[jummaStartHour / 10];
    displayBuffer[7] = segmentFont[jummaStartHour % 10]| 0x08;
    displayBuffer[8] = segmentFont[jummaStartMinute / 10];
    displayBuffer[9] = segmentFont[jummaStartMinute % 10];
    displayBuffer[10] = segmentFont[jummaEndHour / 10];
    displayBuffer[11] = segmentFont[jummaEndHour % 10]| 0x08;
    displayBuffer[12] = segmentFont[jummaEndMinute / 10];
    displayBuffer[13] = segmentFont[jummaEndMinute % 10];
  }
  else if (!isFriday && currentTotalMinutes <= johorEndMinutes) {
    // Show JOHAR time on non-Friday
    displayBuffer[6] = segmentFont[alarm3Hour / 10];
    displayBuffer[7] = segmentFont[alarm3Hour % 10]| 0x08;
    displayBuffer[8] = segmentFont[alarm3Minute / 10];
    displayBuffer[9] = segmentFont[alarm3Minute % 10];
    displayBuffer[10] = 0;
    displayBuffer[11] = segmentFont[alarm4Hour % 10]| 0x08;
    displayBuffer[12] = segmentFont[alarm4Minute / 10];
    displayBuffer[13] = segmentFont[alarm4Minute % 10];
  }
  else if (currentTotalMinutes <= asarEndMinutes) {
    // Show ASAR time
    displayBuffer[6] = 0;
    displayBuffer[7] = segmentFont[alarm5Hour % 10]| 0x08;
    displayBuffer[8] = segmentFont[alarm5Minute / 10];
    displayBuffer[9] = segmentFont[alarm5Minute % 10];
    displayBuffer[10] = 0;
    displayBuffer[11] = segmentFont[alarm6Hour % 10]| 0x08;
    displayBuffer[12] = segmentFont[alarm6Minute / 10];
    displayBuffer[13] = segmentFont[alarm6Minute % 10];
  }
  else if (currentTotalMinutes <= magribEndMinutes) {
    // Show MAGRIB time
    displayBuffer[6] = 0;
    displayBuffer[7] = segmentFont[alarm7Hour % 10]| 0x08;
    displayBuffer[8] = segmentFont[alarm7Minute / 10];
    displayBuffer[9] = segmentFont[alarm7Minute % 10];
    displayBuffer[10] = 0;
    displayBuffer[11] = segmentFont[alarm8Hour % 10]| 0x08;
    displayBuffer[12] = segmentFont[alarm8Minute / 10];
    displayBuffer[13] = segmentFont[alarm8Minute % 10];
  }
  else if (currentTotalMinutes <= eshaEndMinutes) {
    // Show ESHA time
    displayBuffer[6] = 0;
    displayBuffer[7] = segmentFont[alarm9Hour % 10]| 0x08;
    displayBuffer[8] = segmentFont[alarm9Minute / 10];
    displayBuffer[9] = segmentFont[alarm9Minute % 10];
    displayBuffer[10] = 0;
    displayBuffer[11] = segmentFont[alarm10Hour % 10]| 0x08;
    displayBuffer[12] = segmentFont[alarm10Minute / 10];
    displayBuffer[13] = segmentFont[alarm10Minute % 10];
  }
  else {
    // After all namaz end times, show next day FAJAR
    displayBuffer[6] = 0;
    displayBuffer[7] = segmentFont[alarm1Hour % 10]| 0x08;
    displayBuffer[8] = segmentFont[alarm1Minute / 10];
    displayBuffer[9] = segmentFont[alarm1Minute % 10];
    displayBuffer[10] = 0;
    displayBuffer[11] = segmentFont[alarm2Hour % 10]| 0x08;
    displayBuffer[12] = segmentFont[alarm2Minute / 10];
    displayBuffer[13] = segmentFont[alarm2Minute % 10];
  }

  // Date display (NEW positions 14-19)
  displayBuffer[14] = segmentFont[day / 10];
  displayBuffer[15] = segmentFont[day % 10];
  displayBuffer[16] = segmentFont[month / 10];
  displayBuffer[17] = segmentFont[month % 10];
  displayBuffer[18] = segmentFont[year / 10];
  displayBuffer[19] = segmentFont[year % 10];

  // Day of Week (NEW position 20)
  displayBuffer[20] = dayOfWeekFont[dayOfWeek];

  // Add dots for time and date
  displayBuffer[1] |= 0x08;   // RTC Time Hour (2nd digit)
  displayBuffer[3] |= 0x08;   // RTC Time Minute (2nd digit)
  displayBuffer[15] |= 0x08;  // RTC Date Day (2nd digit) - NEW POSITION
  displayBuffer[17] |= 0x08;  // RTC Date Month (2nd digit) - NEW POSITION

  // NEW EDIT ORDER LAYOUT - ALL PRAYERS SHIFTED
  // FAJAR (21-26: START H:MM END H:MM)
  displayBuffer[21] = segmentFont[alarm1Hour % 10] | 0x08; // FAJAR START
  displayBuffer[22] = segmentFont[alarm1Minute / 10];
  displayBuffer[23] = segmentFont[alarm1Minute % 10];
  displayBuffer[24] = segmentFont[alarm2Hour % 10]  | 0x08; // FAJAR END
  displayBuffer[25] = segmentFont[alarm2Minute / 10];
  displayBuffer[26] = segmentFont[alarm2Minute % 10];
  
  // JOHOR (27-33: START HH:MM END H:MM)
  displayBuffer[27] = segmentFont[alarm3Hour / 10];  // JOHOR START
  displayBuffer[28] = segmentFont[alarm3Hour % 10] | 0x08;
  displayBuffer[29] = segmentFont[alarm3Minute / 10];
  displayBuffer[30] = segmentFont[alarm3Minute % 10];
  displayBuffer[31] = segmentFont[alarm4Hour % 10] | 0x08; // JOHOR END
  displayBuffer[32] = segmentFont[alarm4Minute / 10];
  displayBuffer[33] = segmentFont[alarm4Minute % 10];
  
  // ASAR (34-39: START H:MM END H:MM)
  displayBuffer[34] = segmentFont[alarm5Hour % 10]| 0x08; // ASAR START
  displayBuffer[35] = segmentFont[alarm5Minute / 10];
  displayBuffer[36] = segmentFont[alarm5Minute % 10];
  displayBuffer[37] = segmentFont[alarm6Hour % 10]| 0x08; // ASAR END
  displayBuffer[38] = segmentFont[alarm6Minute / 10];
  displayBuffer[39] = segmentFont[alarm6Minute % 10];
  
  // MAGRIB (40-45: START H:MM END H:MM)
  displayBuffer[40] = segmentFont[alarm7Hour % 10]| 0x08; // MAGRIB START
  displayBuffer[41] = segmentFont[alarm7Minute / 10];
  displayBuffer[42] = segmentFont[alarm7Minute % 10];
  displayBuffer[43] = segmentFont[alarm8Hour % 10]| 0x08; // MAGRIB END
  displayBuffer[44] = segmentFont[alarm8Minute / 10];
  displayBuffer[45] = segmentFont[alarm8Minute % 10];
  
  // ESHA (46-51: START H:MM END H:MM)
  displayBuffer[46] = segmentFont[alarm9Hour % 10]| 0x08; // ESHA START
  displayBuffer[47] = segmentFont[alarm9Minute / 10];
  displayBuffer[48] = segmentFont[alarm9Minute % 10];
  displayBuffer[49] = segmentFont[alarm10Hour % 10]| 0x08; // ESHA END
  displayBuffer[50] = segmentFont[alarm10Minute / 10];
  displayBuffer[51] = segmentFont[alarm10Minute % 10];
  
  // JUMMA (52-59: START HH:MM END HH:MM)
  displayBuffer[52] = segmentFont[jummaStartHour / 10]; // JUMMA START
  displayBuffer[53] = segmentFont[jummaStartHour % 10]  | 0x08;
  displayBuffer[54] = segmentFont[jummaStartMinute / 10];
  displayBuffer[55] = segmentFont[jummaStartMinute % 10];
  displayBuffer[56] = segmentFont[jummaEndHour / 10]; // JUMMA END
  displayBuffer[57] = segmentFont[jummaEndHour % 10]  | 0x08;
  displayBuffer[58] = segmentFont[jummaEndMinute / 10];
  displayBuffer[59] = segmentFont[jummaEndMinute % 10];

  // TULU TIME (60-62: H:MM)
  displayBuffer[60] = segmentFont[tuluHour % 10]| 0x08;        
  displayBuffer[61] = segmentFont[tuluMinute / 10];      
  displayBuffer[62] = segmentFont[tuluMinute % 10];      
    
  // JAWAL (63-66: HH:MM)
  displayBuffer[63] = segmentFont[jawalHour / 10]; 
  displayBuffer[64] = segmentFont[jawalHour % 10]| 0x08;
  displayBuffer[65] = segmentFont[jawalMinute / 10];
  displayBuffer[66] = segmentFont[jawalMinute % 10];
  
  // SEHARI (67-69: H:MM)
  displayBuffer[67] = segmentFont[sehariHour % 10]| 0x08;
  displayBuffer[68] = segmentFont[sehariMinute / 10];
  displayBuffer[69] = segmentFont[sehariMinute % 10];
  
  // IFTAR (70-72: H:MM)
  displayBuffer[70] = segmentFont[iftarHour % 10]| 0x08;
  displayBuffer[71] = segmentFont[iftarMinute / 10];
  displayBuffer[72] = segmentFont[iftarMinute % 10];
  
  // IDD (73-75: H:MM)
  displayBuffer[73] = segmentFont[iddHour % 10]| 0x08;
  displayBuffer[74] = segmentFont[iddMinute / 10];
  displayBuffer[75] = segmentFont[iddMinute % 10];
 
 // ROJA (76-77: 00-99)
// Logic: If Hijri month = 9 ROMJAN)  Show Hijri day
//        Otherwise  Always show 00

int rojaDisplay = 0; // Default: 00

//  Only show value if ROMJAN (month 9)
if (hijriEditMonth == 9) {
  // IF ROMJAN month - Show Hijri day with validation
  rojaDisplay = hijriEditDay;
  if (rojaDisplay > 30) rojaDisplay = 30;  // Max 30 days
  if (rojaDisplay < 1) rojaDisplay = 1;    // Min 1 day
}
// Other months (2-12): rojaDisplay remains 0

// ROJA (76-77: 00-99)
  displayBuffer[76] = segmentFont[rojaDisplay / 10];
  displayBuffer[77] = segmentFont[rojaDisplay % 10];
  
 // ==========================================
// HIJRI → TEMPERATURE → TAHAJUD → ISHRAK → CHASAT → TINBAZ
// ==========================================
// HIJRI DATE DISPLAY (78-83)
displayBuffer[78] = segmentFont[hijriEditDay / 10];     
displayBuffer[79] = segmentFont[hijriEditDay % 10] | 0x08;     
displayBuffer[80] = segmentFont[hijriEditMonth / 10];   
displayBuffer[81] = segmentFont[hijriEditMonth % 10] | 0x08;

if (hijriDaysEditMode) {
  // Days Edit Mode: Year জায়গায় Days দেখাবে
  displayBuffer[82] = segmentFont[hijriMonthDaysTemp / 10];
  displayBuffer[83] = segmentFont[hijriMonthDaysTemp % 10];
} else {
  // Normal: Year দেখাবে
  displayBuffer[82] = segmentFont[(hijriEditYear / 10) % 10];  
  displayBuffer[83] = segmentFont[hijriEditYear % 10];
}
//*****************************************************
// TEMPERATURE DISPLAY (84-85)
int tempInt = (int)(temperature + 0.5);
if (tempInt > 99 || tempInt < 0) {
  displayBuffer[84] = 0b01001001;  // "E" for Error
  displayBuffer[85] = 0b01001001;  // "E" for Error
} else {
  displayBuffer[84] = segmentFont[tempInt / 10];  
  displayBuffer[85] = segmentFont[tempInt % 10];  
}

// TAHAJUD (86-89: HH:MM)
displayBuffer[86] = segmentFont[tahajudHour / 10];
displayBuffer[87] = segmentFont[tahajudHour % 10] | 0x08;
displayBuffer[88] = segmentFont[tahajudMinute / 10];
displayBuffer[89] = segmentFont[tahajudMinute % 10];

// ISHRAK (90-92: H:MM)
displayBuffer[90] = segmentFont[ishrakHour % 10] | 0x08;
displayBuffer[91] = segmentFont[ishrakMinute / 10];
displayBuffer[92] = segmentFont[ishrakMinute % 10];

// CHASAT (93-95: H:MM) - NEW ADDITION
displayBuffer[93] = segmentFont[chasatHour % 10] | 0x08;
displayBuffer[94] = segmentFont[chasatMinute / 10];
displayBuffer[95] = segmentFont[chasatMinute % 10];

// TINBAZ (96-100: TT:UUU)
displayBuffer[96] = segmentFont[tinbazTen / 10];
displayBuffer[97] = segmentFont[tinbazTen % 10] | 0x08;
displayBuffer[98] = segmentFont[tinbazUnit / 100];
displayBuffer[99] = segmentFont[(tinbazUnit / 10) % 10];
displayBuffer[100] = segmentFont[tinbazUnit % 10];
  

//******************************************************************
// Blinking logic for edit mode - CORRECTED MAPPING
  if (editField != -1 && !blinkState) {
    // Time/Date fields (0-6)
    if (editField == 0) { displayBuffer[0] = 0; displayBuffer[1] = 0; } // Hour
    else if (editField == 1) { displayBuffer[2] = 0; displayBuffer[3] = 0; } // Minute
    else if (editField == 2) { displayBuffer[4] = 0; displayBuffer[5] = 0; } // Second
    else if (editField == 3) { displayBuffer[14] = 0; displayBuffer[15] = 0; } // Day
    else if (editField == 4) { displayBuffer[16] = 0; displayBuffer[17] = 0; } // Month
    else if (editField == 5) { displayBuffer[18] = 0; displayBuffer[19] = 0; } // Year
    else if (editField == 6) { displayBuffer[20] = 0; } // Day of Week
    
    // FAJAR fields (7-10)
    else if (editField == 7) { displayBuffer[21] = 0; } // FAJAR START Hour
    else if (editField == 8) { displayBuffer[22] = 0; displayBuffer[23] = 0; } // FAJAR START Minute
    else if (editField == 9) { displayBuffer[24] = 0; } // FAJAR END Hour
    else if (editField == 10) { displayBuffer[25] = 0; displayBuffer[26] = 0; } // FAJAR END Minute
    
    // JOHOR fields (11-14)
    else if (editField == 11) { displayBuffer[27] = 0; displayBuffer[28] = 0; } // JOHOR START Hour
    else if (editField == 12) { displayBuffer[29] = 0; displayBuffer[30] = 0; } // JOHOR START Minute
    else if (editField == 13) { displayBuffer[31] = 0; } // JOHOR END Hour
    else if (editField == 14) { displayBuffer[32] = 0; displayBuffer[33] = 0; } // JOHOR END Minute
    
    // ASAR fields (15-18)
    else if (editField == 15) { displayBuffer[34] = 0; } // ASAR START Hour
    else if (editField == 16) { displayBuffer[35] = 0; displayBuffer[36] = 0; } // ASAR START Minute
    else if (editField == 17) { displayBuffer[37] = 0; } // ASAR END Hour
    else if (editField == 18) { displayBuffer[38] = 0; displayBuffer[39] = 0; } // ASAR END Minute
    
    // MAGRIB fields (19-22)
    else if (editField == 19) { displayBuffer[40] = 0; } // MAGRIB START Hour
    else if (editField == 20) { displayBuffer[41] = 0; displayBuffer[42] = 0; } // MAGRIB START Minute
    else if (editField == 21) { displayBuffer[43] = 0; } // MAGRIB END Hour
    else if (editField == 22) { displayBuffer[44] = 0; displayBuffer[45] = 0; } // MAGRIB END Minute
    
    // ESHA fields (23-26)
    else if (editField == 23) { displayBuffer[46] = 0; } // ESHA START Hour
    else if (editField == 24) { displayBuffer[47] = 0; displayBuffer[48] = 0; } // ESHA START Minute
    else if (editField == 25) { displayBuffer[49] = 0; } // ESHA END Hour
    else if (editField == 26) { displayBuffer[50] = 0; displayBuffer[51] = 0; } // ESHA END Minute
    
    // JUMMA fields (27-30)
    else if (editField == 27) { displayBuffer[52] = 0; displayBuffer[53] = 0; } // JUMMA START Hour
    else if (editField == 28) { displayBuffer[54] = 0; displayBuffer[55] = 0; } // JUMMA START Minute
    else if (editField == 29) { displayBuffer[56] = 0; displayBuffer[57] = 0; } // JUMMA END Hour
    else if (editField == 30) { displayBuffer[58] = 0; displayBuffer[59] = 0; } // JUMMA END Minute
// TULU fields (31-32)
    else if (editField == 31) { displayBuffer[60] = 0; } // TULU Hour
    else if (editField == 32) { displayBuffer[61] = 0; displayBuffer[62] = 0; } // TULU Minute
    
    // JAWAL fields (33-34) - NEW
    else if (editField == 33) { displayBuffer[63] = 0; displayBuffer[64] = 0; } // JAWAL Hour
    else if (editField == 34) { displayBuffer[65] = 0; displayBuffer[66] = 0; } // JAWAL Minute
    
     // IDD fields (39-40)
    else if (editField == 39) { displayBuffer[73] = 0; } // IDD Hour
    else if (editField == 40) { displayBuffer[74] = 0; displayBuffer[75] = 0; } // IDD Minute
    
  // ROJA field (41) - NOT EDITABLE 


   // ✅ HIJRI (fields 50-52) - 
else if (editField == 50) { displayBuffer[78] = 0; displayBuffer[79] = 0; } // Day
else if (editField == 51) { displayBuffer[80] = 0; displayBuffer[81] = 0; } // Month
else if (editField == 52) { displayBuffer[82] = 0; displayBuffer[83] = 0; } // ✅ Year - Always blink
    
    // ✅ TINBAZ fields (53-56) - Individual digit blink
else if (editField == 53) { displayBuffer[96] = 0; displayBuffer[97] = 0; } // Tens (both)
else if (editField == 54) { displayBuffer[98] = 0; } // Units Hundreds
else if (editField == 55) { displayBuffer[99] = 0; } // Units Tens
else if (editField == 56) { displayBuffer[100] = 0; } // Units Ones
  }
//********************blinking logic end *************************************************
  
  
 
//*********************************************************************
// Send to display (up to 100)
digitalWrite(strobePin, LOW);
delayMicroseconds(2);

// Buffer blinking handling - UPDATED POSITIONS
if (led2Active || led3Active) {
  saveBufferValues();
  handleBufferBlinking();
}

for (int i = 100; i >= 0; i--) {  // Changed from 97 to 100
  shiftOut(dataPin, clockPin, MSBFIRST, displayBuffer[i]);
}
  delayMicroseconds(5);
  digitalWrite(strobePin, HIGH);
  delayMicroseconds(5);
  digitalWrite(strobePin, LOW);
}
 //*******************************************************
 // ==========================================
// âœ… SKIP NON-EDITABLE FIELDS - Helper Function
// ==========================================
int getNextEditableField(int current) {
  if (current == 32) return 39;  // TULU → IDD
  if (current == 40) return 50;  // IDD → HIJRI Day
  if (current == 56) return 0;   // TINBAZ Last → TIME (loop back)
  
  return current + 1;  // 50→51→52→53→54→55→56
}

int getPreviousEditableField(int current) {
  if (current == 39) return 32;  // IDD → TULU
  if (current == 50) return 40;  // HIJRI Day → IDD
  if (current == 0) return 56;   // TIME → TINBAZ Last (reverse loop)
  
  return current - 1;
}
// ==========================================
// âœ… HIJRI AUTO-INCREMENT HELPER FUNCTIONS
// ==========================================
// Get days in Hijri month from EEPROM (29 or 30)
int getHijriMonthDays(int month) {
  if (month < 1 || month > 12) return 30;
  
  int addr = EXTERNAL_HIJRI_M1_DAYS + (month - 1);
  byte days = readEEPROM(EEPROM_I2C_ADDRESS, addr);
  
  // Validate: must be 29 or 30
  if (days == 29 || days == 30) {
    return days;
  }
  
  // Default: Odd months = 30, Even months = 29
  if (month % 2 == 1) {
    return 30;
  } else {
    return 29;
  }
}
//******Calculate days difference between two English dates start*******
//******Calculate days difference between two English dates START*******
// Calculate days difference between two English dates
int calculateDaysDifference(int refDay, int refMonth, int refYear, int currentDay, int currentMonth, int currentYear) {
  
  int daysInMonth[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
  
  // Same date check
  if (refYear == currentYear && refMonth == currentMonth && refDay == currentDay) {
    return 0;
  }
  
  int totalDays = 0;
  
  // ====== SAME YEAR ======
  if (refYear == currentYear) {
    // Leap year check
    if (isLeapYear(2000 + currentYear)) {
      daysInMonth[2] = 29;
    }
    
    // Days remaining in reference month
    totalDays += daysInMonth[refMonth] - refDay;
    
    // Full months between
    for (int m = refMonth + 1; m < currentMonth; m++) {
      totalDays += daysInMonth[m];
    }
    
    // Days in current month
    totalDays += currentDay;
    
    return totalDays;
  }
  
  // ====== DIFFERENT YEARS ======
  
  // Step 1: Days remaining in reference year
  if (isLeapYear(2000 + refYear)) {
    daysInMonth[2] = 29;
  } else {
    daysInMonth[2] = 28;
  }
  
  totalDays += daysInMonth[refMonth] - refDay;
  
  for (int m = refMonth + 1; m <= 12; m++) {
    totalDays += daysInMonth[m];
  }
  
  // Step 2: Full years between
  for (int y = refYear + 1; y < currentYear; y++) {
    totalDays += isLeapYear(2000 + y) ? 366 : 365;
  }
  
  // Step 3: Days in current year
  if (isLeapYear(2000 + currentYear)) {
    daysInMonth[2] = 29;
  } else {
    daysInMonth[2] = 28;
  }
  
  for (int m = 1; m < currentMonth; m++) {
    totalDays += daysInMonth[m];
  }
  
  totalDays += currentDay;
  
  return totalDays;
}
//******Calculate days difference between two English dates END*******
//******Calculate days difference between two English dates END*******


// Calculate Hijri date from reference + days difference
void calculateHijriFromReference(int daysDiff) {
  int calcDay = hijriEditDay;
  int calcMonth = hijriEditMonth;
  int calcYear = hijriEditYear;
  
  // Add days one by one
  for (int i = 0; i < daysDiff; i++) {
    calcDay++;
    int monthDays = getHijriMonthDays(calcMonth);
    
    if (calcDay > monthDays) {
      calcDay = 1;
      calcMonth++;
      if (calcMonth > 12) {
        calcMonth = 1;
        calcYear++;
      }
    }
  }
  
  // Update global variables
  hijriEditDay = calcDay;
  hijriEditMonth = calcMonth;
  hijriEditYear = calcYear;
}
 //******// Calculate Hijri date from reference + days difference END************************

// Add N days to current Hijri date
void addDaysToHijri(int daysToAdd) {
  for (int i = 0; i < daysToAdd; i++) {
    hijriEditDay++;
    int monthDays = getHijriMonthDays(hijriEditMonth);
    
    if (hijriEditDay > monthDays) {
      hijriEditDay = 1;
      hijriEditMonth++;
      
      if (hijriEditMonth > 12) {
        hijriEditMonth = 1;
        hijriEditYear++;
        
        // Reset ROJA counter at RAMJAN
        if (hijriEditMonth == 9 && hijriEditDay == 1) {
          rojaCounter = 0;
          writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_ROJA_COUNTER, rojaCounter);
        }
      }
    }
  }
}
 // Common function to save all dates (English Backup + Hijri)  ← এখানে যোগ করুন
void saveDateBackup() {
  // Save Current English Date as Backup (RESET reference to 0)
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_REF_DAY, day);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_REF_MONTH, month);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_REF_YEAR, year);
  
  // Save Current Hijri Date
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_DAY, hijriEditDay);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_MONTH, hijriEditMonth);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_YEAR_HIGH, hijriEditYear / 256);
  writeEEPROM(EEPROM_I2C_ADDRESS, EXTERNAL_HIJRI_YEAR_LOW, hijriEditYear % 256);
}


 //*****************void loadTime() START*****************

void loadTime() {
  DateTime now = rtc.now();
  hour = now.hour();
  minute = now.minute();
  second = now.second();
  day = now.day();
  month = now.month();
  year = now.year() % 100;
  dayOfWeek = now.dayOfTheWeek();
}

//******************void saveTime() START*****************************
void saveTime() {
  rtc.adjust(DateTime(2000 + year, month, day, hour, minute, second));
  
  // STEP 2: Manual English Date Edit - Save Backup (No Calculation)
  saveDateBackup();
}
//*****************INCREMENT FIELD START**********************************

void incrementField() {
  if (editField == 0) hour = (hour + 1) % 24;
  if (editField == 1) minute = (minute + 1) % 60;
  if (editField == 2) second = (second + 1) % 60;
  
  // DAY INCREMENT - Fixed with proper month limits
  if (editField == 3) {
    int maxDays = getMaxDaysInMonth(month, year);
    day = (day < maxDays) ? day + 1 : 1;
    loadCurrentDayAlarm(); // Load alarms for new date
  }
  
  if (editField == 4) {
    month = (month < 12) ? month + 1 : 1;
    
    // Check if new month has fewer days than current day
    int maxDays = getMaxDaysInMonth(month, year);
    if (day > maxDays) {
      day = maxDays;  // Adjust day to last valid day of new month
    }
    
    loadCurrentDayAlarm(); // Load alarms for new date
  }
  
  if (editField == 5) {
    year = (year < 99) ? year + 1 : 0;
    
    // Check leap year change for February
    if (month == 2) {
      int maxDays = getMaxDaysInMonth(month, year);
      if (day > maxDays) {
        day = maxDays;  // Adjust day if leap year changed
      }
    }
    
    loadCurrentDayAlarm(); // Load alarms for new date
  }
  
  if (editField == 6) {
    dayOfWeek = (dayOfWeek + 1) % 7; // Day of week (0-6)
  }
  
  // NEW FIELD ORDER: ফজর→জুম্মা→যোহর→আসর→মাগরিব→এশা
  // FAJAR START/END (fields 7-10)
  if (editField == 7) alarm1Hour = (alarm1Hour % 9) + 1;
  if (editField == 8) alarm1Minute = (alarm1Minute + 1) % 60;
  if (editField == 9) alarm2Hour = (alarm2Hour % 9) + 1;
  if (editField == 10) alarm2Minute = (alarm2Minute + 1) % 60;
  
  // JOHOR START/END (fields 11-14)
  if (editField == 11) alarm3Hour = (alarm3Hour % 12) + 1;
  if (editField == 12) alarm3Minute = (alarm3Minute + 1) % 60;
  if (editField == 13) alarm4Hour = (alarm4Hour % 9) + 1;
  if (editField == 14) alarm4Minute = (alarm4Minute + 1) % 60;
  
  // ASAR START/END (fields 15-18)
  if (editField == 15) alarm5Hour = (alarm5Hour % 9) + 1;
  if (editField == 16) alarm5Minute = (alarm5Minute + 1) % 60;
  if (editField == 17) alarm6Hour = (alarm6Hour % 9) + 1;
  if (editField == 18) alarm6Minute = (alarm6Minute + 1) % 60;
 
  // MAGRIB START/END (fields 19-22) ADD OFFSET
  if (editField == 19) alarm7Hour = (alarm7Hour % 9) + 1;
  if (editField == 20) {
    alarm7Minute = (alarm7Minute + 1) % 60;
    magribStartOffset++;  // Track offset
  }
  if (editField == 21) alarm8Hour = (alarm8Hour % 9) + 1;
  if (editField == 22) {
    alarm8Minute = (alarm8Minute + 1) % 60;
    magribEndOffset++;  // Track offset
  }
  
  // ESHA START/END (fields 23-26)
  if (editField == 23) alarm9Hour = (alarm9Hour % 9) + 1;
  if (editField == 24) alarm9Minute = (alarm9Minute + 1) % 60;
  if (editField == 25) alarm10Hour = (alarm10Hour % 9) + 1;
  if (editField == 26) alarm10Minute = (alarm10Minute + 1) % 60;
  
  // JUMMA START/END (fields 27-30)
  if (editField == 27) jummaStartHour = (jummaStartHour % 12) + 1;
  if (editField == 28) jummaStartMinute = (jummaStartMinute + 1) % 60;
  if (editField == 29) jummaEndHour = (jummaEndHour % 12) + 1;
  if (editField == 30) jummaEndMinute = (jummaEndMinute + 1) % 60;
  
  //INCREMENT FIELD 
  // TULU (fields 31-32) ADD OFFSET
  if (editField == 31) tuluHour = (tuluHour % 12) + 1;
  if (editField == 32) {
    tuluMinute = (tuluMinute + 1) % 60;
    tuluOffset++;  // Track offset
  }

  // JAWAL (fields 33-34) - Flash data (not editable in practice)
  if (editField == 33) jawalHour = (jawalHour % 12) + 1;
  if (editField == 34) jawalMinute = (jawalMinute + 1) % 60;

  // IDD (fields 39-40)
  if (editField == 39) iddHour = (iddHour % 9) + 1;
  if (editField == 40) iddMinute = (iddMinute + 1) % 60;

  // ROJA COUNTER (field 41) - Not editable, auto-calculated
  if (editField == 41) rojaCounter = (rojaCounter + 1) % 100;

  // ✅ HIJRI (fields 50-52) - Correct Positions
  if (editField == 50) {
    // Hijri Day (1-30)
    hijriEditDay++;
    if (hijriEditDay > 30) hijriEditDay = 1;
  }
  if (editField == 51) {
    // Hijri Month (1-12)
    hijriEditMonth++;
    if (hijriEditMonth > 12) hijriEditMonth = 1;
    
    // ✅ Days Edit Mode: Load current month days when month changes
    if (hijriDaysEditMode) {
      int addr = EXTERNAL_HIJRI_M1_DAYS + (hijriEditMonth - 1);
      byte days = readEEPROM(EEPROM_I2C_ADDRESS, addr);
      if (days == 29 || days == 30) {
        hijriMonthDaysTemp = days;
      } else {
        hijriMonthDaysTemp = (hijriEditMonth % 2 == 1) ? 30 : 29;
      }
    }
  }


  if (editField == 52) {
    if (hijriDaysEditMode) {
      // ✅ Days Edit Mode: Toggle 29 ↔ 30
      hijriMonthDaysTemp = (hijriMonthDaysTemp == 29) ? 30 : 29;
      
      // ✅ INSTANT SAVE to EEPROM
      int addr = EXTERNAL_HIJRI_M1_DAYS + (hijriEditMonth - 1);
      writeEEPROM(EEPROM_I2C_ADDRESS, addr, hijriMonthDaysTemp);
      
      
    } else {
      // Normal Mode: Hijri Year (1400-1499)
      hijriEditYear++;
      if (hijriEditYear > 1499) hijriEditYear = 1400;
    }
  }

  // ✅ TINBAZ (fields 53-56) - NEW POSITIONS (4 fields)
  // Field 53: Tens (00-99) - Both digits increment together
  if (editField == 53) {
    tinbazTen = (tinbazTen + 1) % 100;
  }

  // Field 54: Units Hundreds (0-9)
  if (editField == 54) {
    int h = tinbazUnit / 100;
    int rest = tinbazUnit % 100;
    h = (h + 1) % 10;
    tinbazUnit = h * 100 + rest;
  }

  // Field 55: Units Tens (0-9)
  if (editField == 55) {
    int h = tinbazUnit / 100;
    int t = (tinbazUnit / 10) % 10;
    int o = tinbazUnit % 10;
    t = (t + 1) % 10;
    tinbazUnit = h * 100 + t * 10 + o;
  }

  // Field 56: Units Ones (0-9)
  if (editField == 56) {
    int h = tinbazUnit / 100;
    int t = (tinbazUnit / 10) % 10;
    int o = tinbazUnit % 10;
    o = (o + 1) % 10;
    tinbazUnit = h * 100 + t * 10 + o;
  }
}
//********************//INCREMENT FIELD END *************


//*******************//DECREMENT FIELD START***********************************

void decrementField() {
  if (editField == 0) hour = (hour + 23) % 24;
  if (editField == 1) minute = (minute + 59) % 60;
  if (editField == 2) second = (second + 59) % 60;
  
  // DAY DECREMENT - Fixed with proper month limits
  if (editField == 3) {
    if (day > 1) {
      day = day - 1;
    } else {
      // Go to last day of current month
      int maxDays = getMaxDaysInMonth(month, year);
      day = maxDays;
    }
    loadCurrentDayAlarm(); // Load alarms for new date
  }
  
  if (editField == 4) {
    month = (month > 1) ? month - 1 : 12;
    
    // Check if new month has fewer days than current day
    int maxDays = getMaxDaysInMonth(month, year);
    if (day > maxDays) {
      day = maxDays;  // Adjust day to last valid day of new month
    }
    
    loadCurrentDayAlarm(); // Load alarms for new date
  }
  
  if (editField == 5) {
    year = (year > 0) ? year - 1 : 99;
    
    // Check leap year change for February
    if (month == 2) {
      int maxDays = getMaxDaysInMonth(month, year);
      if (day > maxDays) {
        day = maxDays;  // Adjust day if leap year changed
      }
    }
    
    loadCurrentDayAlarm(); // Load alarms for new date
  }
  
  if (editField == 6) {
    dayOfWeek = (dayOfWeek + 6) % 7; // Day of week (0-6)
  }
  
  // NEW FIELD ORDER: ফজর→জুম্মা→যোহর→আসর→মাগরিব→এশা
 
  // FAJAR START/END (fields 7-10)
  if (editField == 7) alarm1Hour = (alarm1Hour == 1) ? 9 : alarm1Hour - 1;
  if (editField == 8) alarm1Minute = (alarm1Minute + 59) % 60;
  if (editField == 9) alarm2Hour = (alarm2Hour == 1) ? 9 : alarm2Hour - 1;
  if (editField == 10) alarm2Minute = (alarm2Minute + 59) % 60;
  
  // JOHOR START/END (fields 11-14)
  if (editField == 11) alarm3Hour = (alarm3Hour == 1) ? 12 : alarm3Hour - 1;
  if (editField == 12) alarm3Minute = (alarm3Minute + 59) % 60;
  if (editField == 13) alarm4Hour = (alarm4Hour == 1) ? 9 : alarm4Hour - 1;
  if (editField == 14) alarm4Minute = (alarm4Minute + 59) % 60;
  
  // ASAR START/END (fields 15-18)
  if (editField == 15) alarm5Hour = (alarm5Hour == 1) ? 9 : alarm5Hour - 1;
  if (editField == 16) alarm5Minute = (alarm5Minute + 59) % 60;
  if (editField == 17) alarm6Hour = (alarm6Hour == 1) ? 9 : alarm6Hour - 1;
  if (editField == 18) alarm6Minute = (alarm6Minute + 59) % 60;
  
  // MAGRIB START/END (fields 19-22) ADD OFFSET
  if (editField == 19) alarm7Hour = (alarm7Hour == 1) ? 9 : alarm7Hour - 1;
  if (editField == 20) {
    alarm7Minute = (alarm7Minute + 59) % 60;
    magribStartOffset--;  // Track offset (negative)
  }
  if (editField == 21) alarm8Hour = (alarm8Hour == 1) ? 9 : alarm8Hour - 1;
  if (editField == 22) {
    alarm8Minute = (alarm8Minute + 59) % 60;
    magribEndOffset--;  // Track offset (negative)
  }
  
  // ESHA START/END (fields 23-26)
  if (editField == 23) alarm9Hour = (alarm9Hour == 1) ? 9 : alarm9Hour - 1;
  if (editField == 24) alarm9Minute = (alarm9Minute + 59) % 60;
  if (editField == 25) alarm10Hour = (alarm10Hour == 1) ? 9 : alarm10Hour - 1;
  if (editField == 26) alarm10Minute = (alarm10Minute + 59) % 60;
  
  // JUMMA START/END (fields 27-30)
  if (editField == 27) jummaStartHour = (jummaStartHour == 1) ? 12 : jummaStartHour - 1;
  if (editField == 28) jummaStartMinute = (jummaStartMinute + 59) % 60;
  if (editField == 29) jummaEndHour = (jummaEndHour == 1) ? 12 : jummaEndHour - 1;
  if (editField == 30) jummaEndMinute = (jummaEndMinute + 59) % 60;
    
  //DECREMENT FIELD 
  // TULU (fields 31-32) ADD OFFSET
  if (editField == 31) tuluHour = (tuluHour == 1) ? 12 : tuluHour - 1;
  if (editField == 32) {
    tuluMinute = (tuluMinute + 59) % 60;
    tuluOffset--;  // Track offset (negative)
  }
  
  // JAWAL (fields 33-34)
  if (editField == 33) jawalHour = (jawalHour == 1) ? 12 : jawalHour - 1;
  if (editField == 34) jawalMinute = (jawalMinute + 59) % 60;
  
  // IDD (fields 39-40)
  if (editField == 39) iddHour = (iddHour == 1) ? 9 : iddHour - 1;
  if (editField == 40) iddMinute = (iddMinute + 59) % 60;
  
  // ROJA COUNTER (field 41)
  if (editField == 41) rojaCounter = (rojaCounter + 99) % 100;
  
  //*************HIJRI DECREMENT *****************************************
  // ✅ HIJRI (fields 50-52) - Correct Positions
  if (editField == 50) {
    // Hijri Day (1-30)
    hijriEditDay--;
    if (hijriEditDay < 1) hijriEditDay = 30;
  }
  if (editField == 51) {
    // Hijri Month (1-12)
    hijriEditMonth--;
    if (hijriEditMonth < 1) hijriEditMonth = 12;
    
    // ✅ Days Edit Mode: Load current month days when month changes
    if (hijriDaysEditMode) {
      int addr = EXTERNAL_HIJRI_M1_DAYS + (hijriEditMonth - 1);
      byte days = readEEPROM(EEPROM_I2C_ADDRESS, addr);
      if (days == 29 || days == 30) {
        hijriMonthDaysTemp = days;
      } else {
        hijriMonthDaysTemp = (hijriEditMonth % 2 == 1) ? 30 : 29;
      }
    }
  }
  if (editField == 52) {
    if (hijriDaysEditMode) {
      // ✅ Days Edit Mode: Toggle 30 ↔ 29
      hijriMonthDaysTemp = (hijriMonthDaysTemp == 30) ? 29 : 30;
      
      // ✅ INSTANT SAVE to EEPROM
      int addr = EXTERNAL_HIJRI_M1_DAYS + (hijriEditMonth - 1);
      writeEEPROM(EEPROM_I2C_ADDRESS, addr, hijriMonthDaysTemp);
      
      
    } else {
      // Normal Mode: Hijri Year (1400-1499)
      hijriEditYear--;
      if (hijriEditYear < 1400) hijriEditYear = 1499;
    }
  }
  
  // ✅ TINBAZ (fields 53-56) - NEW POSITIONS (4 fields)
  // Field 53: Tens (00-99) - Both digits decrement together
  if (editField == 53) {
    tinbazTen = (tinbazTen + 99) % 100;
  }
  
  // Field 54: Units Hundreds (0-9)
  if (editField == 54) {
    int h = tinbazUnit / 100;
    int rest = tinbazUnit % 100;
    h = (h + 9) % 10;
    tinbazUnit = h * 100 + rest;
  }
  
  // Field 55: Units Tens (0-9)
  if (editField == 55) {
    int h = tinbazUnit / 100;
    int t = (tinbazUnit / 10) % 10;
    int o = tinbazUnit % 10;
    t = (t + 9) % 10;
    tinbazUnit = h * 100 + t * 10 + o;
  }
  
  // Field 56: Units Ones (0-9)
  if (editField == 56) {
    int h = tinbazUnit / 100;
    int t = (tinbazUnit / 10) % 10;
    int o = tinbazUnit % 10;
    o = (o + 9) % 10;
    tinbazUnit = h * 100 + t * 10 + o;
  }
  //DECREMENT FIELD END
}

//******************TINBAZ DECREMENT FIELD END**********************************************

// Function declarations
void incrementField();
void decrementField();
void handleSwitches() {
  static bool lastMenu = HIGH, lastInc = HIGH, lastDec = HIGH, lastLeft = HIGH;
  
  // Read manual switches
  bool menuState = digitalRead(menuPin);
  bool incState = digitalRead(incPin);
  bool decState = digitalRead(decPin);
  bool leftState = digitalRead(leftPin);
  
  // Read IR remote and OR with manual switches
//****************IR CODE WITH MOGRIB FIELD DATE CHANGE START**********************************

// Read IR remote and OR with manual switches
if (IrReceiver.decode()) {
  uint8_t cmd = IrReceiver.decodedIRData.command;
  unsigned long currentTime = millis();
     
//****************magrib offset start******************

// MAGRIB global offset system
     if (editField >= 19 && editField <= 22) {
  
  // IR 91 - Apply MAGRIB START offset to ALL 366 days (only in minute field 20)
  if (cmd == 91 && editField == 20 && magribStartOffset != 0 && millis() - lastIr91Time >= 500) {
    lastIr91Time = millis();
    applyingOffset = true;
    
    Serial.println("*** APPLYING MAGRIB START OFFSET: " + String(magribStartOffset) + " minutes ***");
    
    // Apply offset to all 366 days
    unsigned long lastBlinkTime = millis();
    bool localBlinkState = true;
    
    for (int dayNum = 1; dayNum <= 366; dayNum++) {
      int magribStartAddr = MAGRIB_START_ADDR + (dayNum - 1) * 2;
      
      // Read current values
      int currentHour = readEEPROM(EEPROM_I2C_ADDRESS, magribStartAddr);
      int currentMinute = readEEPROM(EEPROM_I2C_ADDRESS, magribStartAddr + 1);
      
      // Validate before calculation
      if (currentHour == 0xFF || currentHour < 1 || currentHour > 12) currentHour = 6;
      if (currentMinute == 0xFF || currentMinute > 59) currentMinute = 0;
      
      // Convert to total minutes for easy calculation
      int totalMinutes = currentHour * 60 + currentMinute;
      totalMinutes += magribStartOffset;
      
      // Handle rollover (keep within 1:00 to 12:59 range)
      while (totalMinutes < 60) totalMinutes += 720;
      while (totalMinutes >= 780) totalMinutes -= 720;
      
      // Convert back to hour:minute
      int newHour = totalMinutes / 60;
      int newMinute = totalMinutes % 60;
      
      // Ensure hour is in 1-12 range
      if (newHour < 1) newHour = 12;
      if (newHour > 12) newHour = newHour - 12;
      if (newHour < 1) newHour = 12;
      
      // Write back to EEPROM
      writeEEPROM(EEPROM_I2C_ADDRESS, magribStartAddr, newHour);
      writeEEPROM(EEPROM_I2C_ADDRESS, magribStartAddr + 1, newMinute);
      
      // 200ms blinking during write
      if (millis() - lastBlinkTime >= 200) {
        lastBlinkTime = millis();
        localBlinkState = !localBlinkState;
        blinkState = localBlinkState;
        
        int displayHour = hour % 12;
        if (displayHour == 0) displayHour = 12;
        updateDisplay(displayHour);
      }
      
      // Progress indicator every 50 days
      if (dayNum % 50 == 0) {
        Serial.println("MAGRIB START updated: Day " + String(dayNum));
      }
    }
    
    Serial.println("*** MAGRIB START OFFSET COMPLETE ***");
    
    // Reset offset counter
    magribStartOffset = 0;
    applyingOffset = false;
    
    // Stop blinking - signal complete
    editField = -1;
    blinkCount = 0;
    
    // Reload current day's value
    loadCurrentDayAlarm();
    displayNeedsUpdate = true;
  }
  
  // IR 91 - Apply MAGRIB END offset to ALL 366 days (only in minute field 22)
  else if (cmd == 91 && editField == 22 && magribEndOffset != 0 && millis() - lastIr91Time >= 500) {
    lastIr91Time = millis();
    applyingOffset = true;
    
    Serial.println("*** APPLYING MAGRIB END OFFSET: " + String(magribEndOffset) + " minutes ***");
    
    // Apply offset to all 366 days
    unsigned long lastBlinkTime = millis();
    bool localBlinkState = true;
    
    for (int dayNum = 1; dayNum <= 366; dayNum++) {
      int magribEndAddr = MAGRIB_END_ADDR + (dayNum - 1) * 2;
      
      // Read current values
      int currentHour = readEEPROM(EEPROM_I2C_ADDRESS, magribEndAddr);
      int currentMinute = readEEPROM(EEPROM_I2C_ADDRESS, magribEndAddr + 1);
      
      // Validate before calculation
      if (currentHour == 0xFF || currentHour < 1 || currentHour > 12) currentHour = 7;
      if (currentMinute == 0xFF || currentMinute > 59) currentMinute = 0;
      
      // Convert to total minutes for easy calculation
      int totalMinutes = currentHour * 60 + currentMinute;
      totalMinutes += magribEndOffset;
      
      // Handle rollover (keep within 1:00 to 12:59 range)
      while (totalMinutes < 60) totalMinutes += 720;
      while (totalMinutes >= 780) totalMinutes -= 720;
      
      // Convert back to hour:minute
      int newHour = totalMinutes / 60;
      int newMinute = totalMinutes % 60;
      
      // Ensure hour is in 1-12 range
      if (newHour < 1) newHour = 12;
      if (newHour > 12) newHour = newHour - 12;
      if (newHour < 1) newHour = 12;
      
      // Write back to EEPROM
      writeEEPROM(EEPROM_I2C_ADDRESS, magribEndAddr, newHour);
      writeEEPROM(EEPROM_I2C_ADDRESS, magribEndAddr + 1, newMinute);
      
      // 200ms blinking during write
      if (millis() - lastBlinkTime >= 200) {
        lastBlinkTime = millis();
        localBlinkState = !localBlinkState;
        blinkState = localBlinkState;
        
        int displayHour = hour % 12;
        if (displayHour == 0) displayHour = 12;
        updateDisplay(displayHour);
      }
      
      // Progress indicator every 50 days
      if (dayNum % 50 == 0) {
        Serial.println("MAGRIB END updated: Day " + String(dayNum));
      }
    }
    
    Serial.println("*** MAGRIB END OFFSET COMPLETE ***");
    
    // Reset offset counter
    magribEndOffset = 0;
    applyingOffset = false;
    
    // Stop blinking - signal complete
    editField = -1;
    blinkCount = 0;
    
    // Reload current day's value
    loadCurrentDayAlarm();
    displayNeedsUpdate = true;
  }
  
} // MAGRIB section OFFSET END 


 //****** ************MAGRIB section OFFSET END*****************************
 //****** ************MAGRIB section OFFSET END*****************************
  
   //********************TULU OFFSET  CODE START *********************
  // TULU AUTO OFFSET VALE CHANGE****************
 else if (editField >= 31 && editField <= 32) {  // TULU edit fields
  
  // IR 12 - Save current date only
  if (cmd == 12 && millis() - lastIr12Time >= 500) {
    lastIr12Time = millis();
    int currentDayOfYear = getDayOfYear(day, month, 2000 + year);
    int tuluAddr = TULU_START_ADDR + (currentDayOfYear - 1) * 2;
    
    writeEEPROM(EEPROM_I2C_ADDRESS, tuluAddr, tuluHour);
    writeEEPROM(EEPROM_I2C_ADDRESS, tuluAddr + 1, tuluMinute);
    
    displayNeedsUpdate = true;
    blinkCount = 0;
  }
  
  // IR 91 - Apply TULU offset to ALL 366 days (only in minute field)
  else if (cmd == 91 && editField == 32 && tuluOffset != 0 && millis() - lastIr91Time >= 500) {
    lastIr91Time = millis();
    applyingOffset = true;
    
    Serial.println("*** APPLYING TULU OFFSET: " + String(tuluOffset) + " minutes ***");
  
    // Apply offset to all 366 days
    unsigned long lastBlinkTime = millis();
    bool localBlinkState = true;
    
    for (int dayNum = 1; dayNum <= 366; dayNum++) {
      int tuluAddr = TULU_START_ADDR + (dayNum - 1) * 2;
      
      // Read current values
      int currentHour = readEEPROM(EEPROM_I2C_ADDRESS, tuluAddr);
      int currentMinute = readEEPROM(EEPROM_I2C_ADDRESS, tuluAddr + 1);
      
      // Validate before calculation
      if (currentHour == 0xFF || currentHour < 1 || currentHour > 12) currentHour = 6;
      if (currentMinute == 0xFF || currentMinute > 59) currentMinute = 0;
      
      // Convert to total minutes for easy calculation
      int totalMinutes = currentHour * 60 + currentMinute;
      totalMinutes += tuluOffset;
      
      // Handle rollover (keep within 1:00 to 12:59 range)
      while (totalMinutes < 60) totalMinutes += 720;  // Add 12 hours
      while (totalMinutes >= 780) totalMinutes -= 720;  // Subtract 12 hours
      
      // Convert back to hour:minute
      int newHour = totalMinutes / 60;
      int newMinute = totalMinutes % 60;
      
      // Ensure hour is in 1-12 range
      if (newHour < 1) newHour = 12;
      if (newHour > 12) newHour = newHour - 12;
      if (newHour < 1) newHour = 12;
      
      // Write back to EEPROM
      writeEEPROM(EEPROM_I2C_ADDRESS, tuluAddr, newHour);
      writeEEPROM(EEPROM_I2C_ADDRESS, tuluAddr + 1, newMinute);
      
      // 200ms blinking during write
      if (millis() - lastBlinkTime >= 200) {
        lastBlinkTime = millis();
        localBlinkState = !localBlinkState;
        blinkState = localBlinkState;
        
        // Update display to show blink
        int displayHour = hour % 12;
        if (displayHour == 0) displayHour = 12;
        updateDisplay(displayHour);
      }
      
      // Progress indicator every 50 days
      if (dayNum % 50 == 0) {
        Serial.println("TULU updated: Day " + String(dayNum));
      }
    }
    //********WRITE CONTINUE BLINK ON END ************************
    Serial.println("*** TULU OFFSET COMPLETE ***");
    
    // Reset offset counter
    tuluOffset = 0;
    applyingOffset = false;
    
    // Stop blinking - signal complete
    editField = -1;
    blinkCount = 0;
    
    // Reload current day's value
    loadCurrentDayAlarm();
    displayNeedsUpdate = true;
  }
  }

//*****************TULU OFFSET END*********************
//*****************TULU OFFSET END*********************

  //***************************************************************************
//**************hizri offset start remote code 91*********************************
//**************hizri offset start remote code 91*********************************
else if (editField >= 50 && editField <= 52) {
  
  if (cmd == 91 && !hijriDaysEditMode && millis() - lastIr91Time >= 500) {
    lastIr91Time = millis();
    hijriDaysEditMode = true;
    
    // Load current month's days
    int addr = EXTERNAL_HIJRI_M1_DAYS + (hijriEditMonth - 1);
    byte days = readEEPROM(EEPROM_I2C_ADDRESS, addr);
    hijriMonthDaysTemp = (days == 29 || days == 30) ? days : ((hijriEditMonth % 2 == 1) ? 30 : 29);
    
    // ✅ Jump to Year field (52) directly
    editField = 52;
    
    // ✅ Reset blink state for immediate blink
    blinkState = true;
    lastBlink = millis();
    
    displayNeedsUpdate = true;
    blinkCount = 0;
  }
}

  //********************hizri OFFSET  CODE END *********************

 // Regular IR commands - SIMPLE fixed speed (no progressive speed)
switch (cmd) {
  case 26: // IR UP = MENU
    menuState = LOW;
    break;
    
  case 27: // IR DOWN = INC  
    if (millis() - lastIrIncTime >= 500) {  // 500ms delay
      incState = LOW;
      lastIrIncTime = millis();
    }
    break;
    
  case 30: // IR LEFT
    if (millis() - lastIrLeftTime >= 500) {  // 500ms delay
      leftState = LOW;
      lastIrLeftTime = millis();
    }
    break;
    
  case 31: // IR RIGHT = DEC
    if (millis() - lastIrDecTime >= 500) {  // 500ms delay
      decState = LOW;
      lastIrDecTime = millis();
    }
    break;
}

IrReceiver.resume();
}
//****************IR CODE WITH MOGRIB FIELD DATE CHANGE END**
//****************IR CODE WITH MOGRIB FIELD DATE CHANGE END**
  
//******************************************************
  unsigned long now = millis();
  static unsigned long lastIncHold = 0, lastDecHold = 0, lastMenuHold = 0, lastLeftHold = 0;

  // Combined switch handling (Manual OR IR)
  if (lastMenu == HIGH && menuState == LOW) {
    if (editField >= 0 && editField <= 6) saveTime();
    if (editField >= 7 && editField <= 56) {
      // Save only editable fields: JUMMA(27-30), TULU(31-32), IDD(39-40), ROJA(41), TINBAZ(46-49)
      // Skip Flash-only fields: JAWAL(33-34), SEHARI(35-36), IFTAR(37-38), TAHAJUD(42-43), ISHRAK(44-45)
      if ((editField >= 27 && editField <= 34) || (editField >= 39 && editField <= 40) || (editField >= 53 && editField <= 56)) {
        saveJummaToInternalEEPROM();
      } else {
        int dayOfYear = getDayOfYear(day, month, 2000 + year);
        writeDayAlarmToEEPROM(dayOfYear, alarm1Hour, alarm1Minute, alarm2Hour, alarm2Minute,
                             alarm3Hour, alarm3Minute, alarm4Hour, alarm4Minute,
                             alarm5Hour, alarm5Minute, alarm6Hour, alarm6Minute,
                             alarm7Hour, alarm7Minute, alarm8Hour, alarm8Minute,
                             alarm9Hour, alarm9Minute, alarm10Hour, alarm10Minute);
      }
    }

    int previousEditField = editField;
    
    if (editField == -1) {
      if (lastSavedEditField != -1) {
        editField = lastSavedEditField;
        editModeJustStarted = true;
      } else {
        editField = 0;
        editModeJustStarted = true;
      }
    } else {
      editField = getNextEditableField(editField);  // âœ… Skip logic
    }

    if (previousEditField != -1 && editField == -1) {
      DateTime currentTime = rtc.now();
      hour = currentTime.hour();
      minute = currentTime.minute();
      second = currentTime.second();
      day = currentTime.day();
      month = currentTime.month();
      year = currentTime.year() % 100;
      dayOfWeek = currentTime.dayOfTheWeek();
      loadCurrentDayAlarm();
    }

    blinkCount = 0;
    wasBlinking = false;   // â† à¦à¦‡ line à¦¯à§‹à¦— à¦•à¦°à§à¦¨
    lastMenuHold = now;
    displayNeedsUpdate = true;
  } else if (menuState == LOW && now - lastMenuHold > 500) {
    if (editField >= 0 && editField <= 6) saveTime();
    if (editField >= 7 && editField <= 56) {
      // Save only editable fields: JUMMA(27-30), TULU(31-32), IDD(39-40), ROJA(41), TINBAZ(46-49)
      // Skip Flash-only fields: JAWAL(33-34), SEHARI(35-36), IFTAR(37-38), TAHAJUD(42-43), ISHRAK(44-45)
      if ((editField >= 27 && editField <= 34) || (editField >= 39 && editField <= 40) || (editField >= 53 && editField <= 56)) {
        saveJummaToInternalEEPROM();
      } else {
        int dayOfYear = getDayOfYear(day, month, 2000 + year);
        writeDayAlarmToEEPROM(dayOfYear, alarm1Hour, alarm1Minute, alarm2Hour, alarm2Minute,
                             alarm3Hour, alarm3Minute, alarm4Hour, alarm4Minute,
                             alarm5Hour, alarm5Minute, alarm6Hour, alarm6Minute,
                             alarm7Hour, alarm7Minute, alarm8Hour, alarm8Minute,
                             alarm9Hour, alarm9Minute, alarm10Hour, alarm10Minute);
      }
    }

    int previousEditField = editField;
    editField = getNextEditableField(editField);  // âœ… Skip logic

    if (previousEditField != -1 && editField == -1) {
      DateTime currentTime = rtc.now();
      hour = currentTime.hour();
      minute = currentTime.minute();
      second = currentTime.second();
      day = currentTime.day();
      month = currentTime.month();
      year = currentTime.year() % 100;
      dayOfWeek = currentTime.dayOfTheWeek();
      loadCurrentDayAlarm();
    }

    blinkCount = 0;
    wasBlinking = false;   // â† à¦à¦‡ line à¦¯à§‹à¦— à¦•à¦°à§à¦¨
    lastMenuHold = now;
    displayNeedsUpdate = true;
  }
//****************right shift end*****************************************
if (lastLeft == HIGH && leftState == LOW) {
    if (editField >= 0 && editField <= 6) saveTime();
    if (editField >= 7 && editField <= 56) {
      if ((editField >= 27 && editField <= 34) || (editField >= 39 && editField <= 40) || (editField >= 53 && editField <= 56)) {
        saveJummaToInternalEEPROM();
      } else {
        int dayOfYear = getDayOfYear(day, month, 2000 + year);
        writeDayAlarmToEEPROM(dayOfYear, alarm1Hour, alarm1Minute, alarm2Hour, alarm2Minute,
                             alarm3Hour, alarm3Minute, alarm4Hour, alarm4Minute,
                             alarm5Hour, alarm5Minute, alarm6Hour, alarm6Minute,
                             alarm7Hour, alarm7Minute, alarm8Hour, alarm8Minute,
                             alarm9Hour, alarm9Minute, alarm10Hour, alarm10Minute);
      }
    }

    int previousEditField = editField;
    
    if (editField == -1) {
      if (lastSavedEditField != -1) {
        editField = lastSavedEditField;
        editModeJustStarted = true;
      } else {
        editField = 0;
        editModeJustStarted = true;
      }
    } else {
      // ✅ Days Edit Mode: Month (51) ↔ Year (52) toggle
      if (hijriDaysEditMode && editField == 51) {
        editField = 52;
      } else if (hijriDaysEditMode && editField == 52) {
        editField = 51;
      } else {
        editField = getPreviousEditableField(editField);
      }
    }

    if (previousEditField != -1 && editField == -1) {
      DateTime currentTime = rtc.now();
      hour = currentTime.hour();
      minute = currentTime.minute();
      second = currentTime.second();
      day = currentTime.day();
      month = currentTime.month();
      year = currentTime.year() % 100;
      dayOfWeek = currentTime.dayOfTheWeek();
      loadCurrentDayAlarm();
    }

    blinkCount = 0;
    wasBlinking = false;
    lastLeftHold = now;
    displayNeedsUpdate = true;
  } else if (leftState == LOW && now - lastLeftHold > 500) {
    if (editField >= 0 && editField <= 6) saveTime();
    if (editField >= 7 && editField <= 56) {
      if ((editField >= 27 && editField <= 34) || (editField >= 39 && editField <= 40) || (editField >= 53 && editField <= 56)) {
        saveJummaToInternalEEPROM();
      } else {
        int dayOfYear = getDayOfYear(day, month, 2000 + year);
        writeDayAlarmToEEPROM(dayOfYear, alarm1Hour, alarm1Minute, alarm2Hour, alarm2Minute,
                             alarm3Hour, alarm3Minute, alarm4Hour, alarm4Minute,
                             alarm5Hour, alarm5Minute, alarm6Hour, alarm6Minute,
                             alarm7Hour, alarm7Minute, alarm8Hour, alarm8Minute,
                             alarm9Hour, alarm9Minute, alarm10Hour, alarm10Minute);
      }
    }

    int previousEditField = editField;
    
    // ✅ Days Edit Mode: Month (51) ↔ Year (52) toggle
    if (hijriDaysEditMode && editField == 51) {
      editField = 52;
    } else if (hijriDaysEditMode && editField == 52) {
      editField = 51;
    } else {
      editField = getPreviousEditableField(editField);
    }

    if (previousEditField != -1 && editField == -1) {
      DateTime currentTime = rtc.now();
      hour = currentTime.hour();
      minute = currentTime.minute();
      second = currentTime.second();
      day = currentTime.day();
      month = currentTime.month();
      year = currentTime.year() % 100;
      dayOfWeek = currentTime.dayOfTheWeek();
      loadCurrentDayAlarm();
    }

    blinkCount = 0;
    wasBlinking = false;
    lastLeftHold = now;
    displayNeedsUpdate = true;
  }


//***********************left shift end***************************************
  if (editField != -1) {
    if (lastInc == HIGH && incState == LOW) {
      incrementField();
      // âœ… Time field (0=Hour, 1=Minute, 2=Second) edit à¦•à¦°à¦²à§‡ à¦¸à¦¾à¦¥à§‡ à¦¸à¦¾à¦¥à§‡ RTC à¦ save
      if (editField >= 0 && editField <= 2) {
        saveTime();
      }
      blinkCount = 0;
      lastIncHold = now;
      displayNeedsUpdate = true;
    } else if (incState == LOW && now - lastIncHold > 500) {
      incrementField();
      // âœ… Time field edit à¦•à¦°à¦²à§‡ à¦¸à¦¾à¦¥à§‡ à¦¸à¦¾à¦¥à§‡ RTC à¦ save
      if (editField >= 0 && editField <= 2) {
        saveTime();
      }
      blinkCount = 0;
      lastIncHold = now;
      displayNeedsUpdate = true;
    }

    if (lastDec == HIGH && decState == LOW) {
      decrementField();
      // âœ… Time field edit à¦•à¦°à¦²à§‡ à¦¸à¦¾à¦¥à§‡ à¦¸à¦¾à¦¥à§‡ RTC à¦ save
      if (editField >= 0 && editField <= 2) {
        saveTime();
      }
      blinkCount = 0;
      lastDecHold = now;
      displayNeedsUpdate = true;
    } else if (decState == LOW && now - lastDecHold > 500) {
      decrementField();
      // âœ… Time field edit à¦•à¦°à¦²à§‡ à¦¸à¦¾à¦¥à§‡ à¦¸à¦¾à¦¥à§‡ RTC à¦ save
      if (editField >= 0 && editField <= 2) {
        saveTime();
      }
      blinkCount = 0;
      lastDecHold = now;
      displayNeedsUpdate = true;
    }
  }

  lastMenu = menuState;
  lastInc = incState;
  lastDec = decState;
  lastLeft = leftState;
}



//*****************************************************
//*****************************************************
// =====================================================================
// à¦¹à¦¿à¦œà¦°à¦¿ à¦•à¦¨à¦­à¦¾à¦°à§à¦¶à¦¨ à¦«à¦¾à¦‚à¦¶à¦¨ - à¦†à¦ªà¦¨à¦¾à¦° PDF à¦…à¦¨à§à¦¯à¦¾à¦¯à¦¼à§€ à§§à§¦à§¦% à¦à¦•à§à¦°à§‡à¦Ÿ
// =====================================================================
HijriDate2025 convertEnglishToHijri2025(int engDay, int engMonth, int engYear) {
  HijriDate2025 hijri = {1, 1, 1447}; // Default value
  
  // à¦¶à§à¦§à§à¦®à¦¾à¦¤à§à¦° à§¨à§¦à§¨à§«,2026 à¦¸à¦¾à¦²à§‡à¦° à¦œà¦¨à§à¦¯ à¦•à¦¾à¦œ à¦•à¦°à¦¬à§‡
  if (engYear < 2025 || engYear > 2026) {
    return hijri;
  }
  // à§¨à§¦à§¨à§¬ à¦¸à¦¾à¦²à§‡à¦° Hijri conversion
else if (engYear == 2026) {
  // à¦œà¦¾à¦¨à§à¦¯à¦¼à¦¾à¦°à¦¿ à§¨à§¦à§¨à§¬ = à¦°à¦œà¦¬ à§§à§ªà§ªà§­ (11 à¦°à¦œà¦¬ à¦¥à§‡à¦•à§‡ à¦¶à§à¦°à§)
  if (engMonth == 1) {
    hijri.day = engDay + 10; // 1 à¦œà¦¾à¦¨à§à¦¯à¦¼à¦¾à¦°à¦¿ = 11 à¦°à¦œà¦¬
    hijri.month = HIJRI_REJAB;
    hijri.year = HIJRI_YEAR_1447;
    if (hijri.day > 30) {
      hijri.day = hijri.day - 30;
      hijri.month = HIJRI_SYAABAN;
    }
  }
  
  // à¦«à§‡à¦¬à§à¦°à§à¦¯à¦¼à¦¾à¦°à¦¿ à§¨à§¦à§¨à§¬ = à¦¶à¦¾à¦¬à¦¾à¦¨ à§§à§ªà§ªà§­ (12 à¦¶à¦¾à¦¬à¦¾à¦¨ à¦¥à§‡à¦•à§‡ à¦¶à§à¦°à§)
  else if (engMonth == 2) {
    hijri.day = engDay + 11; // 1 à¦«à§‡à¦¬à§à¦°à§à¦¯à¦¼à¦¾à¦°à¦¿ = 12 à¦¶à¦¾à¦¬à¦¾à¦¨
    hijri.month = HIJRI_SYAABAN;
    hijri.year = HIJRI_YEAR_1447;
    if (hijri.day > 30) {
      hijri.day = hijri.day - 30;
      hijri.month = HIJRI_RAMADAN;
    }
  }
  
  // à¦®à¦¾à¦°à§à¦š à§¨à§¦à§¨à§¬ = à¦°à¦®à¦œà¦¾à¦¨ à§§à§ªà§ªà§­ (12 à¦°à¦®à¦œà¦¾à¦¨ à¦¥à§‡à¦•à§‡ à¦¶à§à¦°à§)
  else if (engMonth == 3) {
    hijri.day = engDay + 11; // 1 à¦®à¦¾à¦°à§à¦š = 12 à¦°à¦®à¦œà¦¾à¦¨
    hijri.month = HIJRI_RAMADAN;
    hijri.year = HIJRI_YEAR_1447;
    if (hijri.day > 30) {
      hijri.day = hijri.day - 30;
      hijri.month = HIJRI_SYAWAL;
    }
  }
  
  // à¦à¦ªà§à¦°à¦¿à¦² à§¨à§¦à§¨à§¬ = à¦¶à¦¾à¦“à¦¯à¦¼à¦¾à¦² à§§à§ªà§ªà§­ (13 à¦¶à¦¾à¦“à¦¯à¦¼à¦¾à¦² à¦¥à§‡à¦•à§‡ à¦¶à§à¦°à§)
  else if (engMonth == 4) {
    hijri.day = engDay + 12; // 1 à¦à¦ªà§à¦°à¦¿à¦² = 13 à¦¶à¦¾à¦“à¦¯à¦¼à¦¾à¦²
    hijri.month = HIJRI_SYAWAL;
    hijri.year = HIJRI_YEAR_1447;
    if (hijri.day > 30) {
      hijri.day = hijri.day - 30;
      hijri.month = HIJRI_ZULKAEDAH;
    }
  }
  
  // à¦®à§‡ à§¨à§¦à§¨à§¬ = à¦œà¦¿à¦²à¦•à¦¦ à§§à§ªà§ªà§­ (13 à¦œà¦¿à¦²à¦•à¦¦ à¦¥à§‡à¦•à§‡ à¦¶à§à¦°à§)
  else if (engMonth == 5) {
    hijri.day = engDay + 12; // 1 à¦®à§‡ = 13 à¦œà¦¿à¦²à¦•à¦¦
    hijri.month = HIJRI_ZULKAEDAH;
    hijri.year = HIJRI_YEAR_1447;
    if (hijri.day > 30) {
      hijri.day = hijri.day - 30;
      hijri.month = HIJRI_ZULHIJJAH;
    }
  }
  
  // à¦œà§à¦¨ à§¨à§¦à§¨à§¬ = à¦œà¦¿à¦²à¦¹à¦œ à§§à§ªà§ªà§·/à¦®à§à¦¹à¦¾à¦°à¦°à¦® à§§à§ªà§ªà§® (16 à¦œà§à¦¨ à¦¥à§‡à¦•à§‡ à¦¨à¦¤à§à¦¨ à¦¬à¦›à¦°)
  else if (engMonth == 6) {
    if (engDay <= 15) {
      hijri.day = engDay + 13; // 1 à¦œà§à¦¨ = 14 à¦œà¦¿à¦²à¦¹à¦œ
      hijri.month = HIJRI_ZULHIJJAH;
      hijri.year = HIJRI_YEAR_1447;
    } else { // 16 à¦œà§à¦¨ à¦¥à§‡à¦•à§‡ = 1 à¦®à§à¦¹à¦¾à¦°à¦°à¦® à§§à§ªà§ªà§®
      hijri.day = engDay - 15;
      hijri.month = HIJRI_MUHARRAM;
      hijri.year = HIJRI_YEAR_1448;
    }
  }
  
  // à¦œà§à¦²à¦¾à¦‡ à§¨à§¦à§¨à§¬ = à¦®à§à¦¹à¦¾à¦°à¦°à¦® à§§à§ªà§ªà§® (16 à¦®à§à¦¹à¦¾à¦°à¦°à¦® à¦¥à§‡à¦•à§‡ à¦¶à§à¦°à§)
  else if (engMonth == 7) {
    hijri.day = engDay + 15; // 1 à¦œà§à¦²à¦¾à¦‡ = 16 à¦®à§à¦¹à¦¾à¦°à¦°à¦®
    hijri.month = HIJRI_MUHARRAM;
    hijri.year = HIJRI_YEAR_1448;
    if (hijri.day > 30) {
      hijri.day = hijri.day - 30;
      hijri.month = HIJRI_SAFAR;
    }
  }
  
  // à¦†à¦—à¦¸à§à¦Ÿ à§¨à§¦à§¨à§¬ = à¦¸à¦«à¦° à§§à§ªà§ªà§® (17 à¦¸à¦«à¦° à¦¥à§‡à¦•à§‡ à¦¶à§à¦°à§)
  else if (engMonth == 8) {
    hijri.day = engDay + 16; // 1 à¦†à¦—à¦¸à§à¦Ÿ = 17 à¦¸à¦«à¦°
    hijri.month = HIJRI_SAFAR;
    hijri.year = HIJRI_YEAR_1448;
    if (hijri.day > 30) {
      hijri.day = hijri.day - 30;
      hijri.month = HIJRI_RABIULAWAL;
    }
  }
  
  // à¦¸à§‡à¦ªà§à¦Ÿà§‡à¦®à§à¦¬à¦° à§¨à§¦à§¨à§¬ = à¦°à¦¬à¦¿à¦‰à¦² à¦†à¦‰à¦¯à¦¼à¦¾à¦² à§§à§ªà§ªà§®
  else if (engMonth == 9) {
    hijri.day = engDay + 17; // 1 à¦¸à§‡à¦ªà§à¦Ÿà§‡à¦®à§à¦¬à¦° = 18 à¦°à¦¬à¦¿à¦‰à¦² à¦†à¦‰à¦¯à¦¼à¦¾à¦²
    hijri.month = HIJRI_RABIULAWAL;
    hijri.year = HIJRI_YEAR_1448;
    if (hijri.day > 30) {
      hijri.day = hijri.day - 30;
      hijri.month = HIJRI_RABIULAKHIR;
    }
  }
  
  // à¦…à¦•à§à¦Ÿà§‹à¦¬à¦° à§¨à§¦à§¨à§¬ = à¦°à¦¬à¦¿à¦‰à¦¸ à¦¸à¦¾à¦¨à¦¿ à§§à§ªà§ªà§®
  else if (engMonth == 10) {
    hijri.day = engDay + 18; // 1 à¦…à¦•à§à¦Ÿà§‹à¦¬à¦° = 19 à¦°à¦¬à¦¿à¦‰à¦¸ à¦¸à¦¾à¦¨à¦¿
    hijri.month = HIJRI_RABIULAKHIR;
    hijri.year = HIJRI_YEAR_1448;
    if (hijri.day > 30) {
      hijri.day = hijri.day - 30;
      hijri.month = HIJRI_JAMADILAWAL;
    }
  }
  
  // à¦¨à¦­à§‡à¦®à§à¦¬à¦° à§¨à§¦à§¨à§¬ = à¦œà¦®à¦¾à¦¦à¦¿à¦‰à¦² à¦†à¦‰à¦¯à¦¼à¦¾à¦² à§§à§ªà§ªà§®
  else if (engMonth == 11) {
    hijri.day = engDay + 19; // 1 à¦¨à¦­à§‡à¦®à§à¦¬à¦° = 20 à¦œà¦®à¦¾à¦¦à¦¿à¦‰à¦² à¦†à¦‰à¦¯à¦¼à¦¾à¦²
    hijri.month = HIJRI_JAMADILAWAL;
    hijri.year = HIJRI_YEAR_1448;
    if (hijri.day > 30) {
      hijri.day = hijri.day - 30;
      hijri.month = HIJRI_JAMADILAKHIR;
    }
  }
  
  // à¦¡à¦¿à¦¸à§‡à¦®à§à¦¬à¦° à§¨à§¦à§¨à§¬ = à¦œà¦®à¦¾à¦¦à¦¿à¦‰à¦¸ à¦¸à¦¾à¦¨à¦¿ à§§à§ªà§ªà§®
  else if (engMonth == 12) {
    hijri.day = engDay + 20; // 1 à¦¡à¦¿à¦¸à§‡à¦®à§à¦¬à¦° = 21 à¦œà¦®à¦¾à¦¦à¦¿à¦‰à¦¸ à¦¸à¦¾à¦¨à¦¿
    hijri.month = HIJRI_JAMADILAKHIR;
    hijri.year = HIJRI_YEAR_1448;
    if (hijri.day > 30) {
      hijri.day = hijri.day - 30;
      hijri.month = HIJRI_REJAB;
    }
  }
}
  // à¦¸à§‡à¦ªà§à¦Ÿà§‡à¦®à§à¦¬à¦° à§¨à§¦à§¨à§« = à¦°à¦¬à¦¿à¦‰à¦² à¦†à¦“à¦¯à¦¼à¦¾à¦²/à¦°à¦¬à¦¿à¦‰à¦¸ à¦¸à¦¾à¦¨à¦¿ à§§à§ªà§ªà§­
  else if (engMonth == 9) {
    if (engDay <= 22) {
      hijri.day = engDay + 7; // 1 à¦¸à§‡à¦ªà§à¦Ÿà§‡à¦®à§à¦¬à¦° = 8 à¦°à¦¬à¦¿à¦‰à¦² à¦†à¦“à¦¯à¦¼à¦¾à¦²
      hijri.month = HIJRI_RABIULAWAL;
      hijri.year = HIJRI_YEAR_1447;
    } else { // 23-30 à¦¸à§‡à¦ªà§à¦Ÿà§‡à¦®à§à¦¬à¦° = 1-8 à¦°à¦¬à¦¿à¦‰à¦¸ à¦¸à¦¾à¦¨à¦¿
      hijri.day = engDay - 22;
      hijri.month = HIJRI_RABIULAKHIR;
      hijri.year = HIJRI_YEAR_1447;
    }
  }
  
  // à¦…à¦•à§à¦Ÿà§‹à¦¬à¦° à§¨à§¦à§¨à§« = à¦°à¦¬à¦¿à¦‰à¦¸ à¦¸à¦¾à¦¨à¦¿/à¦œà¦®à¦¾à¦¦à¦¿à¦‰à¦² à¦†à¦“à¦¯à¦¼à¦¾à¦² à§§à§ªà§ªà§­
  else if (engMonth == 10) {
    if (engDay <= 22) {
      hijri.day = engDay + 8; // 1 à¦…à¦•à§à¦Ÿà§‹à¦¬à¦° = 9 à¦°à¦¬à¦¿à¦‰à¦¸ à¦¸à¦¾à¦¨à¦¿
      hijri.month = HIJRI_RABIULAKHIR;
      hijri.year = HIJRI_YEAR_1447;
    } else { // 23-31 à¦…à¦•à§à¦Ÿà§‹à¦¬à¦° = 1-9 à¦œà¦®à¦¾à¦¦à¦¿à¦‰à¦² à¦†à¦“à¦¯à¦¼à¦¾à¦²
      hijri.day = engDay - 22;
      hijri.month = HIJRI_JAMADILAWAL;
      hijri.year = HIJRI_YEAR_1447;
    }
  }
  
  // à¦¨à¦­à§‡à¦®à§à¦¬à¦° à§¨à§¦à§¨à§« = à¦œà¦®à¦¾à¦¦à¦¿à¦‰à¦² à¦†à¦“à¦¯à¦¼à¦¾à¦²/à¦œà¦®à¦¾à¦¦à¦¿à¦‰à¦¸ à¦¸à¦¾à¦¨à¦¿ à§§à§ªà§ªà§­
  else if (engMonth == 11) {
    if (engDay <= 21) {
      hijri.day = engDay + 9; // 1 à¦¨à¦­à§‡à¦®à§à¦¬à¦° = 10 à¦œà¦®à¦¾à¦¦à¦¿à¦‰à¦² à¦†à¦“à¦¯à¦¼à¦¾à¦²
      hijri.month = HIJRI_JAMADILAWAL;
      hijri.year = HIJRI_YEAR_1447;
    } else { // 22-30 à¦¨à¦­à§‡à¦®à§à¦¬à¦° = 1-9 à¦œà¦®à¦¾à¦¦à¦¿à¦‰à¦¸ à¦¸à¦¾à¦¨à¦¿
      hijri.day = engDay - 21;
      hijri.month = HIJRI_JAMADILAKHIR;
      hijri.year = HIJRI_YEAR_1447;
    }
  }
  
// à¦¡à¦¿à¦¸à§‡à¦®à§à¦¬à¦° à§¨à§¦à§¨à§« = à¦œà¦®à¦¾à¦¦à¦¿à¦‰à¦¸ à¦¸à¦¾à¦¨à¦¿/à¦°à¦œà¦¬ à§§à§ªà§ªà§­
  else if (engMonth == 12) {
    if (engDay <= 21) {
      hijri.day = engDay + 9; // 1 à¦¡à¦¿à¦¸à§‡à¦®à§à¦¬à¦° = 10 à¦œà¦®à¦¾à¦¦à¦¿à¦‰à¦¸ à¦¸à¦¾à¦¨à¦¿
      hijri.month = HIJRI_JAMADILAKHIR;
      hijri.year = HIJRI_YEAR_1447;
    } else { // 22-31 à¦¡à¦¿à¦¸à§‡à¦®à§à¦¬à¦° = 1-10 à¦°à¦œà¦¬ à§§à§ªà§ªà§­
      hijri.day = engDay - 21;
      hijri.month = HIJRI_REJAB;
      hijri.year = HIJRI_YEAR_1447;
    }
  }
  
  // âœ… NEW LOGIC: Check if current time is after Magrib End (Condition 2)
  int currentTotalMinutes = hour * 60 + minute;

  // Calculate Magrib End time in 24-hour minutes (direct calculation)
  int magribEndHour24 = (alarm8Hour == 12) ? 12 : alarm8Hour + 12; // PM conversion
  int magribEndMinutes = magribEndHour24 * 60 + alarm8Minute;

  if (currentTotalMinutes > magribEndMinutes) {
    // Magrib End à¦à¦° à¦ªà¦° - Hijri date + 1
    hijri.day = hijri.day + 1;
    
    // Handle day overflow  
    if (hijri.day > 30) {
      hijri.day = 1;
      hijri.month = hijri.month + 1;
      if (hijri.month > 12) {
        hijri.month = 1;
        hijri.year = hijri.year + 1;
      }
    }
  }
  
  return hijri;
}

//********************DOT MATRIX functions start************************************
//********************DOT MATRIX functions start******************************
// â†“ à¦à¦‡ à¦¸à¦¬ DOT MATRIX functions à¦¯à§‹à¦— à¦•à¦°à§à¦¨ (à¦†à¦ªà¦¨à¦¾à¦° working version + prayer detection)
// ==========================================
// DOT MATRIX Functions (Your Working Version)
// ==========================================

// Shift out data function (à¦†à¦ªà¦¨à¦¾à¦° working version à¦¥à§‡à¦•à§‡ exact same)
void shiftOutData(byte data) {
  for (int i = 7; i >= 0; i--) {
    digitalWrite(CLK_PIN, LOW);
    digitalWrite(DIN_PIN, (data >> i) & 0x01);
    digitalWrite(CLK_PIN, HIGH);
  }
}

// Write register function (à¦†à¦ªà¦¨à¦¾à¦° working version à¦¥à§‡à¦•à§‡ exact same)
void writeRegister(int device, byte reg, byte data) {
  digitalWrite(CS_PIN, LOW);
  
  for (int i = 3; i >= 0; i--) {
    if (i == device) {
      shiftOutData(reg);
      shiftOutData(data);
    } else {
      shiftOutData(REG_NOOP);
      shiftOutData(0x00);
    }
  }
  
  digitalWrite(CS_PIN, HIGH);
}

// Display letter function (à¦†à¦ªà¦¨à¦¾à¦° working version à¦¥à§‡à¦•à§‡ exact same)
void displayLetter(int segment, byte letter[]) {
  for (int row = 0; row < 7; row++) {
    writeRegister(segment, REG_DIGIT0 + row, letter[row] << 3); // Shift left for better centering
  }
  writeRegister(segment, REG_DIGIT0 + 7, 0x00); // 8th row blank
}

// Clear all segments function (à¦†à¦ªà¦¨à¦¾à¦° working version à¦¥à§‡à¦•à§‡ exact same)
void clearAllSegments() {
  for (int segment = 0; segment < 4; segment++) {
    for (int row = 0; row < 8; row++) {
      writeRegister(segment, REG_DIGIT0 + row, 0x00);
    }
  }
}

// Prayer display functions (à¦†à¦ªà¦¨à¦¾à¦° working version à¦¥à§‡à¦•à§‡ exact same)
void displayFAJR() {
  displayLetter(3, letterF);  // F on segment 3 (leftmost)
  displayLetter(2, letterA);  // A on segment 2
  displayLetter(1, letterJ);  // J on segment 1  
  displayLetter(0, letterR);  // R on segment 0 (rightmost)
}

void displayJOHR() {
  displayLetter(3, letterJ);  // J on segment 3 (leftmost)
  displayLetter(2, letterO);  // O on segment 2
  displayLetter(1, letterH);  // H on segment 1
  displayLetter(0, letterR);  // R on segment 0 (rightmost)
}

void displayASOR() {
  displayLetter(3, letterA);  // A on segment 3 (leftmost)
  displayLetter(2, letterS);  // S on segment 2  
  displayLetter(1, letterO);  // O on segment 1
  displayLetter(0, letterR);  // R on segment 0 (rightmost)
}

void displayESHA() {
  displayLetter(3, letterE);  // E on segment 3 (leftmost)
  displayLetter(2, letterS);  // S on segment 2
  displayLetter(1, letterH);  // H on segment 1
  displayLetter(0, letterA);  // A on segment 0 (rightmost)
}

void displayMAGR() {
  displayLetter(3, letterM);  // M on segment 3 (leftmost)
  displayLetter(2, letterA);  // A on segment 2
  displayLetter(1, letterG);  // G on segment 1
  displayLetter(0, letterR);  // R on segment 0 (rightmost)
}

void displayJUMA() {
  displayLetter(3, letterJ);  // J on segment 3 (leftmost)
  displayLetter(2, letterU);  // U on segment 2
  displayLetter(1, letterM);  // M on segment 1
  displayLetter(0, letterA);  // A on segment 0 (rightmost)
}

// Initialize DOT MATRIX (à¦†à¦ªà¦¨à¦¾à¦° working version à¦¥à§‡à¦•à§‡ exact same)
void initDotMatrix() {
  digitalWrite(CS_PIN, HIGH);
  digitalWrite(CLK_PIN, LOW);
  digitalWrite(DIN_PIN, LOW);
    
  // Initialize all 4 MAX7219 modules
  for (int device = 0; device < 4; device++) {
    writeRegister(device, REG_SHUTDOWN, 0x01);      
    writeRegister(device, REG_DECODEMODE, 0x00);    
    writeRegister(device, REG_SCANLIMIT, 0x06);     // 7 rows for 5x7 matrix
    writeRegister(device, REG_INTENSITY, DISPLAY_BRIGHTNESS);
    writeRegister(device, REG_DISPLAYTEST, 0x00);   
  }
  
  clearAllSegments();
  delay(100);
}

// Get current prayer based on main program logic (à¦†à¦ªà¦¨à¦¾à¦° main program logic à¦…à¦¨à§à¦¯à¦¾à¦¯à¦¼à§€)
char getCurrentPrayer() {
  bool isFriday = (dayOfWeek == 5);
  int currentHour24 = hour;
  int currentMinute24 = minute;
  int currentTotalMinutes = currentHour24 * 60 + currentMinute24;
  
  // Convert all namaz END times to 24-hour format (à¦†à¦ªà¦¨à¦¾à¦° main program à¦à¦° exact same logic)
  int fajarEndMinutes = convertTo24HourMinutes(alarm2Hour, alarm2Minute, true);
  int jummaEndMinutes = convertTo24HourMinutes(jummaEndHour, jummaEndMinute, false);
  int johorEndMinutes = convertTo24HourMinutes(alarm4Hour, alarm4Minute, false);
  int asarEndMinutes = convertTo24HourMinutes(alarm6Hour, alarm6Minute, false);
  int magribEndMinutes = convertTo24HourMinutes(alarm8Hour, alarm8Minute, false);
  int eshaEndMinutes = convertTo24HourMinutes(alarm10Hour, alarm10Minute, false);

  // Same logic as your main display logic (positions 52-59)
  if (currentTotalMinutes <= fajarEndMinutes) {
    return 'F'; // FAJAR
  }
  else if (isFriday && currentTotalMinutes <= jummaEndMinutes) {
    return 'J'; // JUMMA
  }
  else if (!isFriday && currentTotalMinutes <= johorEndMinutes) {
    return 'H'; // JOHOR  
  }
  else if (currentTotalMinutes <= asarEndMinutes) {
    return 'A'; // ASAR
  }
  else if (currentTotalMinutes <= magribEndMinutes) {
    return 'M'; // MAGRIB
  }
  else if (currentTotalMinutes <= eshaEndMinutes) {
    return 'E'; // ESHA
  }
  else {
    return 'F'; // Next day FAJAR
  }
}
//********************************************************************
// ==========================================
// Helper Function: Get Letter Pattern from Character
// ==========================================
byte* getLetterPattern(char c) {
  // Convert to uppercase
  if (c >= 'a' && c <= 'z') {
    c = c - 32;  // Convert lowercase to uppercase
  }
  
  // Return corresponding pattern
  switch(c) {
    case 'A': return letterA;
    case 'B': return letterB;
    case 'C': return letterC;
    case 'D': return letterD;
    case 'E': return letterE;
    case 'F': return letterF;
    case 'G': return letterG;
    case 'H': return letterH;
    case 'I': return letterI;
    case 'J': return letterJ;
    case 'K': return letterK;
    case 'L': return letterL;
    case 'M': return letterM;
    case 'N': return letterN;
    case 'O': return letterO;
    case 'P': return letterP;
    case 'Q': return letterQ;
    case 'R': return letterR;
    case 'S': return letterS;
    case 'T': return letterT;
    case 'U': return letterU;
    case 'V': return letterV;
    case 'W': return letterW;
    case 'X': return letterX;
    case 'Y': return letterY;
    case 'Z': return letterZ;
    case ' ': return letterSPACE;
    default: return letterSPACE;  // Unknown character = space
  }
}

// ==========================================
// DOT MATRIX - 3 Mode Scrolling Display
// ==========================================
// ==========================================
// ==========================================
// DOT MATRIX - 3 Mode Scrolling Display
// ==========================================
void updateDotMatrix() {
  static int displayMode = 0;
  static bool textLoaded = false;
  static char textBuffer[80];  // Buffer for formatted text
  
  if (matrix.displayAnimate()) {
    textLoaded = false;
  }
  
  if (!textLoaded) {
    
    // MODE 0: PRAYER NAME + START-END TIME
    if (displayMode == 0) {
      char currentPrayer = getCurrentPrayer();
      bool isFriday = (dayOfWeek == 5);
      
      // Format prayer time string
      if (currentPrayer == 'F') {
        // FAJOR (AM time)
        sprintf(textBuffer, "  FAJOR  %d:%02d - %d:%02d AM       ", 
                alarm1Hour, alarm1Minute, alarm2Hour, alarm2Minute);
      }
      else if (currentPrayer == 'H') {
        // JOHOR (PM time)
        sprintf(textBuffer, "  JOHOR  %d:%02d - %d:%02d PM       ", 
                alarm3Hour, alarm3Minute, alarm4Hour, alarm4Minute);
      }
      else if (currentPrayer == 'A') {
        // ASOR (PM time)
        sprintf(textBuffer, "  ASOR  %d:%02d - %d:%02d PM       ", 
                alarm5Hour, alarm5Minute, alarm6Hour, alarm6Minute);
      }
      else if (currentPrayer == 'M') {
        // MAGRIB (PM time)
        sprintf(textBuffer, "  MAGRIB  %d:%02d - %d:%02d PM       ", 
                alarm7Hour, alarm7Minute, alarm8Hour, alarm8Minute);
      }
      else if (currentPrayer == 'E') {
        // ESHA (PM time)
        sprintf(textBuffer, "  ESHA  %d:%02d - %d:%02d PM       ", 
                alarm9Hour, alarm9Minute, alarm10Hour, alarm10Minute);
      }
      else if (currentPrayer == 'J') {
        // JUMMA (PM time)
        sprintf(textBuffer, "  JUMMA  %d:%02d - %d:%02d PM       ", 
                jummaStartHour, jummaStartMinute, jummaEndHour, jummaEndMinute);
      }
      
      matrix.displayText(textBuffer, PA_CENTER, 60, 0, PA_SCROLL_LEFT, PA_SCROLL_LEFT);
      textLoaded = true;
    }
    
    // MODE 1: ENGLISH MONTH
    else if (displayMode == 1) {
      const char* englishMonthNames[] = {
        "JANUARY  ", "FEBRUARY  ", "MARCH  ", "APRIL  ", 
        "MAY  ", "JUNE  ", "JULY  ", "AUGUST  ", 
        "SEPTEMBER  ", "OCTOBER  ", "NOVEMBER  ", "DECEMBER  "
      };
      
      int monthIndex = month - 1;
      if (monthIndex < 0 || monthIndex > 11) monthIndex = 0;
      
      matrix.displayText(englishMonthNames[monthIndex], PA_CENTER, 60, 0, PA_SCROLL_LEFT, PA_SCROLL_LEFT);
      textLoaded = true;
    }
    
    // MODE 2: HIJRI MONTH
    else if (displayMode == 2) {
      const char* hijriMonthNames[] = {
        "MUHARRAM   ", "SAFAR   ", "RABIULAWAL   ", "RABIULAKHIR   ",
        "JAMADILAWAL   ", "JAMADILAKHIR   ", "REJAB   ", "SYAABAN   ",
        "RAMADAN   ", "SYAWAL   ", "ZULKAEDAH   ", "ZULHIJJAH   "
      };
      
      int hijriMonthIndex = hijriEditMonth - 1;
      if (hijriMonthIndex < 0 || hijriMonthIndex > 11) hijriMonthIndex = 0;
      
      matrix.displayText(hijriMonthNames[hijriMonthIndex], PA_CENTER, 60, 0, PA_SCROLL_LEFT, PA_SCROLL_LEFT);
      textLoaded = true;
    }
    
    displayMode = (displayMode + 1) % 3;
  }
}



//+++++++++++++++++++++++++++++++++++++++++++++++++++
//END DOT MATRIX functions END·
// ==========================================






// 366-DAY FLASH DATA ARRAYS
// ==========================================
// Format: {Hour, Minute} for each day
// Day 1 = January 1, Day 366 = December 31 (leap year)
// Non-leap years: Day 60 onwards shifts by +1 to skip Feb 29

//**************(1)_FAJOR_START*** 366 DAYS****************
//**************(1)_FAJOR_START*** 366 DAYS****************

//*************************************(1)_FAJOR_START************

const TimeData FAJOR_FLASH_DATA[366] PROGMEM = {
 //January 31 days - 
//Day 1 to 10 
{4,51}, {4,51}, {4,51}, {4,52}, {4,52}, {4,52}, {4,52}, {4,53}, {4,53}, {4,53},
//Day 11 to 20 
{4,53}, {4,54}, {4,54}, {4,54}, {4,54},{4,54}, {4,54}, {4,55}, {4,55},{4,55},
//Day 21 to 31 
{4,55}, {4,55}, {4,54}, {4,54}, {4,54}, {4,54}, {4,54}, {4,54}, {4,53}, {4,53}, {4,53},

//*************************************(1)_FAJOR_START************************************************************
 //February 29 days
//Day 1 to 10 
{4,52}, {4,52}, {4,52}, {4,52}, {4,51}, {4,51}, {4,51}, {4,50}, {4,50}, {4,49},
//Day 11 to 20 
{4,49}, {4,48}, {4,48}, {4,47}, {4,46}, {4,46}, {4,45}, {4,45}, {4,44}, {4,43},
//Day 21 to 29
{4,43}, {4,42}, {4,41}, {4,41}, {4,40}, {4,39}, {4,38}, {4,38}, {4,37},

//*************************************(1)_FAJOR_START***********************************************************
 //March 31 days 
//Day 1 to 10 
{4,37}, {4,37}, {4,36}, {4,35}, {4,35}, {4,33}, {4,33}, {4,31}, {4,31}, {4,30},
//Day 11 to 20 
{4,29}, {4,28}, {4,27}, {4,26}, {4,25}, {4,24}, {4,23}, {4,22}, {4,21}, {4,20},
//Day 21 to 31 
{4,19}, {4,18}, {4,17}, {4,16}, {4,15}, {4,14}, {4,13}, {4,12}, {4,11}, {4,10}, {4,9},

//*************************************(1)_FAJOR_START***********************************************************
 //April 30 days 
//Day 1 to 10 
{4,8}, {4,7}, {4,6}, {4,5}, {4,4}, {4,3}, {4,2}, {4,2}, {4,0}, {3,59},
//Day 11 to 20 
{3,58}, {3,57}, {3,56}, {3,55}, {3,54}, {3,53}, {3,52}, {3,51}, {3,50}, {3,49},
//Day 21 to 30
{3,48}, {3,47}, {3,46}, {3,45}, {3,44}, {3,43}, {3,42}, {3,41}, {3,40}, {3,39},

//*************************************(1)_FAJOR_START***********************************************************
 //May 31 days 
//Day 1 to 10
{3,38}, {3,38}, {3,37}, {3,36}, {3,35}, {3,34}, {3,33}, {3,33}, {3,32}, {3,31},
//Day 11 to 20
{3,31}, {3,30}, {3,29}, {3,28}, {3,27}, {3,27}, {3,27}, {3,26}, {3,25}, {3,25},
//Day 21 to 31 
{3,24}, {3,24}, {3,23}, {3,23}, {3,22}, {3,22}, {3,22}, {3,21}, {3,21}, {3,21}, {3,20},

//************************************(1)_FAJOR_START*********************************************************

 //June 30 days 
//Day 1 to 10 
{3,20}, {3,20}, {3,19}, {3,19}, {3,19}, {3,19}, {3,19}, {3,18}, {3,18}, {3,18},
//Day 11 to 20 
{3,18}, {3,18}, {3,18}, {3,18}, {3,18}, {3,18}, {3,19}, {3,19}, {3,19}, {3,19},
//Day 21 to 30 
{3,19}, {3,20}, {3,20}, {3,20}, {3,20}, {3,21}, {3,21}, {3,21}, {3,22}, {3,22},


//************************************(1)_FAJOR_START**********************************************************
 //July 31 days - 
//Day 1 to 10 
{3,22}, {3,23}, {3,23}, {3,24}, {3,24}, {3,25}, {3,25}, {3,26}, {3,26}, {3,27},
//Day 11 to 20 
{3,27}, {3,28}, {3,28}, {3,29}, {3,29}, {3,30}, {3,31}, {3,31}, {3,32}, {3,32},
//Day 21 to 31 
{3,33}, {3,34}, {3,34}, {3,35}, {3,35}, {3,36}, {3,37}, {3,37}, {3,38}, {3,39}, {3,39},


//*************************************(1)_FAJOR_START***********************************************************
 //August 31 days - 
//Day 1 to 10 
{3,40}, {3,40}, {3,41}, {3,42}, {3,42}, {3,43}, {3,43}, {3,44}, {3,45}, {3,45},
//Day 11 to 20 
{3,46}, {3,46}, {3,47}, {3,47}, {3,48}, {3,49}, {3,49}, {3,50}, {3,50}, {3,51},
//Day 21 to 31 
{3,51}, {3,52}, {3,52}, {3,53}, {3,54}, {3,54}, {3,55}, {3,55}, {3,55}, {3,56}, {3,56},


//*************************************(1)_FAJOR_START***********************************************************
 //September 30 days - 
//Day 1 to 10 
{3,56}, {3,57}, {3,58}, {3,58}, {3,58}, {3,59}, {3,59}, {3,59}, {4,0}, {4,1},
//Day 11 to 20 
{4,1}, {4,1}, {4,1}, {4,2}, {4,2}, {4,2}, {4,3}, {4,3}, {4,3}, {4,4},
//Day 21 to 30 
{4,4}, {4,4}, {4,5}, {4,5}, {4,5}, {4,6}, {4,6}, {4,6}, {4,7}, {4,7},


//*************************************(1)_FAJOR_START**********************************************************
 //October 31 days - 
//Day 1 to 10 
{4,7}, {4,8}, {4,8}, {4,8}, {4,9}, {4,9}, {4,9}, {4,10}, {4,10}, {4,10},
//Day 11 to 20 
{4,11}, {4,11}, {4,11}, {4,12}, {4,12}, {4,12}, {4,13}, {4,13}, {4,14}, {4,14},
//Day 21 to 31 
{4,14}, {4,15}, {4,15}, {4,15}, {4,16}, {4,16}, {4,17}, {4,17}, {4,17}, {4,18}, {4,18},


//*************************************(1)_FAJOR_START***********************************************************
 //November 30 days - 
//Day 1 to 10 
{4,19}, {4,19}, {4,19}, {4,20}, {4,20}, {4,21}, {4,21}, {4,22}, {4,22}, {4,23},
//Day 11 to 20 
{4,23}, {4,24}, {4,24}, {4,25}, {4,25}, {4,26}, {4,26}, {4,27}, {4,27}, {4,28},
//Day 21 to 30 
{4,28}, {4,29}, {4,30}, {4,30}, {4,31}, {4,31}, {4,32}, {4,32}, {4,33}, {4,34},


//*************************************(1)_FAJOR_START***********************************************************
 //December 31 days - 
//Day 1 to 10 
{4,34}, {4,35}, {4,35}, {4,36}, {4,37}, {4,37}, {4,38}, {4,38}, {4,39}, {4,39},
//Day 11 to 20 
{4,40}, {4,41}, {4,41}, {4,42}, {4,42}, {4,43}, {4,43}, {4,44}, {4,44}, {4,45},
//Day 21 to 31 
{4,45}, {4,46}, {4,46}, {4,47}, {4,47}, {4,48}, {4,48}, {4,49}, {4,49}, {4,50}, {4,50},

};
//*************(1)_FAJOR_START 366 DAYS END ****************
//*************(1)_FAJOR_START 366 DAYS END ****************

//***************TULU 366 DAYS DATA START********************************

// ★★★ PROGMEM TULU DATA - 366 দিনের ডেটা ★★★(2-byte format) 
const TimeData TULU_FLASH_DATA[366] PROGMEM = {
 //***********************************JANUARY*******************************

 //************************(2)TULU*JANUARY**********
// January 1-10
{6,17}, {6,18}, {6,18}, {6,18}, {6,19}, {6,19}, {6,19}, {6,19}, {6,19}, {6,19},
// January 11-20
{6,20}, {6,20}, {6,20}, {6,20}, {6,20}, {6,20}, {6,20}, {6,20}, {6,20}, {6,19},
// January 21-30
{6,19}, {6,19}, {6,19}, {6,19}, {6,19}, {6,18}, {6,18}, {6,18}, {6,18}, {6,17},
// January 31-31
{6,17},
//*****************************(2)TULU*FEBRUARY**********
// February 1-10
{6,16}, {6,16}, {6,16}, {6,15}, {6,15}, {6,14}, {6,14}, {6,13}, {6,13}, {6,12},
// February 11-20
{6,12}, {6,11}, {6,11}, {6,10}, {6,9}, {6,9}, {6,8}, {6,7}, {6,7}, {6,6},
// February 21-29
{6,5}, {6,5}, {6,4}, {6,3}, {6,2}, {6,2},{6,2},{6,1}, {6,0},

//*****************************(2)TULU*MARCH**********
// March 1-10
{5,59}, {5,59}, {5,57}, {5,57}, {5,55}, {5,55}, {5,54}, {5,53}, {5,52}, {5,51},
// March 11-20
{5,50}, {5,49}, {5,48}, {5,48}, {5,47}, {5,46}, {5,45}, {5,44}, {5,44}, {5,42},
// March 21-30
{5,41}, {5,40}, {5,39}, {5,38}, {5,37}, {5,36}, {5,35}, {5,34}, {5,33}, {5,32},
// March 31-31
{5,31},
//*****************************(2)TULU*APRIL*************
// April 1-10
{5,30}, {5,29}, {5,28}, {5,27}, {5,27}, {5,26}, {5,25}, {5,24}, {5,23}, {5,22},
// April 11-20
{5,21}, {5,20}, {5,19}, {5,18}, {5,17}, {5,17}, {5,16}, {5,15}, {5,14}, {5,13},
// April 21-30
{5,12}, {5,11}, {5,11}, {5,10}, {5,9}, {5,9}, {5,8}, {5,7}, {5,6}, {5,6},

//*****************************(2)TULU*MAY****************
// May 1-10
{5,5}, {5,5}, {5,5}, {5,3}, {5,2}, {5,2}, {5,1}, {5,1}, {5,0}, {5,0},
// May 11-20
{4,59}, {4,59}, {4,58}, {4,58}, {4,57}, {4,57}, {4,56}, {4,56}, {4,56}, {4,55},
// May 21-30
{4,55}, {4,54}, {4,54}, {4,54}, {4,54}, {4,53}, {4,53}, {4,53}, {4,53}, {4,52},
// May 31-31
{4,52},
//*****************************(2)TULU**JUNE******************
// June 1-10
{4,52}, {4,52}, {4,52}, {4,52}, {4,52}, {4,52}, {4,52}, {4,52}, {4,52}, {4,52},
// June 11-20
{4,52}, {4,52}, {4,52}, {4,52}, {4,52}, {4,52}, {4,52}, {4,52}, {4,53}, {4,53},
// June 21-30
{4,53}, {4,53}, {4,53}, {4,54}, {4,54}, {4,54}, {4,54}, {4,55}, {4,55}, {4,55},

//*****************************(2)TULU**JULY************************
// July 1-10
{4,56}, {4,56}, {4,57}, {4,57}, {4,57}, {4,58}, {4,58}, {4,58}, {4,59}, {4,59},
// July 11-20
{5,0}, {5,0}, {5,0}, {5,1}, {5,1}, {5,2}, {5,2}, {5,2}, {5,3}, {5,3},
// July 21-30
{5,4}, {5,4}, {5,5}, {5,5}, {5,5}, {5,6}, {5,6}, {5,7}, {5,7}, {5,8},
// July 31-31
{5,8},
//*****************************(2)TULU**AUJUST***********
// August 1-10
{5,8}, {5,9}, {5,9}, {5,10}, {5,10}, {5,11}, {5,11}, {5,11}, {5,12}, {5,12},
// August 11-20
{5,12}, {5,13}, {5,13}, {5,14}, {5,14}, {5,14}, {5,15}, {5,15}, {5,15}, {5,16},
// August 21-30
{5,16}, {5,17}, {5,17}, {5,17}, {5,18}, {5,18}, {5,18}, {5,19}, {5,19}, {5,19},
// August 31-31
{5,19},
//*****************************(2)TULU**SEPTEMBER**************
// September 1-10
{5,20}, {5,20}, {5,20}, {5,21}, {5,21}, {5,21}, {5,22}, {5,22}, {5,22}, {5,23},
// September 11-20
{5,23}, {5,23}, {5,23}, {5,24}, {5,24}, {5,24}, {5,25}, {5,25}, {5,25}, {5,25},
// September 21-30
{5,26}, {5,26}, {5,26}, {5,27}, {5,27}, {5,27}, {5,27}, {5,28}, {5,28}, {5,28},

//*****************************(2)TULU**OCTOBER************
// October 1-10
{5,29}, {5,29}, {5,29}, {5,30}, {5,30}, {5,30}, {5,31}, {5,31}, {5,31}, {5,32},
// October 11-20
{5,32}, {5,33}, {5,33}, {5,33}, {5,34}, {5,34}, {5,35}, {5,35}, {5,35}, {5,36},
// October 21-30
{5,36}, {5,37}, {5,37}, {5,38}, {5,38}, {5,39}, {5,39}, {5,40}, {5,40}, {5,41},
// October 31-31
{5,41},
//*****************************(2)TULU*NOVEMBER********************
// November 1-10
{5,42}, {5,42}, {5,43}, {5,43}, {5,44}, {5,44}, {5,45}, {5,46}, {5,46}, {5,47},
// November 11-20
{5,47}, {5,48}, {5,49}, {5,49}, {5,49}, {5,50}, {5,51}, {5,52}, {5,52}, {5,53},
// November 21-30
{5,53}, {5,54}, {5,55}, {5,56}, {5,57}, {5,58}, {5,58}, {5,59}, {6,0}, {6,0},

//*****************************(2)TULU*DECEMBER**********
// December 1-10
{6,0}, {6,1}, {6,2}, {6,2}, {6,3}, {6,4}, {6,4}, {6,5}, {6,6}, {6,6},
// December 11-20
{6,7}, {6,8}, {6,8}, {6,9}, {6,9}, {6,10}, {6,10}, {6,11}, {6,12}, {6,12},
// December 21-30
{6,13}, {6,13}, {6,14}, {6,14}, {6,15}, {6,15}, {6,15}, {6,16}, {6,16}, {6,17},
// December 31-31
{6,17},
};


//**************************************************************************************************
//*********************(2)TULU 366 DAYS DATA END*********************************

//************************************************************************************************
//*************** (3) **ISHRAK 366 DAYS DATA START******************
//***************(3)**ISHRAK 366 DAYS DATA START******************

const TimeData ISHRAK_FLASH_DATA[366] PROGMEM = {

 //*********************(3) ISHRAK*JANUARY**********
// January 1-10
{6,27}, {6,28}, {6,28}, {6,28}, {6,29}, {6,29}, {6,29}, {6,29}, {6,29}, {6,29},
// January 11-20
{6,30}, {6,30}, {6,30}, {6,30}, {6,30}, {6,30}, {6,30}, {6,30}, {6,30}, {6,29},
// January 21-30
{6,29}, {6,29}, {6,29}, {6,29}, {6,29}, {6,28}, {6,28}, {6,28}, {6,28}, {6,27},
// January 31-31
{6,27},
//************************(3) ISHRAK*FEBRUARY**********
// February 1-10
{6,26}, {6,26}, {6,26}, {6,25}, {6,25}, {6,24}, {6,24}, {6,23}, {6,23}, {6,22},
// February 11-20
{6,22}, {6,21}, {6,21}, {6,20}, {6,19}, {6,19}, {6,18}, {6,17}, {6,17}, {6,16},
// February 21-29
{6,15}, {6,15}, {6,14}, {6,13}, {6,12}, {6,12},{6,12},{6,11}, {6,10},

//**//****************** (3)ISHRAK*MARCH**********
// March 1-10
{6,9}, {6,9}, {6,7}, {6,7}, {6,5}, {6,5}, {6,4}, {6,3}, {6,2}, {6,1},
// March 11-20
{6,0}, {5,59}, {5,58}, {5,58}, {5,57}, {5,56}, {5,55}, {5,54}, {5,54}, {5,52},
// March 21-30
{5,51}, {5,50}, {5,49}, {5,48}, {5,47}, {5,46}, {5,45}, {5,44}, {5,43}, {5,42},
// March 31-31
{5,41},
//******************** (3)ISHRAK*APRIL*************
// April 1-10
{5,40}, {5,39}, {5,38}, {5,37}, {5,37}, {5,36}, {5,35}, {5,34}, {5,33}, {5,32},
// April 11-20
{5,31}, {5,30}, {5,29}, {5,28}, {5,27}, {5,27}, {5,26}, {5,25}, {5,24}, {5,23},
// April 21-30
{5,22}, {5,21}, {5,21}, {5,20}, {5,19}, {5,19}, {5,18}, {5,17}, {5,16}, {5,16},

//************************* (3)ISHRAK*MAY****************
// May 1-10
{5,15}, {5,15}, {5,15}, {5,13}, {5,12}, {5,12}, {5,11}, {5,11}, {5,10}, {5,10},
// May 11-20
{5,9}, {5,9}, {5,8}, {5,8}, {5,7}, {5,7}, {5,6}, {5,6}, {5,6}, {5,5},
// May 21-30
{5,5}, {5,4}, {5,4}, {5,4}, {5,4}, {5,3}, {5,3}, {5,3}, {5,3}, {5,2},
// May 31-31
{5,2},
//************************* (3)ISHRAK**JUNE******************
// June 1-10
{5,2}, {5,2}, {5,2}, {5,2}, {5,2}, {5,2}, {5,2}, {5,2}, {5,2}, {5,2},
// June 11-20
{5,2}, {5,2}, {5,2}, {5,2}, {5,2}, {5,2}, {5,2}, {5,2}, {5,3}, {5,3},
// June 21-30
{5,3}, {5,3}, {5,3}, {5,4}, {5,4}, {5,4}, {5,4}, {5,5}, {5,5}, {5,5},

//******************** (3)ISHRAK**JULY************************
// July 1-10
{5,6}, {5,6}, {5,7}, {5,7}, {5,7}, {5,8}, {5,8}, {5,8}, {5,9}, {5,9},
// July 11-20
{5,10}, {5,10}, {5,10}, {5,11}, {5,11}, {5,12}, {5,12}, {5,12}, {5,13}, {5,13},
// July 21-30
{5,14}, {5,14}, {5,15}, {5,15}, {5,15}, {5,16}, {5,16}, {5,17}, {5,17}, {5,18},
// July 31-31
{5,18},
//******************** (3)ISHRAK**AUJUST***********
// August 1-10
{5,18}, {5,19}, {5,19}, {5,20}, {5,20}, {5,21}, {5,21}, {5,21}, {5,22}, {5,22},
// August 11-20
{5,22}, {5,23}, {5,23}, {5,24}, {5,24}, {5,24}, {5,25}, {5,25}, {5,25}, {5,26},
// August 21-30
{5,26}, {5,27}, {5,27}, {5,27}, {5,28}, {5,28}, {5,28}, {5,29}, {5,29}, {5,29},
// August 31-31
{5,29},
//******************** (3)ISHRAK**SEPTEMBER**************
// September 1-10
{5,30}, {5,30}, {5,30}, {5,31}, {5,31}, {5,31}, {5,32}, {5,32}, {5,32}, {5,33},
// September 11-20
{5,33}, {5,33}, {5,33}, {5,34}, {5,34}, {5,34}, {5,35}, {5,35}, {5,35}, {5,35},
// September 21-30
{5,36}, {5,36}, {5,36}, {5,37}, {5,37}, {5,37}, {5,37}, {5,38}, {5,38}, {5,38},

//******************** (3)ISHRAK**OCTOBER************
// October 1-10
{5,39}, {5,39}, {5,39}, {5,40}, {5,40}, {5,40}, {5,41}, {5,41}, {5,41}, {5,42},
// October 11-20
{5,42}, {5,43}, {5,43}, {5,43}, {5,44}, {5,44}, {5,45}, {5,45}, {5,45}, {5,46},
// October 21-30
{5,46}, {5,47}, {5,47}, {5,48}, {5,48}, {5,49}, {5,49}, {5,50}, {5,50}, {5,51},
// October 31-31
{5,51},
//******************** (3)ISHRAK*NOVEMBER********************
// November 1-10
{5,52}, {5,52}, {5,53}, {5,53}, {5,54}, {5,54}, {5,55}, {5,56}, {5,56}, {5,57},
// November 11-20
{5,57}, {5,58}, {5,59}, {5,59}, {5,59}, {6,0}, {6,1}, {6,2}, {6,2}, {6,3},
// November 21-30
{6,3}, {6,4}, {6,5}, {6,6}, {6,7}, {6,8}, {6,8}, {6,9}, {6,10}, {6,10},

//******************** (3)ISHRAK*DECEMBER**********
// December 1-10
{6,10}, {6,11}, {6,12}, {6,12}, {6,13}, {6,14}, {6,14}, {6,15}, {6,16}, {6,16},
// December 11-20
{6,17}, {6,18}, {6,18}, {6,19}, {6,19}, {6,20}, {6,20}, {6,21}, {6,22}, {6,22},
// December 21-30
{6,23}, {6,23}, {6,24}, {6,24}, {6,25}, {6,25}, {6,25}, {6,26}, {6,26}, {6,27},
// December 31-31
{6,27},
};

//********************* (3) ISHRAK 366 DAYS DATA END******************
//**********************(3) ISHRAK 366 DAYS DATA END******************

//******************  (4 ) CHASAT JANUARY 366 DAYS DATA START******************
const TimeData CHASAT_FLASH_DATA[366] PROGMEM = {
  // January (31 days) - CHASAT TIME
  {6,44}, {6,45}, {6,45}, {6,46}, {6,46}, {6,47}, {6,47}, {6,48}, {6,48}, {6,49},
  {6,49}, {6,50}, {6,50}, {6,51}, {6,51}, {6,51}, {6,52}, {6,52}, {6,52}, {6,53},
  {6,53}, {6,53}, {6,54}, {6,54}, {6,54}, {6,54}, {6,54}, {6,54}, {6,55}, {6,55}, {6,55},

  // February (29 days)****(4 ) CHASAT*** FEBRUARY
  {6,55}, {6,55}, {6,55}, {6,55}, {6,55}, {6,56}, {6,56}, {6,56}, {6,56}, {6,56},
  {6,56}, {6,56}, {6,56}, {6,56}, {6,56}, {6,56}, {6,56}, {6,56}, {6,55}, {6,55},
  {6,55}, {6,55}, {6,55}, {6,55}, {6,55}, {6,54}, {6,54}, {6,54}, {6,54},

  // March (31 days)***  (4 ) CHASAT*****MARCH
  {6,54}, {6,54}, {6,54}, {6,53}, {6,53}, {6,53}, {6,53}, {6,52}, {6,52}, {6,52},
  {6,52}, {6,51}, {6,51}, {6,51}, {6,51}, {6,50}, {6,50}, {6,50}, {6,49}, {6,49},
  {6,49}, {6,48}, {6,48}, {6,48}, {6,48}, {6,47}, {6,47}, {6,47}, {6,46}, {6,46}, {6,46},

  // April (30 days)  (4 )*** CHASAT*****APRIL
  {6,46}, {6,45}, {6,45}, {6,45}, {6,44}, {6,44}, {6,44}, {6,43}, {6,43}, {6,43},
  {6,43}, {6,42}, {6,42}, {6,42}, {6,42}, {6,42}, {6,41}, {6,41}, {6,41}, {6,41},
  {6,40}, {6,40}, {6,40}, {6,40}, {6,40}, {6,39}, {6,39}, {6,39}, {6,39}, {6,39},

  // May (31 days)    (4 ) ***CHASAT*****MAY
  {6,38}, {6,38}, {6,38}, {6,38}, {6,38}, {6,38}, {6,38}, {6,38}, {6,38}, {6,38},
  {6,38}, {6,38}, {6,38}, {6,38}, {6,38}, {6,38}, {6,38}, {6,38}, {6,38}, {6,38},
  {6,38}, {6,38}, {6,38}, {6,38}, {6,38}, {6,38}, {6,38}, {6,38}, {6,38}, {6,39}, {6,39},

  // June (30 days)(4 ) ******CHASAT*****JUNE
  {6,39}, {6,39}, {6,39}, {6,39}, {6,39}, {6,40}, {6,40}, {6,40}, {6,40}, {6,40},
  {6,41}, {6,41}, {6,41}, {6,41}, {6,41}, {6,42}, {6,42}, {6,42}, {6,42}, {6,42},
  {6,43}, {6,43}, {6,43}, {6,43}, {6,43}, {6,44}, {6,44}, {6,44}, {6,45}, {6,45},

  // July (31 days)*******(4 ) CHASAT*JULY
  {6,45}, {6,45}, {6,45}, {6,45}, {6,45}, {6,46}, {6,46}, {6,46}, {6,46}, {6,46},
  {6,46}, {6,46}, {6,46}, {6,46}, {6,46}, {6,47}, {6,47}, {6,47}, {6,47}, {6,47},
  {6,47}, {6,47}, {6,47}, {6,47}, {6,47}, {6,47}, {6,47}, {6,47}, {6,47}, {6,47}, {6,47},

  // August (31 days)(4 ) CHASAT*AUGUST
  {6,47}, {6,47}, {6,47}, {6,47}, {6,47}, {6,47}, {6,47}, {6,47}, {6,46}, {6,46},
  {6,46}, {6,46}, {6,46}, {6,46}, {6,46}, {6,45}, {6,45}, {6,45}, {6,45}, {6,45},
  {6,44}, {6,44}, {6,44}, {6,44}, {6,43}, {6,43}, {6,43}, {6,43}, {6,43}, {6,43}, {6,43},

  // September (30 days)******(4 ) CHASAT*SEPTEMBER
  {6,42}, {6,41}, {6,41}, {6,41}, {6,40}, {6,40}, {6,40}, {6,39}, {6,39}, {6,39},
  {6,38}, {6,38}, {6,38}, {6,37}, {6,37}, {6,36}, {6,36}, {6,36}, {6,35}, {6,35},
  {6,35}, {6,34}, {6,34}, {6,34}, {6,33}, {6,33}, {6,33}, {6,32}, {6,32}, {6,32},

  // October (31 days)******(4 ) CHASAT*OCTOBER
  {6,31}, {6,31}, {6,31}, {6,30}, {6,30}, {6,30}, {6,29}, {6,29}, {6,29}, {6,28},
  {6,28}, {6,28}, {6,28}, {6,27}, {6,27}, {6,27}, {6,27}, {6,27}, {6,26}, {6,26},
  {6,26}, {6,26}, {6,26}, {6,25}, {6,25}, {6,25}, {6,25}, {6,25}, {6,25}, {6,25}, {6,25},

  // November (30 days)******(4 ) CHASAT*NOVEMBER
  {6,25}, {6,25}, {6,25}, {6,25}, {6,25}, {6,25}, {6,26}, {6,26}, {6,26}, {6,26},
  {6,26}, {6,26}, {6,26}, {6,26}, {6,26}, {6,26}, {6,26}, {6,26}, {6,27}, {6,27},
  {6,27}, {6,27}, {6,28}, {6,28}, {6,28}, {6,28}, {6,29}, {6,29}, {6,29}, {6,30},

  // December (31 days)******(4 ) CHASAT*DECEMBER
  {6,30}, {6,31}, {6,31}, {6,31}, {6,32}, {6,32}, {6,33}, {6,33}, {6,34}, {6,34},
  {6,34}, {6,35}, {6,35}, {6,36}, {6,37}, {6,37}, {6,38}, {6,38}, {6,39}, {6,39},
  {6,40}, {6,40}, {6,41}, {6,41}, {6,42}, {6,42}, {6,43}, {6,43}, {6,44}, {6,44}, {6,45},
};
//********************(4 ) CHASAT**366 DAYS DATA END******************
//********************(4 ) CHASAT**366 DAYS DATA END******************


//******************** (5) JAWAL 366 DATA START****************
const TimeData JAWAL_FLASH_DATA[366] PROGMEM = {
  //January 31 days  FINAL CORRECTED
//FORBIDEN TIME JANUARY to DECEMBER

// January 1-10*** (5) JANUARY****JAWAL******
{11,40}, {11,40}, {11,41}, {11,41}, {11,42}, {11,42}, {11,43}, {11,43}, {11,44}, {11,44},
// January 11-20
{11,45}, {11,45}, {11,45}, {11,46}, {11,46}, {11,46}, {11,47}, {11,47}, {11,47}, {11,48},
// January 21-30
{11,48}, {11,48}, {11,49}, {11,49}, {11,49}, {11,49}, {11,49}, {11,49}, {11,50}, {11,50},
// January 31-31
{11,50},
//*************************(5)JAWAL FEBRUARY*********************
// February 1-10
{11,50}, {11,50}, {11,50}, {11,50}, {11,50}, {11,51}, {11,51}, {11,51}, {11,51}, {11,51},
// February 11-20
{11,51}, {11,51}, {11,51}, {11,51}, {11,51}, {11,51}, {11,51}, {11,51}, {11,50}, {11,50},
// February 21-29
{11,50}, {11,50}, {11,50}, {11,50}, {11,50}, {11,49}, {11,49}, {11,49},{11,49},


//*************************(5)JAWAL MARCH*************************

// March 1-10
{11,49}, {11,49}, {11,49}, {11,48}, {11,48}, {11,48}, {11,48}, {11,47}, {11,47}, {11,47},
// March 11-20
{11,47}, {11,46}, {11,46}, {11,46}, {11,46}, {11,45}, {11,45}, {11,45}, {11,44}, {11,44},
// March 21-30
{11,44}, {11,43}, {11,43}, {11,43}, {11,43}, {11,42}, {11,42}, {11,42}, {11,41}, {11,41},
// March 31-31
{11,41},
//*************************(5)JAWAL**APRIL*************************

// April 1-10
{11,41}, {11,40}, {11,40}, {11,40}, {11,39}, {11,39}, {11,39}, {11,38}, {11,38}, {11,38},
// April 11-20
{11,38}, {11,37}, {11,37}, {11,37}, {11,37}, {11,37}, {11,36}, {11,36}, {11,36}, {11,36},
// April 21-30
{11,35}, {11,35}, {11,35}, {11,35}, {11,35}, {11,34}, {11,34}, {11,34}, {11,34}, {11,34},

//****************************(5)JAWAL** MAY**********************
// May 1-10
{11,33}, {11,33}, {11,33}, {11,33}, {11,33}, {11,33}, {11,33}, {11,33}, {11,33}, {11,33},
// May 11-20
{11,33}, {11,33}, {11,33}, {11,33}, {11,33}, {11,33}, {11,33}, {11,33}, {11,33}, {11,33},
// May 21-30
{11,33}, {11,33}, {11,33}, {11,33}, {11,33}, {11,33}, {11,33}, {11,33}, {11,33}, {11,34},
// May 31-31
{11,34},
//**************************(5)JAWAL** JUNE******************
// June 1-10
{11,34}, {11,34}, {11,34}, {11,34}, {11,34}, {11,35}, {11,35}, {11,35}, {11,35}, {11,35},
// June 11-20
{11,36}, {11,36}, {11,36}, {11,36}, {11,36}, {11,37}, {11,37}, {11,37}, {11,37}, {11,37},
// June 21-30
{11,38}, {11,38}, {11,38}, {11,38}, {11,38}, {11,39}, {11,39}, {11,39}, {11,40}, {11,40},

//*************************(5)JAWAL** JULY*****************
// July 1-10
{11,40}, {11,40}, {11,40}, {11,40}, {11,40}, {11,41}, {11,41}, {11,41}, {11,41}, {11,41},
// July 11-20
{11,41}, {11,41}, {11,41}, {11,41}, {11,41}, {11,42}, {11,42}, {11,42}, {11,42}, {11,42},
// July 21-30
{11,42}, {11,42}, {11,42}, {11,42}, {11,42}, {11,42}, {11,42}, {11,42}, {11,42}, {11,42},
// July 31-31
{11,42},
//******************************(5)JAWAL** AUGUST*****************
// August 1-10
{11,42}, {11,42}, {11,42}, {11,42}, {11,42}, {11,42}, {11,42}, {11,42}, {11,41}, {11,41},
// August 11-20
{11,41}, {11,41}, {11,41}, {11,41}, {11,41}, {11,40}, {11,40}, {11,40}, {11,40}, {11,40},
// August 21-30
{11,39}, {11,39}, {11,39}, {11,39}, {11,38}, {11,38}, {11,38}, {11,38}, {11,38}, {11,38},
// August 31-31
{11,38},
//*****************************(5)JAWAL** SEPTEMBER*****************
// September 1-10
{11,37}, {11,36}, {11,36}, {11,36}, {11,35}, {11,35}, {11,35}, {11,34}, {11,34}, {11,34},
// September 11-20
{11,33}, {11,33}, {11,33}, {11,32}, {11,32}, {11,31}, {11,31}, {11,31}, {11,30}, {11,30},
// September 21-30
{11,30}, {11,29}, {11,29}, {11,29}, {11,28}, {11,28}, {11,28}, {11,27}, {11,27}, {11,27},

//****************************(5)JAWAL** OCTOBERBER***********************
// October 1-10
{11,26}, {11,26}, {11,26}, {11,25}, {11,25}, {11,25}, {11,24}, {11,24}, {11,24}, {11,23},
// October 11-20
{11,23}, {11,23}, {11,23}, {11,22}, {11,22}, {11,22}, {11,22}, {11,22}, {11,21}, {11,21},
// October 21-30
{11,21}, {11,21}, {11,21}, {11,20}, {11,20}, {11,20}, {11,20}, {11,20}, {11,20}, {11,20},
// October 31-31
{11,20},
//****************************(5)JAWAL** NOVEMBER*********************
// November 1-10
{11,20}, {11,20}, {11,20}, {11,20}, {11,20}, {11,20}, {11,21}, {11,21}, {11,21}, {11,21},
// November 11-20
{11,21}, {11,21}, {11,21}, {11,21}, {11,21}, {11,21}, {11,21}, {11,21}, {11,22}, {11,22},
// November 21-30
{11,22}, {11,22}, {11,23}, {11,23}, {11,23}, {11,23}, {11,24}, {11,24}, {11,24}, {11,25},

//*****************************(5)JAWAL** DECEMBER****************************
// December 1-10
{11,25}, {11,26}, {11,26}, {11,26}, {11,27}, {11,27}, {11,28}, {11,28}, {11,29}, {11,29},
// December 11-20
{11,29}, {11,30}, {11,30}, {11,31}, {11,32}, {11,32}, {11,33}, {11,33}, {11,34}, {11,34},
// December 21-30
{11,35}, {11,35}, {11,36}, {11,36}, {11,37}, {11,37}, {11,38}, {11,38}, {11,39}, {11,39},{11,40},
};


//********************(5)JAWAL** 366 DATA END****************
//********************(5)JAWAL**366 DATA END****************

//************************ (6)  JOHOR** 366 DATA START*******************************************
//************************* (6)  JOHOR**366 DATA START***********************

const TimeData JOHOR_FLASH_DATA[366] PROGMEM = {


//*********************** (6)  JOHOR JANUARY*********************
// January 1-10
{12,2}, {12,2}, {12,3}, {12,3}, {12,4}, {12,4}, {12,5}, {12,5}, {12,6}, {12,6},
// January 11-20
{12,7}, {12,7}, {12,7}, {12,8}, {12,8}, {12,8}, {12,9}, {12,9}, {12,9}, {12,10},
// January 21-30
{12,10}, {12,10}, {12,11}, {12,11}, {12,11}, {12,11}, {12,11}, {12,11}, {12,12}, {12,12},
// January 31-31
{12,12},
//**************************(6)  JOHOR  FEBRUARY******************
// February 1-10
{12,12}, {12,12}, {12,12}, {12,12}, {12,12}, {12,13}, {12,13}, {12,13}, {12,13}, {12,13},
// February 11-20
{12,13}, {12,13}, {12,13}, {12,13}, {12,13}, {12,13}, {12,13}, {12,13}, {12,12}, {12,12},
// February 21-29
{12,12}, {12,12}, {12,12}, {12,12}, {12,12}, {12,11}, {12,11}, {12,11},{12,11},


//************************** (6)  JOHOR**MARCH******************************

// March 1-10
{12,11}, {12,11}, {12,11}, {12,10}, {12,10}, {12,10}, {12,10}, {12,9}, {12,9}, {12,9},
// March 11-20
{12,9}, {12,8}, {12,8}, {12,8}, {12,8}, {12,7}, {12,7}, {12,7}, {12,6}, {12,6},
// March 21-30
{12,6}, {12,5}, {12,5}, {12,5}, {12,5}, {12,4}, {12,4}, {12,4}, {12,3}, {12,3},
// March 31-31
{12,3},
//************************* (6)  JOHOR**APRIL*********************

// April 1-10
{12,3}, {12,2}, {12,2}, {12,2}, {12,1}, {12,1}, {12,1}, {12,0}, {12,0}, {12,0},
// April 11-20
{12,0}, {11,59}, {11,59}, {11,59}, {11,59}, {11,59}, {11,58}, {11,58}, {11,58}, {11,58},
// April 21-30
{11,57}, {11,57}, {11,57}, {11,57}, {11,57}, {11,56}, {11,56}, {11,56}, {11,56}, {11,56},

//************************* (6)  JOHOR**MAY*********************
// May 1-10
{11,55}, {11,55}, {11,55}, {11,55}, {11,55}, {11,55}, {11,55}, {11,55}, {11,55}, {11,55},
// May 11-20
{11,55}, {11,55}, {11,55}, {11,55}, {11,55}, {11,55}, {11,55}, {11,55}, {11,55}, {11,55},
// May 21-30
{11,55}, {11,55}, {11,55}, {11,55}, {11,55}, {11,55}, {11,55}, {11,55}, {11,55}, {11,56},
// May 31-31
{11,56},

//*************************(6)  JOHOR**JUNE*********************
 //June 1-10
{11,56}, {11,56}, {11,56}, {11,56}, {11,56}, {11,57}, {11,57}, {11,57}, {11,57}, {11,57},
// June 11-20
{11,58}, {11,58}, {11,58}, {11,58}, {11,58}, {11,59}, {11,59}, {11,59}, {11,59}, {11,59},
// June 21-30
{12,0}, {12,0}, {12,0}, {12,0}, {12,0}, {12,1}, {12,1}, {12,1}, {12,2}, {12,2},

//***************************(6)  JOHOR**JULY***********************
// July 1-10
{12,2}, {12,2}, {12,2}, {12,2}, {12,2}, {12,3}, {12,3}, {12,3}, {12,3}, {12,3},
// July 11-20
{12,3}, {12,3}, {12,3}, {12,3}, {12,3}, {12,4}, {12,4}, {12,4}, {12,4}, {12,4},
// July 21-30
{12,4}, {12,4}, {12,4}, {12,4}, {12,4}, {12,4}, {12,4}, {12,4}, {12,4}, {12,4},
// July 31-31
{12,4},
//**************************(6)  JOHOR**AUGUST***********************
// August 1-10
{12,4}, {12,4}, {12,4}, {12,4}, {12,4}, {12,4}, {12,4}, {12,4}, {12,3}, {12,3},
// August 11-20
{12,3}, {12,3}, {12,3}, {12,3}, {12,3}, {12,2}, {12,2}, {12,2}, {12,2}, {12,2},
// August 21-30
{12,1}, {12,1}, {12,1}, {12,1}, {12,0}, {12,0}, {12,0}, {12,0}, {12,0}, {12,0},
// August 31-31
{12,0},
//*************************(6)  JOHOR**SEPTEMBER**************T**
// September 1-10
{11,59}, {11,58}, {11,58}, {11,58}, {11,57}, {11,57}, {11,57}, {11,56}, {11,56}, {11,56},
// September 11-20
{11,55}, {11,55}, {11,55}, {11,54}, {11,54}, {11,53}, {11,53}, {11,53}, {11,52}, {11,52},
// September 21-30
{11,52}, {11,51}, {11,51}, {11,51}, {11,50}, {11,50}, {11,50}, {11,49}, {11,49}, {11,49},

//****************************(6)  JOHOR**OCTOBER*****************
// October 1-10
{11,48}, {11,48}, {11,48}, {11,47}, {11,47}, {11,47}, {11,46}, {11,46}, {11,46}, {11,45},
// October 11-20
{11,45}, {11,45}, {11,45}, {11,44}, {11,44}, {11,44}, {11,44}, {11,44}, {11,43}, {11,43},
// October 21-30
{11,43}, {11,43}, {11,43}, {11,42}, {11,42}, {11,42}, {11,42}, {11,42}, {11,42}, {11,42},
// October 31-31
{11,42},
//*******************************(6)  JOHOR***NOVEMBER***********************
// November 1-10
{11,42}, {11,42}, {11,42}, {11,42}, {11,42}, {11,42}, {11,43}, {11,43}, {11,43}, {11,43},
// November 11-20
{11,43}, {11,43}, {11,43}, {11,43}, {11,43}, {11,43}, {11,43}, {11,43}, {11,44}, {11,44},
// November 21-30
{11,44}, {11,44}, {11,45}, {11,45}, {11,45}, {11,45}, {11,46}, {11,46}, {11,46}, {11,47},

//**********************(6)  JOHOR**DECEMBER******************************
// December 1-10
{11,47}, {11,48}, {11,48}, {11,48}, {11,49}, {11,49}, {11,50}, {11,50}, {11,51}, {11,51},
// December 11-20
{11,51}, {11,52}, {11,52}, {11,53}, {11,54}, {11,54}, {11,55}, {11,55}, {11,56}, {11,56},
// December 21-30
{11,57}, {11,57}, {11,58}, {11,58}, {11,59}, {11,59}, {12,0}, {12,0}, {12,1}, {12,1},{12,2},
};

//**************************************************************************************************
//****************************(6)  JOHOR*366 DAYS DATA END*********************************
//****************************(6)  JOHOR*366 DAYS DATA END*********************************


//****************************(7)  ASOR_START*366 DAYS   *********************************
//****************************(7)  ASOR_START*366 DAYS   *********************************

//*****************************(7)  ASOR_START JANUARY***********************************

const TimeData ASOR_START_FLASH_DATA[366] PROGMEM = {
  // January 1-10 
  {3,27}, {3,28}, {3,29}, {3,29}, {3,30}, {3,31}, {3,31}, {3,32}, {3,33}, {3,33},
  // January 11-20
  {3,34}, {3,35}, {3,36}, {3,36}, {3,37}, {3,38}, {3,38}, {3,39}, {3,40}, {3,41},
  // January 21-31
  {3,41}, {3,42}, {3,43}, {3,43}, {3,44}, {3,45}, {3,45}, {3,46}, {3,47}, {3,47}, {3,47},
  
//*************************************(7)  ASOR_START***********************************
  // February 1-10 
  {3,48}, {3,49}, {3,50}, {3,51}, {3,51}, {3,51}, {3,52}, {3,53}, {3,53}, {3,54},
  // February 11-20
  {3,54}, {3,54}, {3,55}, {3,56}, {3,56}, {3,57}, {3,57}, {3,58}, {3,58}, {3,59},
  // February 21-29
  {3,59}, {3,59}, {8,0}, {8,0}, {8,0}, {8,0}, {8,1}, {8,1}, {8,2},

  //*************************************(7)  ASOR_START***********************************
  // March 1-10 
  {8,2}, {8,2}, {8,2}, {8,3}, {8,3}, {8,3}, {8,3}, {8,4}, {8,4}, {8,4},
  // March 11-20
  {8,4}, {8,4}, {8,5}, {8,5}, {8,5}, {8,5}, {8,6}, {8,6}, {8,6}, {8,6},
  // March 21-31
  {8,6}, {8,6}, {8,6}, {8,6}, {8,6}, {8,7}, {8,7}, {8,7}, {8,7}, {8,7}, {8,7},

//*************************************(7)  ASOR_START***********************************
  
  // April 1-10 
  {8,7}, {8,7}, {8,7}, {8,7}, {8,7}, {8,7}, {8,7}, {8,7}, {8,7}, {8,7},
  // April 11-20
  {8,7}, {8,7}, {8,7}, {8,7}, {8,7}, {8,7}, {8,7}, {8,7}, {8,8}, {8,8},
  // April 21-30
  {8,8}, {8,8}, {8,8}, {8,8}, {8,8}, {8,8}, {8,8}, {8,8}, {8,8}, {8,8},

//*************************************(7)  ASOR_START***********************************
  
  // May 1-10 
  {8,8}, {8,8}, {8,8}, {8,8}, {8,8}, {8,8}, {8,8}, {8,8}, {8,9}, {8,9},
  // May 11-20
  {8,9}, {8,9}, {8,9}, {8,9}, {8,9}, {8,9}, {8,9}, {8,9}, {8,9}, {8,9},
  // May 21-31
  {8,9}, {8,9}, {8,9}, {8,9}, {8,10}, {8,10}, {8,11}, {8,11}, {8,11}, {8,11}, {8,11},

//*************************************(7)  ASOR_START***********************************
  
  // June 1-10 
  {8,11}, {8,11}, {8,12}, {8,12}, {8,13}, {8,13}, {8,13}, {8,14}, {8,14}, {8,14},
  // June 11-20
  {8,14}, {8,15}, {8,14}, {8,15}, {8,16}, {8,16}, {8,16}, {8,16}, {8,17}, {8,17},
  // June 21-30
  {8,17}, {8,17}, {8,18}, {8,18}, {8,18}, {8,18}, {8,18}, {8,18}, {8,18}, {8,18},

//*************************************(7)  ASOR_START***********************************
  
  // July 1-10 
  {8,18}, {8,18}, {8,18}, {8,18}, {8,18}, {8,18}, {8,18}, {8,19}, {8,19}, {8,19},
  // July 11-20
  {8,19}, {8,19}, {8,19}, {8,19}, {8,19}, {8,20}, {8,20}, {8,20}, {8,20}, {8,20},
  // July 21-31
  {8,20}, {8,20}, {8,19}, {8,19}, {8,19}, {8,19}, {8,19}, {8,19}, {8,19}, {8,19}, {8,19},

//*************************************(7)  ASOR_START***********************************
  
  // August 1-10 
  {8,18}, {8,18}, {8,18}, {8,18}, {8,18}, {8,18}, {8,17}, {8,17}, {8,17}, {8,16},
  // August 11-20
  {8,16}, {8,16}, {8,16}, {8,15}, {8,14}, {8,14}, {8,14}, {8,13}, {8,13}, {8,13},
  // August 21-31
  {8,12}, {8,12}, {8,10}, {8,10}, {8,10}, {8,10}, {8,9}, {8,9}, {8,9}, {8,7}, {8,7},

//*************************************(7)  ASOR_START***********************************
  
  // September 1-10 
  {8,0}, {8,0}, {8,0}, {8,0}, {8,0}, {8,3}, {8,0}, {8,2}, {8,1}, {8,1},
  // September 11-20
  {8,0}, {3,59}, {3,58}, {3,57}, {3,56}, {3,55}, {3,55}, {3,53}, {3,53}, {3,53},
  // September 21-30
  {3,52}, {3,52}, {3,51}, {3,50}, {5,49}, {5,49}, {5,48}, {5,47}, {5,46}, {5,46},

//*************************************(7)  ASOR_START***********************************
  
  // October 1-10 
  {3,45}, {3,44}, {3,43}, {3,43}, {3,42}, {3,42}, {3,40}, {3,39}, {3,39}, {3,37},
  // October 11-20
  {3,36}, {3,36}, {3,35}, {3,34}, {3,33}, {3,33}, {3,43}, {3,33}, {3,33}, {3,33},
  // October 21-31
  {3,33}, {3,28}, {3,27}, {5,27}, {5,26}, {5,26}, {5,25}, {5,25}, {5,25}, {5,24}, {5,24},

//*************************************(7)  ASOR_START***********************************
  
  // November 1-10 
  {3,23}, {3,23}, {3,22}, {3,21}, {3,21}, {3,21}, {3,20}, {3,20}, {3,19}, {3,18},
  // November 11-20
  {3,18}, {3,18}, {3,17}, {3,17}, {3,17}, {3,17}, {3,16}, {3,16}, {3,16}, {3,16},
  // November 21-30
  {3,16}, {3,16}, {3,16}, {3,15}, {3,15}, {3,15}, {3,15}, {3,15}, {3,15}, {3,15},

//*************************************(7)  ASOR_START***********************************
  
  // December 1-10 
  {3,15}, {3,15}, {3,15}, {3,15}, {3,16}, {3,16}, {3,16}, {3,16}, {3,17}, {3,17},
  // December 11-20
  {3,17}, {3,17}, {3,18}, {3,18}, {3,18}, {3,19}, {3,19}, {3,20}, {3,20}, {3,21},
  // December 21-31
  {3,21}, {3,22}, {3,23}, {3,24}, {3,24}, {3,24}, {3,25}, {3,25}, {3,26}, {3,27}, {3,27},
};


//*****************(7)  ASOR_START 366 DATA END*********************
//******************(7)  ASOR_START 366 DATA END**********************



//****************************(8)  ASOR_END*366 DAYS  DATA START *********************************
//****************************(8)  ASOR_END*366 DAYS  DATA START *********************************

//*************************************(8)  ASOR_END***********************************

const TimeData ASOR_END_FLASH_DATA[366] PROGMEM = {
  // January 1-10 

// January 1-31 
{5,0}, {5,1}, {5,1}, {5,2}, {5,3}, {5,4}, {5,5}, {5,5}, {5,6}, {5,7},
{5,7}, {5,8}, {5,9}, {5,10}, {5,10}, {5,10}, {5,11}, {5,12}, {5,13}, {5,13},
{5,14}, {5,15}, {5,15}, {5,16}, {5,17}, {5,18}, {5,18}, {5,19}, {5,19}, {5,20},
{5,21},

//*************************************(8)  ASOR_END***********************************
// February 1-29 
{5,21}, {5,22}, {5,23}, {5,24}, {5,25}, {5,25}, {5,26}, {5,26}, {5,27}, {5,28},
{5,28}, {5,29}, {5,30}, {5,30}, {5,30}, {5,31}, {5,31}, {5,31}, {5,32}, {5,32},
{5,33}, {5,33}, {5,34}, {5,34}, {5,35}, {5,35}, {5,36}, {5,36}, {5,37},

//*************************************(8)  ASOR_END***********************************
// March 1-31 
{5,37}, {5,37}, {5,38}, {5,38}, {5,38}, {5,39}, {5,39}, {5,40}, {5,40}, {5,41},
{5,41}, {5,41}, {5,42}, {5,42}, {5,42}, {5,43}, {5,43}, {5,44}, {5,44}, {5,45},
{5,45}, {5,45}, {5,46}, {5,46}, {5,46}, {5,46}, {5,46}, {5,47}, {5,47}, {5,48},
{5,48},

//*************************************(8)  ASOR_END***********************************
// April 1-30 
{5,48}, {5,49}, {5,49}, {5,49}, {5,50}, {5,50}, {5,51}, {5,51}, {5,51}, {5,52},
{5,52}, {5,52}, {5,53}, {5,53}, {5,53}, {5,54}, {5,54}, {5,55}, {5,55}, {5,55},
{5,56}, {5,56}, {5,57}, {5,57}, {5,57}, {5,58}, {5,58}, {5,59}, {5,59}, {5,59},

//*************************************(8)  ASOR_END***********************************
// May 1-31 
{6,0}, {6,0}, {6,1}, {6,1}, {6,2}, {6,2}, {6,2}, {6,2}, {6,3}, {6,4},
{6,4}, {6,5}, {6,5}, {6,6}, {6,6}, {6,7}, {6,7}, {6,7}, {6,8}, {6,8},
{6,9}, {6,9}, {6,10}, {6,10}, {6,11}, {6,11}, {6,11}, {6,12}, {6,12}, {6,13},
{6,13},

//*************************************(8)  ASOR_END***********************************
// June 1-30 
{6,14}, {6,14}, {6,14}, {6,15}, {6,15}, {6,16}, {6,16}, {6,17}, {6,17}, {6,17},
{6,18}, {6,18}, {6,18}, {6,19}, {6,19}, {6,19}, {6,20}, {6,20}, {6,20}, {6,20},
{6,20}, {6,21}, {6,21}, {6,21}, {6,21}, {6,21}, {6,21}, {6,22}, {6,22}, {6,22},

//*************************************(8)  ASOR_END***********************************
// July 1-31 
{6,22}, {6,22}, {6,22}, {6,22}, {6,22}, {6,22}, {6,22}, {6,22}, {6,22}, {6,21},
{6,21}, {6,21}, {6,21}, {6,21}, {6,21}, {6,21}, {6,20}, {6,20}, {6,20}, {6,20},
{6,19}, {6,19}, {6,19}, {6,18}, {6,18}, {6,17}, {6,17}, {6,17}, {6,16}, {6,16},
{6,16},

//*************************************(8)  ASOR_END***********************************
// August 1-31 
{6,15}, {6,14}, {6,14}, {6,13}, {6,12}, {6,12}, {6,11}, {6,11}, {6,10}, {6,9},
{6,9}, {6,8}, {6,7}, {6,6}, {6,6}, {6,5}, {6,4}, {6,3}, {6,2}, {6,2},
{6,1}, {6,0}, {5,59}, {5,58}, {5,57}, {5,57}, {5,56}, {5,55}, {5,54}, {5,53},
{5,52},

//*************************************(8)  ASOR_END***********************************
// September 1-30 
{5,51}, {5,50}, {5,49}, {5,48}, {5,47}, {5,46}, {5,45}, {5,44}, {5,43}, {5,42},
{5,41}, {5,40}, {5,39}, {5,38}, {5,37}, {5,36}, {5,35}, {5,34}, {5,33}, {5,32},
{5,31}, {5,30}, {5,29}, {5,28}, {5,27}, {5,26}, {5,25}, {5,24}, {5,23}, {5,22},

//*************************************(8)  ASOR_END***********************************
// October 1-31 
{5,22}, {5,21}, {5,20}, {5,18}, {5,18}, {5,17}, {5,16}, {5,15}, {5,14}, {5,13},
{5,12}, {5,11}, {5,10}, {5,10}, {5,9}, {5,8}, {5,7}, {5,6}, {5,5}, {5,5},
{5,3}, {5,3}, {5,2}, {5,2}, {5,1}, {5,0}, {5,0}, {4,59}, {4,58}, {4,58},
{4,57},

//*************************************(8)  ASOR_END***********************************
// November 1-30 
{4,56}, {4,56}, {4,55}, {4,55}, {4,54}, {4,54}, {4,53}, {4,53}, {4,52}, {4,52},
{4,51}, {4,51}, {4,51}, {4,50}, {4,50}, {4,50}, {4,49}, {4,49}, {4,49}, {4,49},
{4,48}, {4,48}, {4,48}, {4,48}, {4,48}, {4,48}, {4,48}, {4,48}, {4,48}, {4,48},

//*************************************(8)  ASOR_END***********************************
// December 1-31 
{4,48}, {4,48}, {4,48}, {4,48}, {4,49}, {4,49}, {4,49}, {4,49}, {4,49}, {4,50},
{4,50}, {4,50}, {4,51}, {4,51}, {4,51}, {4,52}, {4,52}, {4,53}, {4,53}, {4,53},
{4,54}, {4,54}, {4,55}, {4,55}, {4,56}, {4,57}, {4,57}, {4,58}, {4,58}, {4,59}, {4,59},

};
//****************************(8)  ASOR_END*366 DAYS DATA END*********************************
//****************************(8  ASOR_END*366 DAYS DATA END*********************************







//****************************(9)  MAGRIB**366 DAYS DATA START*********************************
//****************************(9)  MAGRIB**366 DAYS DATA START*********************************

//*************************************(9)  MAGRIB_START***********************************

const TimeData MAGRIB_END_FLASH_DATA[366] PROGMEM = {
// January 1-31 MAGRIB
{5,8}, {5,9}, {5,9}, {5,10}, {5,11}, {5,12}, {5,13}, {5,13}, {5,14}, {5,15},
{5,15}, {5,16}, {5,17}, {5,18}, {5,18}, {5,18}, {5,19}, {5,20}, {5,21}, {5,21},
{5,22}, {5,23}, {5,23}, {5,24}, {5,25}, {5,26}, {5,26}, {5,27}, {5,27}, {5,28},
{5,29},


//******************************(9)  MAGRIB_START***********************************
// February 1-29 MAGRIB
{5,29}, {5,30}, {5,31}, {5,32}, {5,33}, {5,33}, {5,34}, {5,34}, {5,35}, {5,36},
{5,36}, {5,37}, {5,38}, {5,38}, {5,38}, {5,39}, {5,39}, {5,39}, {5,40}, {5,40},
{5,41}, {5,41}, {5,42}, {5,42}, {5,43}, {5,43}, {5,44}, {5,44}, {5,45},

//*************************(9)  MAGRIB_START****************
// March 1-31 MAGRIB
{5,45}, {5,45}, {5,46}, {5,46}, {5,46}, {5,47}, {5,47}, {5,48}, {5,48}, {5,49},
{5,49}, {5,49}, {5,50}, {5,50}, {5,50}, {5,51}, {5,51}, {5,52}, {5,52}, {5,53},
{5,53}, {5,53}, {5,54}, {5,54}, {5,54}, {5,54}, {5,54}, {5,55}, {5,55}, {5,56},
{5,56},

//**************************(9)  MAGRIB_START**********************
// April 1-30 MAGRIB
{5,56}, {5,57}, {5,57}, {5,57}, {5,58}, {5,58}, {5,59}, {5,59}, {5,59}, {6,0},
{6,0}, {6,0}, {6,1}, {6,1}, {6,1}, {6,2}, {6,2}, {6,3}, {6,3}, {6,3},
{6,4}, {6,4}, {6,5}, {6,5}, {6,5}, {6,6}, {6,6}, {6,7}, {6,7}, {6,7},

//**************************(9)  MAGRIB_START*************************
// May 1-31 MAGRIB
{6,8}, {6,8}, {6,9}, {6,9}, {6,10}, {6,10}, {6,10}, {6,10}, {6,11}, {6,12},
{6,12}, {6,13}, {6,13}, {6,14}, {6,14}, {6,15}, {6,15}, {6,15}, {6,16}, {6,16},
{6,17}, {6,17}, {6,18}, {6,18}, {6,19}, {6,19}, {6,19}, {6,20}, {6,20}, {6,21},
{6,21},

//*************************(9)  MAGRIB_START***********************************
// June 1-30 MAGRIB
{6,22}, {6,22}, {6,22}, {6,23}, {6,23}, {6,24}, {6,24}, {6,25}, {6,25}, {6,25},
{6,26}, {6,26}, {6,26}, {6,27}, {6,27}, {6,27}, {6,28}, {6,28}, {6,28}, {6,28},
{6,28}, {6,29}, {6,29}, {6,29}, {6,29}, {6,29}, {6,29}, {6,30}, {6,30}, {6,30},

//*************************(9)  MAGRIB_START***********************************
// July 1-31 MAGRIB
{6,30}, {6,30}, {6,30}, {6,30}, {6,30}, {6,30}, {6,30}, {6,30}, {6,30}, {6,29},
{6,29}, {6,29}, {6,29}, {6,29}, {6,29}, {6,29}, {6,28}, {6,28}, {6,28}, {6,28},
{6,27}, {6,27}, {6,27}, {6,26}, {6,26}, {6,25}, {6,25}, {6,25}, {6,24}, {6,24},
{6,24},

//************************(9)  MAGRIB_START***********************************
// August 1-31 MAGRIB
{6,23}, {6,22}, {6,22}, {6,21}, {6,20}, {6,20}, {6,19}, {6,19}, {6,18}, {6,17},
{6,17}, {6,16}, {6,15}, {6,14}, {6,14}, {6,13}, {6,12}, {6,11}, {6,10}, {6,10},
{6,9}, {6,8}, {6,7}, {6,6}, {6,5}, {6,5}, {6,4}, {6,3}, {6,2}, {6,1},
{6,0},

//*********************(9)  MAGRIB_START***********************************
// September 1-30 MAGRIB
{5,59}, {5,58}, {5,57}, {5,56}, {5,55}, {5,54}, {5,53}, {5,52}, {5,51}, {5,50},
{5,49}, {5,48}, {5,47}, {5,46}, {5,45}, {5,44}, {5,43}, {5,42}, {5,41}, {5,40},
{5,39}, {5,38}, {5,37}, {5,36}, {5,35}, {5,34}, {5,33}, {5,32}, {5,31}, {5,30},

//**************************(9)  MAGRIB_START***********************************
// October 1-31 MAGRIB
{5,30}, {5,29}, {5,28}, {5,26}, {5,26}, {5,25}, {5,24}, {5,23}, {5,22}, {5,21},
{5,20}, {5,19}, {5,18}, {5,18}, {5,17}, {5,16}, {5,15}, {5,14}, {5,13}, {5,13},
{5,11}, {5,11}, {5,10}, {5,10}, {5,9}, {5,8}, {5,8}, {5,7}, {5,6}, {5,6},
{5,5},
//**********************(9)  MAGRIB_START***********************************
// November 1-30 MAGRIB
{5,4}, {5,4}, {5,3}, {5,3}, {5,2}, {5,2}, {5,1}, {5,1}, {5,0}, {5,0},
{4,59}, {4,59}, {4,59}, {4,58}, {4,58}, {4,58}, {4,57}, {4,57}, {4,57}, {4,57},
{4,56}, {4,56}, {4,56}, {4,56}, {4,56}, {4,56}, {4,56}, {4,56}, {4,56}, {4,56},

//***********************(9)  MAGRIB_START***********************************
// December 1-31 MAGRIB
{4,56}, {4,56}, {4,56}, {4,56}, {4,57}, {4,57}, {4,57}, {4,57}, {4,57}, {4,58},
{4,58}, {4,58}, {4,59}, {4,59}, {4,59}, {5,0}, {5,0}, {5,1}, {5,1}, {5,1},
{5,2}, {5,2}, {5,3}, {5,3}, {5,4}, {5,5}, {5,5}, {5,6}, {5,6}, {5,7}, {5,7},
};
//*****************************(9)  366 DAYS MAGRIB_START DATA END **********
//****************************(9)  366 DAYS MAGRIB_START DATA END **********



//*****************************(10)   ESHA_START366 DAYS  DATA START **********
//****************************(10)   ESHA_START366 DAYS  DATA START **********

//**************************(10)  ESHA_START***********************************

const TimeData ESHA_FLASH_DATA[366] PROGMEM = {
  // January 1-10 ISHA_START
  {6,23}, {6,24}, {6,24}, {6,25}, {6,25}, {6,26}, {6,27}, {6,27}, {6,28}, {6,29},
  // January 11-20
  {6,29}, {6,30}, {6,30}, {6,31}, {6,31}, {6,32}, {6,33}, {6,33}, {6,34}, {6,34},
  // January 21-31
  {6,35}, {6,36}, {6,36}, {6,37}, {6,37}, {6,38}, {6,39}, {6,39}, {6,40}, {6,40}, {6,41},
  
//**************************(10)  ESHA_START***********************************

  // February 1-10 ISHA_START
  {6,41}, {6,42}, {6,42}, {6,43}, {6,43}, {6,44}, {6,44}, {6,45}, {6,45}, {6,45},
  // February 11-20
  {6,46}, {6,47}, {6,47}, {6,48}, {6,49}, {6,49}, {6,50}, {6,50}, {6,51}, {6,50},
  // February 21-29
  {6,52}, {6,52}, {6,53}, {6,53}, {6,53}, {6,54}, {6,54}, {6,54}, {6,54},

  //**************************(10)  ESHA_START***********************************
  // March 1-10 ISHA_START
  {6,55}, {6,55}, {6,55}, {6,56}, {6,56}, {6,56}, {6,56}, {6,57}, {6,57}, {6,58},
  // March 11-20
  {6,58}, {6,59}, {6,59}, {6,59}, {7,0}, {7,0}, {7,1}, {7,1}, {7,1}, {7,2},
  // March 21-31
  {7,2}, {7,3}, {7,4}, {7,4}, {7,4}, {7,4}, {7,5}, {7,6}, {7,5}, {7,6}, {7,6},

//**************************(10)  ESHA_START***********************************
  
  // April 1-10 ISHA_START
  {7,7}, {7,7}, {7,8}, {7,8}, {7,9}, {7,9}, {7,9}, {7,10}, {7,10}, {7,10},
  // April 11-20
  {7,10}, {7,12}, {7,12}, {7,12}, {7,13}, {7,13}, {7,14}, {7,16}, {7,16}, {7,17},
  // April 21-30
  {7,17}, {7,18}, {7,18}, {7,19}, {7,19}, {7,19}, {7,19}, {7,20}, {7,21}, {7,22},

//**************************(10)  ESHA_START***********************************
  
  // May 1-10 ISHA_START
  {7,22}, {7,23}, {7,24}, {7,24}, {7,25}, {7,25}, {7,26}, {7,27}, {7,27}, {7,27},
  // May 11-20
  {7,29}, {7,29}, {7,30}, {7,31}, {7,32}, {7,32}, {7,33}, {7,33}, {7,34}, {7,34},
  // May 21-31
  {7,35}, {7,36}, {7,36}, {7,36}, {7,38}, {7,38}, {7,39}, {7,40}, {7,40}, {7,41}, {7,41},

//**************************(10)  ESHA_START***********************************
  
  // June 1-10 ISHA_START
  {7,42}, {7,42}, {7,43}, {7,43}, {7,44}, {7,45}, {7,45}, {7,46}, {7,46}, {7,46},
  // June 11-20
  {7,47}, {7,47}, {7,47}, {7,48}, {7,49}, {7,49}, {7,50}, {7,50}, {7,50}, {7,50},
  // June 21-30
  {7,50}, {7,51}, {7,51}, {7,51}, {7,51}, {7,51}, {7,51}, {7,51}, {7,51}, {7,51},

//**************************(10)  ESHA_START***********************************
  
  // July 1-10 ISHA_START
  {7,51}, {7,51}, {7,51}, {7,51}, {7,51}, {7,51}, {7,50}, {7,50}, {7,50}, {7,50},
  // July 11-20
  {7,49}, {7,49}, {7,49}, {7,48}, {7,48}, {7,48}, {7,47}, {7,47}, {7,47}, {7,47},
  // July 21-31
  {7,45}, {7,45}, {7,45}, {7,43}, {7,42}, {7,42}, {7,41}, {7,40}, {7,40}, {7,40}, {7,39},

//**************************(10)  ESHA_START***********************************
  
  // August 1-10 ISHA_START
  {7,38}, {7,38}, {7,36}, {7,36}, {7,36}, {7,35}, {7,35}, {7,35}, {7,34}, {7,33},
  // August 11-20
  {7,32}, {7,31}, {7,30}, {7,29}, {7,28}, {7,27}, {7,26}, {7,25}, {7,24}, {7,23},
  // August 21-31
  {7,21}, {7,20}, {7,20}, {7,19}, {7,18}, {7,17}, {7,15}, {7,14}, {7,14}, {7,13}, {7,12},
  

//**************************(10)  ESHA_START***********************************
  // September 1-10 ISHA_START
  {7,11}, {7,11}, {7,9}, {7,8}, {7,6}, {7,6}, {7,5}, {7,3}, {7,2}, {7,1},
  // September 11-20
  {7,0}, {6,59}, {6,58}, {6,57}, {6,56}, {6,55}, {6,54}, {6,52}, {6,51}, {6,50},
  // September 21-30
  {6,49}, {6,48}, {6,48}, {6,46}, {6,45}, {6,44}, {6,43}, {6,42}, {6,41}, {6,40},

//**************************(10)  ESHA_START***********************************
  
  // October 1-10 ISHA_START
  {6,39}, {6,38}, {6,37}, {6,36}, {6,35}, {6,34}, {6,33}, {6,32}, {6,31}, {6,30},
  // October 11-20
  {6,30}, {6,26}, {6,28}, {6,28}, {6,26}, {6,25}, {6,25}, {6,24}, {6,23}, {6,22},
  // October 21-31
  {6,22}, {6,20}, {6,20}, {6,19}, {6,19}, {6,19}, {6,17}, {6,17}, {6,17}, {6,16}, {6,16},

//**************************(10)  ESHA_START***********************************
  
  // November 1-10 ISHA_START
  {6,15}, {6,15}, {6,14}, {6,13}, {6,13}, {6,13}, {6,13}, {6,13}, {6,12}, {6,12},
  // November 11-20
  {6,12}, {6,12}, {6,12}, {6,12}, {6,10}, {6,10}, {6,10}, {6,10}, {6,10}, {6,10},
  // November 21-30
  {6,10}, {6,10}, {6,10}, {6,10}, {6,10}, {6,10}, {6,10}, {6,10}, {6,10}, {6,10},

//**************************(10)  ESHA_START***********************************
  
  // December 1-10 ISHA_START
  {6,10}, {6,10}, {6,11}, {6,11}, {6,11}, {6,11}, {6,11}, {6,12}, {6,12}, {6,12},
  // December 11-20
  {6,13}, {6,13}, {6,13}, {6,14}, {6,14}, {6,15}, {6,15}, {6,15}, {6,15}, {6,16},
  // December 21-31
  {6,17}, {6,17}, {6,17}, {6,18}, {6,18}, {6,19}, {6,19}, {6,20}, {6,21}, {6,22}, {6,22},
};

//**************************(10)  ESHA_START 366 DAYS DATA END *********************
//**************************(10)  ESHA_START 366 DAYS DATA END *********************


//******* 11  TAHAJUD 366 DAYS DATA START*****************
//*******TAHAJUD 366 DAYS DATA START*****************
const TimeData TAHAJUD_FLASH_DATA[366] PROGMEM = {
  // === JANUARY (31 days) ===
 
//Day 1 to 10
{11,0}, {11,0}, {11,0}, {11,1}, {11,2}, {11,2}, {11,3}, {11,3}, {11,4}, {11,4},
//Day 11 to 20
{11,4}, {11,5}, {11,6}, {11,6}, {11,6}, {11,6}, {11,7}, {11,7}, {11,8}, {11,8},
//Day 21 to 31
{11,8}, {11,9}, {11,9}, {11,9}, {11,10}, {11,10}, {11,10}, {11,11}, {11,11}, {11,11}, {11,11},

//February 29 days
//Day 1 to 10
{11,11}, {11,11}, {11,12}, {11,12}, {11,12}, {11,12}, {11,12}, {11,12}, {11,12}, {11,12},
//Day 11 to 20
{11,12}, {11,12}, {11,12}, {11,12}, {11,12}, {11,12}, {11,12}, {11,12}, {11,12}, {11,12},
//Day 21 to 29
{11,12}, {11,12}, {11,12}, {11,12}, {11,12}, {11,11}, {11,11}, {11,11}, {11,11},

//March 31 days
//Day 1 to 10
{11,11}, {11,11}, {11,11}, {11,11}, {11,11}, {11,10}, {11,10}, {11,10}, {11,10}, {11,10},
//Day 11 to 20
{11,9}, {11,9}, {11,9}, {11,8}, {11,8}, {11,8}, {11,7}, {11,7}, {11,7}, {11,7},
//Day 21 to 31
{11,6}, {11,6}, {11,5}, {11,5}, {11,4}, {11,4}, {11,4}, {11,3}, {11,3}, {11,3}, {11,3},

//April 30 days
//Day 1 to 10
{11,2}, {11,2}, {11,2}, {11,1}, {11,1}, {11,1}, {11,1}, {11,1}, {11,0}, {11,0},
//Day 11 to 20
{10,59}, {10,59}, {10,58}, {10,58}, {10,58}, {10,58}, {10,57}, {10,57}, {10,57}, {10,56},
//Day 21 to 30
{10,56}, {10,56}, {10,56}, {10,55}, {10,55}, {10,55}, {10,54}, {10,54}, {10,54}, {10,54},

//May 31 days
//Day 1 to 10
{10,53}, {10,53}, {10,53}, {10,53}, {10,53}, {10,52}, {10,52}, {10,52}, {10,52}, {10,52},
//Day 11 to 20
{10,52}, {10,51}, {10,51}, {10,51}, {10,51}, {10,51}, {10,51}, {10,51}, {10,51}, {10,51},
//Day 21 to 31
{10,51}, {10,51}, {10,51}, {10,51}, {10,51}, {10,51}, {10,51}, {10,51}, {10,51}, {10,51}, {11,51},

//June 30 days
//Day 1 to 10
{10,51}, {10,51}, {10,51}, {10,51}, {10,51}, {10,52}, {10,52}, {10,52}, {10,52}, {10,52},
//Day 11 to 20
{10,52}, {10,52}, {10,52}, {10,53}, {10,53}, {10,53}, {10,54}, {10,54}, {10,54}, {10,54},
//Day 21 to 30
{10,54}, {10,55}, {10,55}, {10,55}, {10,55}, {10,55}, {10,55}, {10,56}, {10,56}, {10,56},

//July 31 days
//Day 1 to 10
{10,56}, {10,57}, {10,57}, {10,57}, {10,57}, {10,58}, {10,58}, {10,58}, {10,58}, {10,58},
//Day 11 to 20
{10,58}, {10,59}, {10,59}, {10,59}, {10,59}, {11,0}, {11,0}, {11,0}, {11,0}, {11,0},
//Day 21 to 31
{11,0}, {11,1}, {11,1}, {11,1}, {11,1}, {11,1}, {11,1}, {11,1}, {11,1}, {11,2}, {11,2},

//August 31 days
//Day 1 to 10
{11,2}, {11,2}, {11,2}, {11,2}, {11,2}, {11,2}, {11,2}, {11,2}, {11,2}, {11,2},
//Day 11 to 20
{11,2}, {11,2}, {11,1}, {11,1}, {11,1}, {11,1}, {11,1}, {11,1}, {11,0}, {11,0},
//Day 21 to 31
{11,0}, {11,0}, {11,0}, {11,0}, {11,0}, {11,0}, {11,0}, {10,59}, {10,59}, {10,59}, {10,59},

//September 30 days
//Day 1 to 10
{10,58}, {10,58}, {10,58}, {10,57}, {10,57}, {10,57}, {10,57}, {10,56}, {10,56}, {10,55},
//Day 11 to 20
{10,55}, {10,55}, {10,54}, {10,54}, {10,54}, {10,53}, {10,53}, {10,53}, {10,52}, {10,52},
//Day 21 to 30
{10,52}, {10,51}, {10,51}, {10,51}, {10,51}, {10,50}, {10,50}, {10,49}, {10,49}, {10,49},

//October 31 days
//Day 1 to 10
{10,49}, {10,49}, {10,48}, {10,48}, {10,48}, {10,47}, {10,47}, {10,47}, {10,46}, {10,46},
//Day 11 to 20
{10,46}, {10,45}, {10,45}, {10,45}, {10,45}, {10,44}, {10,44}, {10,44}, {10,44}, {10,44},
//Day 21 to 31
{10,43}, {10,43}, {10,43}, {10,43}, {10,43}, {10,42}, {10,42}, {10,42}, {10,42}, {10,42}, {10,42},

//November 30 days
//Day 1 to 10
{10,42}, {10,42}, {10,42}, {10,41}, {10,41}, {10,41}, {10,41}, {10,41}, {10,41}, {10,41},
//Day 11 to 20
{10,41}, {10,41}, {10,41}, {10,41}, {10,41}, {10,41}, {10,42}, {10,42}, {10,42}, {10,43},
//Day 21 to 30
{10,43}, {10,43}, {10,43}, {10,43}, {10,43}, {10,44}, {10,44}, {10,44}, {10,45}, {10,45},

//December 31 days
//Day 1 to 10
{10,45}, {10,46}, {10,46}, {10,46}, {10,47}, {10,47}, {10,48}, {10,48}, {10,48}, {10,49},
//Day 11 to 20
{10,49}, {10,50}, {10,50}, {10,51}, {10,51}, {10,52}, {10,52}, {10,53}, {10,53}, {10,53},
//Day 21 to 31
{10,54}, {10,54}, {10,55}, {10,55}, {10,56}, {10,57}, {10,57}, {10,58}, {10,58}, {10,59}, {10,59},
   
};


//*******   11  TAHAJUD 366 DAYS DATA END******************
//*******   11  TAHAJUD 366 DAYS DATA END******************



//*************   SEHARI START 366 DAYS****************
//*************SEHARI START 366 DAYS****************
const TimeData SEHARI_FLASH_DATA[366] PROGMEM = {
 //January 31 days - Sehri End (Ã Â¦Â¸Ã Â§â€¡Ã Â¦Â¹Ã Â¦Â°Ã Â¦Â¿ Ã Â¦Â¶Ã Â§â€¡Ã Â¦Â·)
//Day 1 to 10 SEHARI
{4,51}, {4,51}, {4,51}, {4,52}, {4,52}, {4,52}, {4,52}, {4,53}, {4,53}, {4,53},
//Day 11 to 20 SEHARI
{4,53}, {4,54}, {4,54}, {4,54}, {4,54},{4,54}, {4,54}, {4,55}, {4,55},{4,55},
//Day 21 to 31 SEHARI
{4,55}, {4,55}, {4,54}, {4,54}, {4,54}, {4,54}, {4,54}, {4,54}, {4,53}, {4,53}, {4,53},

 //February 29 days - Sehri End (Ã Â¦Â¸Ã Â§â€¡Ã Â¦Â¹Ã Â¦Â°Ã Â¦Â¿ Ã Â¦Â¶Ã Â§â€¡Ã Â¦Â·)
//Day 1 to 10 SEHARI
{4,52}, {4,52}, {4,52}, {4,52}, {4,51}, {4,51}, {4,51}, {4,50}, {4,50}, {4,49},
//Day 11 to 20 SEHARI
{4,49}, {4,48}, {4,48}, {4,47}, {4,46}, {4,46}, {4,45}, {4,45}, {4,44}, {4,43},
//Day 21 to 29 SEHARI
{4,43}, {4,42}, {4,41}, {4,41}, {4,40}, {4,39}, {4,38}, {4,38}, {4,37},

 //March 31 days - Sehri End (Ã Â¦Â¸Ã Â§â€¡Ã Â¦Â¹Ã Â¦Â°Ã Â¦Â¿ Ã Â¦Â¶Ã Â§â€¡Ã Â¦Â·)
//Day 1 to 10 SEHARI
{4,37}, {4,37}, {4,36}, {4,35}, {4,35}, {4,33}, {4,33}, {4,31}, {4,31}, {4,30},
//Day 11 to 20 SEHARI
{4,29}, {4,28}, {4,27}, {4,26}, {4,25}, {4,24}, {4,23}, {4,22}, {4,21}, {4,20},
//Day 21 to 31 SEHARI
{4,19}, {4,18}, {4,17}, {4,16}, {4,15}, {4,14}, {4,13}, {4,12}, {4,11}, {4,10}, {4,9},

 //April 30 days - Sehri End (Ã Â¦Â¸Ã Â§â€¡Ã Â¦Â¹Ã Â¦Â°Ã Â¦Â¿ Ã Â¦Â¶Ã Â§â€¡Ã Â¦Â·)
//Day 1 to 10 SEHARI
{4,8}, {4,7}, {4,6}, {4,5}, {4,4}, {4,3}, {4,2}, {4,2}, {4,0}, {3,59},
//Day 11 to 20 SEHARI
{3,58}, {3,57}, {3,56}, {3,55}, {3,54}, {3,53}, {3,52}, {3,51}, {3,50}, {3,49},
//Day 21 to 30 SEHARI
{3,48}, {3,47}, {3,46}, {3,45}, {3,44}, {3,43}, {3,42}, {3,41}, {3,40}, {3,39},

 //May 31 days - Sehri End (Ã Â¦Â¸Ã Â§â€¡Ã Â¦Â¹Ã Â¦Â°Ã Â¦Â¿ Ã Â¦Â¶Ã Â§â€¡Ã Â¦Â·)
//Day 1 to 10 SEHARI
{3,38}, {3,38}, {3,37}, {3,36}, {3,35}, {3,34}, {3,33}, {3,33}, {3,32}, {3,31},
//Day 11 to 20 SEHARI
{3,31}, {3,30}, {3,29}, {3,28}, {3,27}, {3,27}, {3,27}, {3,26}, {3,25}, {3,25},
//Day 21 to 31 SEHARI
{3,24}, {3,24}, {3,23}, {3,23}, {3,22}, {3,22}, {3,22}, {3,21}, {3,21}, {3,21}, {3,20},

 //June 30 days - Sehri End (Ã Â¦Â¸Ã Â§â€¡Ã Â¦Â¹Ã Â¦Â°Ã Â¦Â¿ Ã Â¦Â¶Ã Â§â€¡Ã Â¦Â·)
//Day 1 to 10 SEHARI
{3,20}, {3,20}, {3,19}, {3,19}, {3,19}, {3,19}, {3,19}, {3,18}, {3,18}, {3,18},
//Day 11 to 20 SEHARI
{3,18}, {3,18}, {3,18}, {3,18}, {3,18}, {3,18}, {3,19}, {3,19}, {3,19}, {3,19},
//Day 21 to 30 SEHARI
{3,19}, {3,20}, {3,20}, {3,20}, {3,20}, {3,21}, {3,21}, {3,21}, {3,22}, {3,22},

 //July 31 days - Sehri End (Ã Â¦Â¸Ã Â§â€¡Ã Â¦Â¹Ã Â¦Â°Ã Â¦Â¿ Ã Â¦Â¶Ã Â§â€¡Ã Â¦Â·)
//Day 1 to 10 SEHARI
{3,22}, {3,23}, {3,23}, {3,24}, {3,24}, {3,25}, {3,25}, {3,26}, {3,26}, {3,27},
//Day 11 to 20 SEHARI
{3,27}, {3,28}, {3,28}, {3,29}, {3,29}, {3,30}, {3,31}, {3,31}, {3,32}, {3,32},
//Day 21 to 31 SEHARI
{3,33}, {3,34}, {3,34}, {3,35}, {3,35}, {3,36}, {3,37}, {3,37}, {3,38}, {3,39}, {3,39},

 //August 31 days - Sehri End (Ã Â¦Â¸Ã Â§â€¡Ã Â¦Â¹Ã Â¦Â°Ã Â¦Â¿ Ã Â¦Â¶Ã Â§â€¡Ã Â¦Â·)
//Day 1 to 10 SEHARI
{3,40}, {3,40}, {3,41}, {3,42}, {3,42}, {3,43}, {3,43}, {3,44}, {3,45}, {3,45},
//Day 11 to 20 SEHARI
{3,46}, {3,46}, {3,47}, {3,47}, {3,48}, {3,49}, {3,49}, {3,50}, {3,50}, {3,51},
//Day 21 to 31 SEHARI
{3,51}, {3,52}, {3,52}, {3,53}, {3,54}, {3,54}, {3,55}, {3,55}, {3,55}, {3,56}, {3,56},

 //September 30 days - Sehri End (Ã Â¦Â¸Ã Â§â€¡Ã Â¦Â¹Ã Â¦Â°Ã Â¦Â¿ Ã Â¦Â¶Ã Â§â€¡Ã Â¦Â·)
//Day 1 to 10 SEHARI
{3,56}, {3,57}, {3,58}, {3,58}, {3,58}, {3,59}, {3,59}, {3,59}, {4,0}, {4,1},
//Day 11 to 20 SEHARI
{4,1}, {4,1}, {4,1}, {4,2}, {4,2}, {4,2}, {4,3}, {4,3}, {4,3}, {4,4},
//Day 21 to 30 SEHARI
{4,4}, {4,4}, {4,5}, {4,5}, {4,5}, {4,6}, {4,6}, {4,6}, {4,7}, {4,7},

 //October 31 days - Sehri End (Ã Â¦Â¸Ã Â§â€¡Ã Â¦Â¹Ã Â¦Â°Ã Â¦Â¿ Ã Â¦Â¶Ã Â§â€¡Ã Â¦Â·)
//Day 1 to 10 SEHARI
{4,7}, {4,8}, {4,8}, {4,8}, {4,9}, {4,9}, {4,9}, {4,10}, {4,10}, {4,10},
//Day 11 to 20 SEHARI
{4,11}, {4,11}, {4,11}, {4,12}, {4,12}, {4,12}, {4,13}, {4,13}, {4,14}, {4,14},
//Day 21 to 31 SEHARI
{4,14}, {4,15}, {4,15}, {4,15}, {4,16}, {4,16}, {4,17}, {4,17}, {4,17}, {4,18}, {4,18},

 //November 30 days - Sehri End (Ã Â¦Â¸Ã Â§â€¡Ã Â¦Â¹Ã Â¦Â°Ã Â¦Â¿ Ã Â¦Â¶Ã Â§â€¡Ã Â¦Â·)
//Day 1 to 10 SEHARI
{4,19}, {4,19}, {4,19}, {4,20}, {4,20}, {4,21}, {4,21}, {4,22}, {4,22}, {4,23},
//Day 11 to 20 SEHARI
{4,23}, {4,24}, {4,24}, {4,25}, {4,25}, {4,26}, {4,26}, {4,27}, {4,27}, {4,28},
//Day 21 to 30 SEHARI
{4,28}, {4,29}, {4,30}, {4,30}, {4,31}, {4,31}, {4,32}, {4,32}, {4,33}, {4,34},

 //December 31 days - Sehri End (Ã Â¦Â¸Ã Â§â€¡Ã Â¦Â¹Ã Â¦Â°Ã Â¦Â¿ Ã Â¦Â¶Ã Â§â€¡Ã Â¦Â·)
//Day 1 to 10 SEHARI
{4,34}, {4,35}, {4,35}, {4,36}, {4,37}, {4,37}, {4,38}, {4,38}, {4,39}, {4,39},
//Day 11 to 20 SEHARI
{4,40}, {4,41}, {4,41}, {4,42}, {4,42}, {4,43}, {4,43}, {4,44}, {4,44}, {4,45},
//Day 21 to 31 SEHARI
{4,45}, {4,46}, {4,46}, {4,47}, {4,47}, {4,48}, {4,48}, {4,49}, {4,49}, {4,50}, {4,50},

};
//*************SEHARI END 366 DAYS****************
//*************SEHARI END 366 DAYS****************

//*************IFTAR START 366 DAYS****************
//*************IFTAR START 366 DAYS****************

const TimeData IFTAR_FLASH_DATA[366] PROGMEM = {
  // January 1-10 IFTAR
{5,8}, {5,9}, {5,9}, {5,10}, {5,11}, {5,12}, {5,13}, {5,13}, {5,14}, {5,15},
// January 11-20
{5,15}, {5,16}, {5,17}, {5,18}, {5,18}, {5,18}, {5,19}, {5,20}, {5,21}, {5,21},
// January 21-30
{5,22}, {5,23}, {5,23}, {5,24}, {5,25}, {5,26}, {5,26}, {5,27}, {5,27}, {5,28},
// January 31-31
{5,29},

// February 1-10 IFTAR
{5,29}, {5,30}, {5,31}, {5,32}, {5,33}, {5,33}, {5,34}, {5,34}, {5,35}, {5,36},
// February 11-20
{5,36}, {5,37}, {5,38}, {5,38}, {5,38}, {5,39}, {5,39}, {5,39}, {5,40}, {5,40},
// February 21-29
{5,41}, {5,41}, {5,42}, {5,42}, {5,43}, {5,43}, {5,44}, {5,44},{5,45},

// March 1-10 IFTAR
{5,45}, {5,45}, {5,46}, {5,46}, {5,46}, {5,47}, {5,47}, {5,48}, {5,48}, {5,49},
// March 11-20
{5,49}, {5,49}, {5,50}, {5,50}, {5,50}, {5,51}, {5,51}, {5,52}, {5,52}, {5,53},
// March 21-30
{5,53}, {5,53}, {5,54}, {5,54}, {5,54}, {5,54}, {5,54}, {5,55}, {5,55}, {5,56},
// March 31-31
{5,56},

// April 1-10   IFTAR
{5,56}, {5,57}, {5,57}, {5,57}, {5,58}, {5,58}, {5,59}, {5,59}, {5,59}, {6,0},
// April 11-20
{6,0}, {6,0}, {6,1}, {6,1}, {6,1}, {6,2}, {6,2}, {6,3}, {6,3}, {6,3},
// April 21-30
{6,4}, {6,4}, {6,5}, {6,5}, {6,5}, {6,6}, {6,6}, {6,7}, {6,7}, {6,7},

// May 1-10   IFTAR
{6,8}, {6,8}, {6,9}, {6,9}, {6,10}, {6,10}, {6,10}, {6,10}, {6,11}, {6,12},
// May 11-20
{6,12}, {6,13}, {6,13}, {6,14}, {6,14}, {6,15}, {6,15}, {6,15}, {6,16}, {6,16},
// May 21-30
{6,17}, {6,17}, {6,18}, {6,18}, {6,19}, {6,19}, {6,19}, {6,20}, {6,20}, {6,21},
// May 31-31
{6,21},

// June 1-10    IFTAR
{6,22}, {6,22}, {6,22}, {6,23}, {6,23}, {6,24}, {6,24}, {6,25}, {6,25}, {6,25},
// June 11-20
{6,26}, {6,26}, {6,26}, {6,27}, {6,27}, {6,27}, {6,28}, {6,28}, {6,28}, {6,28},
// June 21-30
{6,28}, {6,29}, {6,29}, {6,29}, {6,29}, {6,29}, {6,29}, {6,30}, {6,30}, {6,30},

// July 1-10    IFTAR
{6,30}, {6,30}, {6,30}, {6,30}, {6,30}, {6,30}, {6,30}, {6,30}, {6,30}, {6,29},
// July 11-20
{6,29}, {6,29}, {6,29}, {6,29}, {6,29}, {6,29}, {6,28}, {6,28}, {6,28}, {6,28},
// July 21-30
{6,27}, {6,27}, {6,27}, {6,26}, {6,26}, {6,25}, {6,25}, {6,25}, {6,24}, {6,24},
// July 31-31
{6,24},

// August 1-10    IFTAR
{6,23}, {6,22}, {6,22}, {6,21}, {6,20}, {6,20}, {6,19}, {6,19}, {6,18}, {6,17},
// August 11-20
{6,17}, {6,16}, {6,15}, {6,14}, {6,14}, {6,13}, {6,12}, {6,11}, {6,10}, {6,10},
// August 21-30
{6,9}, {6,8}, {6,7}, {6,6}, {6,5}, {6,5}, {6,4}, {6,3}, {6,2}, {6,1},
// August 31-31
{6,0},

// September 1-10   IFTAR
{5,59}, {5,58}, {5,57}, {5,56}, {5,55}, {5,54}, {5,53}, {5,52}, {5,51}, {5,50},
// September 11-20
{5,49}, {5,48}, {5,47}, {5,46}, {5,45}, {5,44}, {5,43}, {5,42}, {5,41}, {5,40},
// September 21-30
{5,39}, {5,38}, {5,37}, {5,36}, {5,35}, {5,34}, {5,33}, {5,32}, {5,31}, {5,30},

// October 1-10   IFTAR
{5,30}, {5,29}, {5,28}, {5,26}, {5,26}, {5,25}, {5,24}, {5,23}, {5,22}, {5,21},
// October 11-20
{5,20}, {5,19}, {5,18}, {5,18}, {5,17}, {5,16}, {5,15}, {5,14}, {5,13}, {5,13},
// October 21-30
{5,11}, {5,11}, {5,10}, {5,10}, {5,9}, {5,8}, {5,8}, {5,7}, {5,6}, {5,6},
// October 31-31
{5,5},

// November 1-10    IFTAR
{5,4}, {5,4}, {5,3}, {5,3}, {5,2}, {5,2}, {5,1}, {5,1}, {5,0}, {5,0},
// November 11-20
{4,59}, {4,59}, {4,59}, {4,58}, {4,58}, {4,58}, {4,57}, {4,57}, {4,57}, {4,57},
// November 21-30
{4,56}, {4,56}, {4,56}, {4,56}, {4,56}, {4,56}, {4,56}, {4,56}, {4,56}, {4,56},

// December 1-10    IFTAR
{4,56}, {4,56}, {4,56}, {4,56}, {4,57}, {4,57}, {4,57}, {4,57}, {4,57}, {4,58},
// December 11-20
{4,58}, {4,58}, {4,59}, {4,59}, {4,59}, {5,0}, {5,0}, {5,1}, {5,1}, {5,1},
// December 21-31
{5,2}, {5,2}, {5,3}, {5,3}, {5,4}, {5,5}, {5,5}, {5,6}, {5,6}, {5,7},{5,7},
};
  
//*************IFTAR END 366 DAYS****************
//*************IFTAR END 366 DAYS****************



